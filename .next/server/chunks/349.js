exports.id=349,exports.ids=[349],exports.modules={6648:()=>{},2068:(e,t,n)=>{/*!
 * Pusher JavaScript Library v8.3.0
 * https://pusher.com/
 *
 * Copyright 2020, Pusher
 * Released under the MIT licence.
 */e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,(function(t){return e[t]}).bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=21)}([function(e,t){e.exports=n(3837)},function(e,t,n){var r=n(22),i=r.Buffer;function s(e,t){for(var n in e)t[n]=e[n]}function o(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(s(r,t),t.Buffer=o),s(i,o),o.from=function(e,t,n){if("number"==typeof e)throw TypeError("Argument must not be a number");return i(e,t,n)},o.alloc=function(e,t,n){if("number"!=typeof e)throw TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},o.allocUnsafe=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return i(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){"use strict";var r=n(1).Buffer,i=n(23).EventEmitter,s=n(0),o=n(24),a=n(9),l=n(25),c=function(e,t,n){i.call(this),c.validateOptions(n||{},["maxLength","masking","requireMasking","protocols"]),this._request=e,this._reader=new l,this._options=n||{},this._maxLength=this._options.maxLength||this.MAX_LENGTH,this._headers=new a,this.__queue=[],this.readyState=0,this.url=t,this.io=new o.IO(this),this.messages=new o.Messages(this),this._bindEventListeners()};s.inherits(c,i),c.isWebSocket=function(e){var t=e.headers.connection||"",n=e.headers.upgrade||"";return"GET"===e.method&&t.toLowerCase().split(/ *, */).indexOf("upgrade")>=0&&"websocket"===n.toLowerCase()},c.validateOptions=function(e,t){for(var n in e)if(0>t.indexOf(n))throw Error("Unrecognized option: "+n)};var u={MAX_LENGTH:67108863,STATES:["connecting","open","closing","closed"],_bindEventListeners:function(){var e=this;this.messages.on("error",function(){}),this.on("message",function(t){var n=e.messages;n.readable&&n.emit("data",t.data)}),this.on("error",function(t){var n=e.messages;n.readable&&n.emit("error",t)}),this.on("close",function(){var t=e.messages;t.readable&&(t.readable=t.writable=!1,t.emit("end"))})},getState:function(){return this.STATES[this.readyState]||null},addExtension:function(e){return!1},setHeader:function(e,t){return!(this.readyState>0)&&(this._headers.set(e,t),!0)},start:function(){var e;if(0!==this.readyState)return!1;if(!c.isWebSocket(this._request))return this._failHandshake(Error("Not a WebSocket request"));try{e=this._handshakeResponse()}catch(e){return this._failHandshake(e)}return this._write(e),-1!==this._stage&&this._open(),!0},_failHandshake:function(e){var t=new a;return t.set("Content-Type","text/plain"),t.set("Content-Length",r.byteLength(e.message,"utf8")),t=["HTTP/1.1 400 Bad Request",t.toString(),e.message],this._write(r.from(t.join("\r\n"),"utf8")),this._fail("protocol_error",e.message),!1},text:function(e){return this.frame(e)},binary:function(e){return!1},ping:function(){return!1},pong:function(){return!1},close:function(e,t){return 1===this.readyState&&(this.readyState=3,this.emit("close",new c.CloseEvent(null,null)),!0)},_open:function(){this.readyState=1,this.__queue.forEach(function(e){this.frame.apply(this,e)},this),this.__queue=[],this.emit("open",new c.OpenEvent)},_queue:function(e){return this.__queue.push(e),!0},_write:function(e){var t=this.io;t.readable&&t.emit("data",e)},_fail:function(e,t){this.readyState=2,this.emit("error",Error(t)),this.close()}};for(var h in u)c.prototype[h]=u[h];c.ConnectEvent=function(){},c.OpenEvent=function(){},c.CloseEvent=function(e,t){this.code=e,this.reason=t},c.MessageEvent=function(e){this.data=e},c.PingEvent=function(e){this.data=e},c.PongEvent=function(e){this.data=e},e.exports=c},function(e,t){e.exports=n(6113)},function(e,t,n){"use strict";var r=n(2),i=n(26),s=n(37);e.exports={client:function(e,t){return void 0===(t=t||{}).masking&&(t.masking=!0),new i(e,t)},server:function(e){return void 0===(e=e||{}).requireMasking&&(e.requireMasking=!0),new s(e)},http:function(){return s.http.apply(s,arguments)},isSecureRequest:function(e){return s.isSecureRequest(e)},isWebSocket:function(e){return r.isWebSocket(e)},validateOptions:function(e,t){r.validateOptions(e,t)}}},function(e,t){e.exports=n(2781)},function(e,t){e.exports=n(7310)},function(e,t,n){"use strict";var r=function(e,t){for(var n in this.type=e,t)this[n]=t[n]};r.prototype.initEvent=function(e,t,n){this.type=e,this.bubbles=t,this.cancelable=n},r.prototype.stopPropagation=function(){},r.prototype.preventDefault=function(){},r.CAPTURING_PHASE=1,r.AT_TARGET=2,r.BUBBLING_PHASE=3,e.exports=r},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e){void 0===e&&(e="="),this._paddingCharacter=e}return e.prototype.encodedLength=function(e){return this._paddingCharacter?(e+2)/3*4|0:(8*e+5)/6|0},e.prototype.encode=function(e){for(var t="",n=0;n<e.length-2;n+=3){var r=e[n]<<16|e[n+1]<<8|e[n+2];t+=this._encodeByte(r>>>18&63)+this._encodeByte(r>>>12&63)+this._encodeByte(r>>>6&63)+this._encodeByte(r>>>0&63)}var i=e.length-n;if(i>0){var r=e[n]<<16|(2===i?e[n+1]<<8:0);t+=this._encodeByte(r>>>18&63)+this._encodeByte(r>>>12&63),2===i?t+=this._encodeByte(r>>>6&63):t+=this._paddingCharacter||"",t+=this._paddingCharacter||""}return t},e.prototype.maxDecodedLength=function(e){return this._paddingCharacter?e/4*3|0:(6*e+7)/8|0},e.prototype.decodedLength=function(e){return this.maxDecodedLength(e.length-this._getPaddingLength(e))},e.prototype.decode=function(e){if(0===e.length)return new Uint8Array(0);for(var t=this._getPaddingLength(e),n=e.length-t,r=new Uint8Array(this.maxDecodedLength(n)),i=0,s=0,o=0,a=0,l=0,c=0,u=0;s<n-4;s+=4)a=this._decodeChar(e.charCodeAt(s+0)),l=this._decodeChar(e.charCodeAt(s+1)),c=this._decodeChar(e.charCodeAt(s+2)),u=this._decodeChar(e.charCodeAt(s+3)),r[i++]=a<<2|l>>>4,r[i++]=l<<4|c>>>2,r[i++]=c<<6|u,o|=256&a,o|=256&l,o|=256&c,o|=256&u;if(s<n-1&&(a=this._decodeChar(e.charCodeAt(s)),l=this._decodeChar(e.charCodeAt(s+1)),r[i++]=a<<2|l>>>4,o|=256&a,o|=256&l),s<n-2&&(c=this._decodeChar(e.charCodeAt(s+2)),r[i++]=l<<4|c>>>2,o|=256&c),s<n-3&&(u=this._decodeChar(e.charCodeAt(s+3)),r[i++]=c<<6|u,o|=256&u),0!==o)throw Error("Base64Coder: incorrect characters for decoding");return r},e.prototype._encodeByte=function(e){var t=e;return String.fromCharCode(t+=65+(25-e>>>8&6)+(51-e>>>8&-75)+(61-e>>>8&-15)+(62-e>>>8&3))},e.prototype._decodeChar=function(e){return 256+((42-e&e-44)>>>8&-256+e-43+62)+((46-e&e-48)>>>8&-256+e-47+63)+((47-e&e-58)>>>8&-256+e-48+52)+((64-e&e-91)>>>8&-256+e-65+0)+((96-e&e-123)>>>8&-256+e-97+26)},e.prototype._getPaddingLength=function(e){var t=0;if(this._paddingCharacter){for(var n=e.length-1;n>=0&&e[n]===this._paddingCharacter;n--)t++;if(e.length<4||t>2)throw Error("Base64Coder: incorrect padding")}return t},e}();t.Coder=s;var o=new s;t.encode=function(e){return o.encode(e)},t.decode=function(e){return o.decode(e)};var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype._encodeByte=function(e){var t=e;return String.fromCharCode(t+=65+(25-e>>>8&6)+(51-e>>>8&-75)+(61-e>>>8&-13)+(62-e>>>8&49))},t.prototype._decodeChar=function(e){return 256+((44-e&e-46)>>>8&-256+e-45+62)+((94-e&e-96)>>>8&-256+e-95+63)+((47-e&e-58)>>>8&-256+e-48+52)+((64-e&e-91)>>>8&-256+e-65+0)+((96-e&e-123)>>>8&-256+e-97+26)},t}(s);t.URLSafeCoder=a;var l=new a;t.encodeURLSafe=function(e){return l.encode(e)},t.decodeURLSafe=function(e){return l.decode(e)},t.encodedLength=function(e){return o.encodedLength(e)},t.maxDecodedLength=function(e){return o.maxDecodedLength(e)},t.decodedLength=function(e){return o.decodedLength(e)}},function(e,t,n){"use strict";var r=function(){this.clear()};r.prototype.ALLOWED_DUPLICATES=["set-cookie","set-cookie2","warning","www-authenticate"],r.prototype.clear=function(){this._sent={},this._lines=[]},r.prototype.set=function(e,t){if(void 0!==t){e=this._strip(e),t=this._strip(t);var n=e.toLowerCase();(!this._sent.hasOwnProperty(n)||this.ALLOWED_DUPLICATES.indexOf(n)>=0)&&(this._sent[n]=!0,this._lines.push(e+": "+t+"\r\n"))}},r.prototype.toString=function(){return this._lines.join("")},r.prototype._strip=function(e){return e.toString().replace(/^ */,"").replace(/ *$/,"")},e.exports=r},function(e,t,n){"use strict";var r=n(27).HTTPParser,i=n(1).Buffer,s={request:r.REQUEST||"request",response:r.RESPONSE||"response"},o=function(e){this._type=e,this._parser=new r(s[e]),this._complete=!1,this.headers={};var t=null,n=this;this._parser.onHeaderField=function(e,n,r){t=e.toString("utf8",n,n+r).toLowerCase()},this._parser.onHeaderValue=function(e,r,i){var s=e.toString("utf8",r,r+i);n.headers.hasOwnProperty(t)?n.headers[t]+=", "+s:n.headers[t]=s},this._parser.onHeadersComplete=this._parser[r.kOnHeadersComplete]=function(e,t,r,i,s,a){var l=arguments[0];if("object"==typeof l&&(i=l.method,s=l.url,a=l.statusCode,r=l.headers),n.method="number"==typeof i?o.METHODS[i]:i,n.statusCode=a,n.url=s,r){for(var c,u,h=0,d=r.length;h<d;h+=2)c=r[h].toLowerCase(),u=r[h+1],n.headers.hasOwnProperty(c)?n.headers[c]+=", "+u:n.headers[c]=u;n._complete=!0}}};o.METHODS={0:"DELETE",1:"GET",2:"HEAD",3:"POST",4:"PUT",5:"CONNECT",6:"OPTIONS",7:"TRACE",8:"COPY",9:"LOCK",10:"MKCOL",11:"MOVE",12:"PROPFIND",13:"PROPPATCH",14:"SEARCH",15:"UNLOCK",16:"BIND",17:"REBIND",18:"UNBIND",19:"ACL",20:"REPORT",21:"MKACTIVITY",22:"CHECKOUT",23:"MERGE",24:"M-SEARCH",25:"NOTIFY",26:"SUBSCRIBE",27:"UNSUBSCRIBE",28:"PATCH",29:"PURGE",30:"MKCALENDAR",31:"LINK",32:"UNLINK"};var a=process.version?process.version.match(/[0-9]+/g).map(function(e){return parseInt(e,10)}):[];0===a[0]&&12===a[1]&&(o.METHODS[16]="REPORT",o.METHODS[17]="MKACTIVITY",o.METHODS[18]="CHECKOUT",o.METHODS[19]="MERGE",o.METHODS[20]="M-SEARCH",o.METHODS[21]="NOTIFY",o.METHODS[22]="SUBSCRIBE",o.METHODS[23]="UNSUBSCRIBE",o.METHODS[24]="PATCH",o.METHODS[25]="PURGE"),o.prototype.isComplete=function(){return this._complete},o.prototype.parse=function(e){var t=this._parser.execute(e,0,e.length);if("number"!=typeof t){this.error=t,this._complete=!0;return}this._complete&&(this.body=t<e.length?e.slice(t):i.alloc(0))},e.exports=o},function(e,t,n){"use strict";var r=n(5).Stream,i=n(0),s=n(4),o=n(16),a=n(7),l=function(e){e=e||{},s.validateOptions(e,["headers","extensions","maxLength","ping","proxy","tls","ca"]),this.readable=this.writable=!0;var t=e.headers;if(t)for(var n in t)this._driver.setHeader(n,t[n]);var r=e.extensions;r&&[].concat(r).forEach(this._driver.addExtension,this._driver),this._ping=e.ping,this._pingId=0,this.readyState=l.CONNECTING,this.bufferedAmount=0,this.protocol="",this.url=this._driver.url,this.version=this._driver.version;var i=this;this._driver.on("open",function(e){i._open()}),this._driver.on("message",function(e){i._receiveMessage(e.data)}),this._driver.on("close",function(e){i._beginClose(e.reason,e.code)}),this._driver.on("error",function(e){i._emitError(e.message)}),this.on("error",function(){}),this._driver.messages.on("drain",function(){i.emit("drain")}),this._ping&&(this._pingTimer=setInterval(function(){i._pingId+=1,i.ping(i._pingId.toString())},1e3*this._ping)),this._configureStream(),this._proxy||(this._stream.pipe(this._driver.io),this._driver.io.pipe(this._stream))};i.inherits(l,r),l.CONNECTING=0,l.OPEN=1,l.CLOSING=2,l.CLOSED=3,l.CLOSE_TIMEOUT=3e4;var c={write:function(e){return this.send(e)},end:function(e){void 0!==e&&this.send(e),this.close()},pause:function(){return this._driver.messages.pause()},resume:function(){return this._driver.messages.resume()},send:function(e){return!(this.readyState>l.OPEN)&&(e instanceof Buffer||(e=String(e)),this._driver.messages.write(e))},ping:function(e,t){return!(this.readyState>l.OPEN)&&this._driver.ping(e,t)},close:function(e,t){if(void 0===e&&(e=1e3),void 0===t&&(t=""),1e3!==e&&(e<3e3||e>4999))throw Error("Failed to execute 'close' on WebSocket: The code must be either 1000, or between 3000 and 4999. "+e+" is neither.");this.readyState!==l.CLOSED&&(this.readyState=l.CLOSING);var n=this;this._closeTimer=setTimeout(function(){n._beginClose("",1006)},l.CLOSE_TIMEOUT),this._driver.close(t,e)},_configureStream:function(){var e=this;this._stream.setTimeout(0),this._stream.setNoDelay(!0),["close","end"].forEach(function(t){this._stream.on(t,function(){e._finalizeClose()})},this),this._stream.on("error",function(t){e._emitError("Network error: "+e.url+": "+t.message),e._finalizeClose()})},_open:function(){if(this.readyState===l.CONNECTING){this.readyState=l.OPEN,this.protocol=this._driver.protocol||"";var e=new a("open");e.initEvent("open",!1,!1),this.dispatchEvent(e)}},_receiveMessage:function(e){if(this.readyState>l.OPEN)return!1;this.readable&&this.emit("data",e);var t=new a("message",{data:e});t.initEvent("message",!1,!1),this.dispatchEvent(t)},_emitError:function(e){if(!(this.readyState>=l.CLOSING)){var t=new a("error",{message:e});t.initEvent("error",!1,!1),this.dispatchEvent(t)}},_beginClose:function(e,t){this.readyState!==l.CLOSED&&(this.readyState=l.CLOSING,this._closeParams=[e,t],this._stream&&(this._stream.destroy(),this._stream.readable||this._finalizeClose()))},_finalizeClose:function(){if(this.readyState!==l.CLOSED){this.readyState=l.CLOSED,this._closeTimer&&clearTimeout(this._closeTimer),this._pingTimer&&clearInterval(this._pingTimer),this._stream&&this._stream.end(),this.readable&&this.emit("end"),this.readable=this.writable=!1;var e=this._closeParams?this._closeParams[0]:"",t=this._closeParams?this._closeParams[1]:1006,n=new a("close",{code:t,reason:e});n.initEvent("close",!1,!1),this.dispatchEvent(n)}}};for(var u in c)l.prototype[u]=c[u];for(var h in o)l.prototype[h]=o[h];e.exports=l},function(e,t,n){"use strict";var r=n(1).Buffer,i=n(3),s=n(0),o=n(29),a=n(2),l=n(34),c=n(35),u=function(e,t,n){if(a.apply(this,arguments),this._extensions=new o,this._stage=0,this._masking=this._options.masking,this._protocols=this._options.protocols||[],this._requireMasking=this._options.requireMasking,this._pingCallbacks={},"string"==typeof this._protocols&&(this._protocols=this._protocols.split(/ *, */)),this._request){var r=this._request.headers["sec-websocket-protocol"],i=this._protocols;void 0!==r&&("string"==typeof r&&(r=r.split(/ *, */)),this.protocol=r.filter(function(e){return i.indexOf(e)>=0})[0]),this.version="hybi-"+u.VERSION}};s.inherits(u,a),u.VERSION="13",u.mask=function(e,t,n){if(!t||0===t.length)return e;n=n||0;for(var r=0,i=e.length-n;r<i;r++)e[n+r]=e[n+r]^t[r%4];return e},u.generateAccept=function(e){var t=i.createHash("sha1");return t.update(e+u.GUID),t.digest("base64")},u.GUID="258EAFA5-E914-47DA-95CA-C5AB0DC85B11";var h={FIN:128,MASK:128,RSV1:64,RSV2:32,RSV3:16,OPCODE:15,LENGTH:127,OPCODES:{continuation:0,text:1,binary:2,close:8,ping:9,pong:10},OPCODE_CODES:[0,1,2,8,9,10],MESSAGE_OPCODES:[0,1,2],OPENING_OPCODES:[1,2],ERRORS:{normal_closure:1e3,going_away:1001,protocol_error:1002,unacceptable:1003,encoding_error:1007,policy_violation:1008,too_large:1009,extension_error:1010,unexpected_condition:1011},ERROR_CODES:[1e3,1001,1002,1003,1007,1008,1009,1010,1011],DEFAULT_ERROR_CODE:1e3,MIN_RESERVED_ERROR:3e3,MAX_RESERVED_ERROR:4999,UTF8_MATCH:/^([\x00-\x7F]|[\xC2-\xDF][\x80-\xBF]|\xE0[\xA0-\xBF][\x80-\xBF]|[\xE1-\xEC\xEE\xEF][\x80-\xBF]{2}|\xED[\x80-\x9F][\x80-\xBF]|\xF0[\x90-\xBF][\x80-\xBF]{2}|[\xF1-\xF3][\x80-\xBF]{3}|\xF4[\x80-\x8F][\x80-\xBF]{2})*$/,addExtension:function(e){return this._extensions.add(e),!0},parse:function(e){this._reader.put(e);for(var t=!0;t;)switch(this._stage){case 0:(t=this._reader.read(1))&&this._parseOpcode(t[0]);break;case 1:(t=this._reader.read(1))&&this._parseLength(t[0]);break;case 2:(t=this._reader.read(this._frame.lengthBytes))&&this._parseExtendedLength(t);break;case 3:(t=this._reader.read(4))&&(this._stage=4,this._frame.maskingKey=t);break;case 4:(t=this._reader.read(this._frame.length))&&(this._stage=0,this._emitFrame(t));break;default:t=null}},text:function(e){return!(this.readyState>1)&&this.frame(e,"text")},binary:function(e){return!(this.readyState>1)&&this.frame(e,"binary")},ping:function(e,t){return!(this.readyState>1)&&(e=e||"",t&&(this._pingCallbacks[e]=t),this.frame(e,"ping"))},pong:function(e){return!(this.readyState>1)&&(e=e||"",this.frame(e,"pong"))},close:function(e,t){return(e=e||"",t=t||this.ERRORS.normal_closure,this.readyState<=0)?(this.readyState=3,this.emit("close",new a.CloseEvent(t,e)),!0):1===this.readyState&&(this.readyState=2,this._extensions.close(function(){this.frame(e,"close",t)},this),!0)},frame:function(e,t,n){if(this.readyState<=0)return this._queue([e,t,n]);if(this.readyState>2)return!1;e instanceof Array&&(e=r.from(e)),"number"==typeof e&&(e=e.toString());var s,o,a=new c,u="string"==typeof e;a.rsv1=a.rsv2=a.rsv3=!1,a.opcode=this.OPCODES[t||(u?"text":"binary")],s=u?r.from(e,"utf8"):e,n&&(o=s,(s=r.allocUnsafe(2+o.length)).writeUInt16BE(n,0),o.copy(s,2)),a.data=s;var h=function(e){var t=new l;t.final=!0,t.rsv1=e.rsv1,t.rsv2=e.rsv2,t.rsv3=e.rsv3,t.opcode=e.opcode,t.masked=!!this._masking,t.length=e.data.length,t.payload=e.data,t.masked&&(t.maskingKey=i.randomBytes(4)),this._sendFrame(t)};return this.MESSAGE_OPCODES.indexOf(a.opcode)>=0?this._extensions.processOutgoingMessage(a,function(e,t){if(e)return this._fail("extension_error",e.message);h.call(this,t)},this):h.call(this,a),!0},_sendFrame:function(e){var t=e.length,n=t<=125?2:t<=65535?4:10,i=n+(e.masked?4:0),s=r.allocUnsafe(i+t),o=e.masked?this.MASK:0;s[0]=(e.final?this.FIN:0)|(e.rsv1?this.RSV1:0)|(e.rsv2?this.RSV2:0)|(e.rsv3?this.RSV3:0)|e.opcode,t<=125?s[1]=o|t:t<=65535?(s[1]=126|o,s.writeUInt16BE(t,2)):(s[1]=127|o,s.writeUInt32BE(Math.floor(t/4294967296),2),s.writeUInt32BE(t%4294967296,6)),e.payload.copy(s,i),e.masked&&(e.maskingKey.copy(s,n),u.mask(s,e.maskingKey,i)),this._write(s)},_handshakeResponse:function(){var e=this._request.headers["sec-websocket-key"],t=this._request.headers["sec-websocket-version"];if(t!==u.VERSION)throw Error("Unsupported WebSocket version: "+t);if("string"!=typeof e)throw Error("Missing handshake request header: Sec-WebSocket-Key");this._headers.set("Upgrade","websocket"),this._headers.set("Connection","Upgrade"),this._headers.set("Sec-WebSocket-Accept",u.generateAccept(e)),this.protocol&&this._headers.set("Sec-WebSocket-Protocol",this.protocol);var n=this._extensions.generateResponse(this._request.headers["sec-websocket-extensions"]);n&&this._headers.set("Sec-WebSocket-Extensions",n);var i=["HTTP/1.1 101 Switching Protocols",this._headers.toString(),""];return r.from(i.join("\r\n"),"utf8")},_shutdown:function(e,t,n){delete this._frame,delete this._message,this._stage=5;var r=1===this.readyState;this.readyState=2,this._extensions.close(function(){r&&this.frame(t,"close",e),this.readyState=3,n&&this.emit("error",Error(t)),this.emit("close",new a.CloseEvent(e,t))},this)},_fail:function(e,t){this.readyState>1||this._shutdown(this.ERRORS[e],t,!0)},_parseOpcode:function(e){var t=[this.RSV1,this.RSV2,this.RSV3].map(function(t){return(e&t)===t}),n=this._frame=new l;return(n.final=(e&this.FIN)===this.FIN,n.rsv1=t[0],n.rsv2=t[1],n.rsv3=t[2],n.opcode=e&this.OPCODE,this._stage=1,this._extensions.validFrameRsv(n))?0>this.OPCODE_CODES.indexOf(n.opcode)?this._fail("protocol_error","Unrecognized frame opcode: "+n.opcode):0>this.MESSAGE_OPCODES.indexOf(n.opcode)&&!n.final?this._fail("protocol_error","Received fragmented control frame: opcode = "+n.opcode):this._message&&this.OPENING_OPCODES.indexOf(n.opcode)>=0?this._fail("protocol_error","Received new data frame but previous continuous frame is unfinished"):void 0:this._fail("protocol_error","One or more reserved bits are on: reserved1 = "+(n.rsv1?1:0)+", reserved2 = "+(n.rsv2?1:0)+", reserved3 = "+(n.rsv3?1:0))},_parseLength:function(e){var t=this._frame;if(t.masked=(e&this.MASK)===this.MASK,t.length=e&this.LENGTH,t.length>=0&&t.length<=125){if(this._stage=t.masked?3:4,!this._checkFrameLength())return}else this._stage=2,t.lengthBytes=126===t.length?2:8;if(this._requireMasking&&!t.masked)return this._fail("unacceptable","Received unmasked frame but masking is required")},_parseExtendedLength:function(e){var t=this._frame;if(t.length=this._readUInt(e),this._stage=t.masked?3:4,0>this.MESSAGE_OPCODES.indexOf(t.opcode)&&t.length>125)return this._fail("protocol_error","Received control frame having too long payload: "+t.length);if(!this._checkFrameLength())return},_checkFrameLength:function(){return!((this._message?this._message.length:0)+this._frame.length>this._maxLength)||(this._fail("too_large","WebSocket frame length too large"),!1)},_emitFrame:function(e){var t,n,r,i,s,o=this._frame,l=o.payload=u.mask(e,o.maskingKey),h=o.opcode;if(delete this._frame,h===this.OPCODES.continuation){if(!this._message)return this._fail("protocol_error","Received unexpected continuation frame");this._message.pushFrame(o)}if((h===this.OPCODES.text||h===this.OPCODES.binary)&&(this._message=new c,this._message.pushFrame(o)),o.final&&this.MESSAGE_OPCODES.indexOf(h)>=0)return this._emitMessage(this._message);h===this.OPCODES.close&&(n=l.length>=2?l.readUInt16BE(0):null,r=l.length>2?this._encode(l.slice(2)):null,0!==l.length&&!(null!==n&&n>=this.MIN_RESERVED_ERROR&&n<=this.MAX_RESERVED_ERROR)&&0>this.ERROR_CODES.indexOf(n)&&(n=this.ERRORS.protocol_error),(l.length>125||l.length>2&&!r)&&(n=this.ERRORS.protocol_error),this._shutdown(n||this.DEFAULT_ERROR_CODE,r||"")),h===this.OPCODES.ping&&(this.frame(l,"pong"),this.emit("ping",new a.PingEvent(l.toString()))),h===this.OPCODES.pong&&(s=(i=this._pingCallbacks)[t=this._encode(l)],delete i[t],s&&s(),this.emit("pong",new a.PongEvent(l.toString())))},_emitMessage:function(e){var e=this._message;e.read(),delete this._message,this._extensions.processIncomingMessage(e,function(e,t){if(e)return this._fail("extension_error",e.message);var n=t.data;if(t.opcode===this.OPCODES.text&&(n=this._encode(n)),null===n)return this._fail("encoding_error","Could not decode a text frame as UTF-8");this.emit("message",new a.MessageEvent(n))},this)},_encode:function(e){try{var t=e.toString("binary",0,e.length);if(!this.UTF8_MATCH.test(t))return null}catch(e){}return e.toString("utf8",0,e.length)},_readUInt:function(e){return 2===e.length?e.readUInt16BE(0):4294967296*e.readUInt32BE(0)+e.readUInt32BE(4)}};for(var d in h)u.prototype[d]=h[d];e.exports=u},function(e,t,n){"use strict";var r=function(e){this._bufferSize=e,this.clear()};r.prototype.clear=function(){this._buffer=Array(this._bufferSize),this._ringOffset=0,this._ringSize=this._bufferSize,this._head=0,this._tail=0,this.length=0},r.prototype.push=function(e){var t=!1,n=!1;this._ringSize<this._bufferSize?t=0===this._tail:this._ringOffset===this._ringSize&&(t=!0,n=0===this._tail),t&&(this._tail=this._bufferSize,this._buffer=this._buffer.concat(Array(this._bufferSize)),this._bufferSize=this._buffer.length,n&&(this._ringSize=this._bufferSize)),this._buffer[this._tail]=e,this.length+=1,this._tail<this._ringSize&&(this._ringOffset+=1),this._tail=(this._tail+1)%this._bufferSize},r.prototype.peek=function(){if(0!==this.length)return this._buffer[this._head]},r.prototype.shift=function(){if(0!==this.length){var e=this._buffer[this._head];return this._buffer[this._head]=void 0,this.length-=1,this._ringOffset-=1,0===this._ringOffset&&this.length>0?(this._head=this._ringSize,this._ringOffset=this.length,this._ringSize=this._bufferSize):this._head=(this._head+1)%this._ringSize,e}},e.exports=r},function(e,t,n){"use strict";var r=n(13),i=function(){this._complete=!1,this._callbacks=new r(i.QUEUE_SIZE)};i.QUEUE_SIZE=4,i.all=function(e){var t=new i,n=e.length,r=n;for(0===n&&t.done();r--;)e[r].then(function(){0==(n-=1)&&t.done()});return t},i.prototype.then=function(e){this._complete?e():this._callbacks.push(e)},i.prototype.done=function(){this._complete=!0;for(var e,t=this._callbacks;e=t.shift();)e()},e.exports=i},function(e,t,n){"use strict";var r=n(1).Buffer,i=n(2),s=n(0),o=function(e,t,n){i.apply(this,arguments),this._stage=0,this.version="hixie-75",this._headers.set("Upgrade","WebSocket"),this._headers.set("Connection","Upgrade"),this._headers.set("WebSocket-Origin",this._request.headers.origin),this._headers.set("WebSocket-Location",this.url)};s.inherits(o,i);var a={close:function(){return 3!==this.readyState&&(this.readyState=3,this.emit("close",new i.CloseEvent(null,null)),!0)},parse:function(e){this.readyState>1||(this._reader.put(e),this._reader.eachByte(function(e){var t;switch(this._stage){case -1:this._body.push(e),this._sendHandshakeBody();break;case 0:this._parseLeadingByte(e);break;case 1:if(this._length=(127&e)+128*this._length,this._closing&&0===this._length)return this.close();(128&e)!=128&&(0===this._length?this._stage=0:(this._skipped=0,this._stage=2));break;case 2:if(255===e)this._stage=0,t=r.from(this._buffer).toString("utf8",0,this._buffer.length),this.emit("message",new i.MessageEvent(t));else if(this._length)this._skipped+=1,this._skipped===this._length&&(this._stage=0);else if(this._buffer.push(e),this._buffer.length>this._maxLength)return this.close()}},this))},frame:function(e){if(0===this.readyState)return this._queue([e]);if(this.readyState>1)return!1;"string"!=typeof e&&(e=e.toString());var t=r.byteLength(e),n=r.allocUnsafe(t+2);return n[0]=0,n.write(e,1),n[n.length-1]=255,this._write(n),!0},_handshakeResponse:function(){var e=["HTTP/1.1 101 Web Socket Protocol Handshake",this._headers.toString(),""];return r.from(e.join("\r\n"),"utf8")},_parseLeadingByte:function(e){(128&e)==128?(this._length=0,this._stage=1):(delete this._length,delete this._skipped,this._buffer=[],this._stage=2)}};for(var l in a)o.prototype[l]=a[l];e.exports=o},function(e,t,n){"use strict";var r=n(7);e.exports={onopen:null,onmessage:null,onerror:null,onclose:null,addEventListener:function(e,t,n){this.on(e,t)},removeEventListener:function(e,t,n){this.removeListener(e,t)},dispatchEvent:function(e){e.target=e.currentTarget=this,e.eventPhase=r.AT_TARGET,this["on"+e.type]&&this["on"+e.type](e),this.emit(e.type,e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="utf8: invalid string",i="utf8: invalid source encoding";function s(e){for(var t=0,n=0;n<e.length;n++){var i=e.charCodeAt(n);if(i<128)t+=1;else if(i<2048)t+=2;else if(i<55296)t+=3;else if(i<=57343){if(n>=e.length-1)throw Error(r);n++,t+=4}else throw Error(r)}return t}t.encode=function(e){for(var t=new Uint8Array(s(e)),n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:(i<2048?t[n++]=192|i>>6:(i<55296?t[n++]=224|i>>12:(r++,i=((1023&i)<<10|1023&e.charCodeAt(r))+65536,t[n++]=240|i>>18,t[n++]=128|i>>12&63),t[n++]=128|i>>6&63),t[n++]=128|63&i)}return t},t.encodedLength=s,t.decode=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];if(128&r){var s=void 0;if(r<224){if(n>=e.length)throw Error(i);var o=e[++n];if((192&o)!=128)throw Error(i);r=(31&r)<<6|63&o,s=128}else if(r<240){if(n>=e.length-1)throw Error(i);var o=e[++n],a=e[++n];if((192&o)!=128||(192&a)!=128)throw Error(i);r=(15&r)<<12|(63&o)<<6|63&a,s=2048}else if(r<248){if(n>=e.length-2)throw Error(i);var o=e[++n],a=e[++n],l=e[++n];if((192&o)!=128||(192&a)!=128||(192&l)!=128)throw Error(i);r=(15&r)<<18|(63&o)<<12|(63&a)<<6|63&l,s=65536}else throw Error(i);if(r<s||r>=55296&&r<=57343)throw Error(i);if(r>=65536){if(r>1114111)throw Error(i);r-=65536,t.push(String.fromCharCode(55296|r>>10)),r=56320|1023&r}}t.push(String.fromCharCode(r))}return t.join("")}},function(e,t,n){"use strict";var r=n(0),i=n(4),s=n(11),o=function(e,t,n,r,o){o=o||{},this._stream=t,this._driver=i.http(e,{maxLength:o.maxLength,protocols:r});var a=this;if(this._stream&&this._stream.writable){if(!this._stream.readable)return this._stream.end();var l=function(){a._stream.removeListener("data",l)};this._stream.on("data",l),s.call(this,o),process.nextTick(function(){a._driver.start(),a._driver.io.write(n)})}};r.inherits(o,s),o.isWebSocket=function(e){return i.isWebSocket(e)},o.validateOptions=function(e,t){i.validateOptions(e,t)},o.WebSocket=o,o.Client=n(39),o.EventSource=n(42),e.exports=o},function(e,t,n){/**
 * Wrapper for built-in http.js to emulate the browser XMLHttpRequest object.
 *
 * This can be used with JS designed for browsers to improve reuse of code and
 * allow the use of existing libraries.
 *
 * Usage: include("XMLHttpRequest.js") and use XMLHttpRequest per W3C specs.
 *
 * @author Dan DeFelippi <dan@driverdan.com>
 * @contributor David Ellis <d.f.ellis@ieee.org>
 * @license MIT
 */var r=n(6),i=n(43).spawn,s=n(44);t.XMLHttpRequest=function(){"use strict";var e,t,o=this,a=n(45),l=n(46),c={},u=!1,h={"User-Agent":"node-XMLHttpRequest",Accept:"*/*"},d={},f={},p=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","content-transfer-encoding","cookie","cookie2","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"],g=["TRACE","TRACK","CONNECT"],v=!1,m=!1,y={};this.UNSENT=0,this.OPENED=1,this.HEADERS_RECEIVED=2,this.LOADING=3,this.DONE=4,this.readyState=this.UNSENT,this.onreadystatechange=null,this.responseText="",this.responseXML="",this.status=null,this.statusText=null,this.withCredentials=!1,this.open=function(e,t,n,r,i){if(this.abort(),m=!1,!(e&&-1===g.indexOf(e)))throw Error("SecurityError: Request method not allowed");c={method:e,url:t.toString(),async:"boolean"!=typeof n||n,user:r||null,password:i||null},b(this.OPENED)},this.setDisableHeaderCheck=function(e){u=e},this.setRequestHeader=function(e,t){var n;if(this.readyState!==this.OPENED)throw Error("INVALID_STATE_ERR: setRequestHeader can only be called when state is OPEN");if(n=e,!u&&(!n||-1!==p.indexOf(n.toLowerCase()))){console.warn('Refused to set unsafe header "'+e+'"');return}if(v)throw Error("INVALID_STATE_ERR: send flag is true");e=f[e.toLowerCase()]||e,f[e.toLowerCase()]=e,d[e]=d[e]?d[e]+", "+t:t},this.getResponseHeader=function(e){return"string"==typeof e&&this.readyState>this.OPENED&&t&&t.headers&&t.headers[e.toLowerCase()]&&!m?t.headers[e.toLowerCase()]:null},this.getAllResponseHeaders=function(){if(this.readyState<this.HEADERS_RECEIVED||m)return"";var e="";for(var n in t.headers)"set-cookie"!==n&&"set-cookie2"!==n&&(e+=n+": "+t.headers[n]+"\r\n");return e.substr(0,e.length-2)},this.getRequestHeader=function(e){return"string"==typeof e&&f[e.toLowerCase()]?d[f[e.toLowerCase()]]:""},this.send=function(n){if(this.readyState!==this.OPENED)throw Error("INVALID_STATE_ERR: connection must be opened before send() is called");if(v)throw Error("INVALID_STATE_ERR: send has already been called");var u,p=!1,g=!1,y=r.parse(c.url);switch(y.protocol){case"https:":p=!0;case"http:":u=y.hostname;break;case"file:":g=!0;break;case void 0:case null:case"":u="localhost";break;default:throw Error("Protocol not supported.")}if(g){if("GET"!==c.method)throw Error("XMLHttpRequest: Only GET method is supported");if(c.async)s.readFile(y.pathname,"utf8",function(e,t){e?o.handleError(e):(o.status=200,o.responseText=t,b(o.DONE))});else try{this.responseText=s.readFileSync(y.pathname,"utf8"),this.status=200,b(o.DONE)}catch(e){this.handleError(e)}return}var _=y.port||(p?443:80),E=y.pathname+(y.search?y.search:"");for(var A in h)f[A.toLowerCase()]||(d[A]=h[A]);if(d.Host=u,p&&443===_||80===_||(d.Host+=":"+y.port),c.user){void 0===c.password&&(c.password="");var S=new Buffer(c.user+":"+c.password);d.Authorization="Basic "+S.toString("base64")}"GET"===c.method||"HEAD"===c.method?n=null:n?(d["Content-Length"]=Buffer.isBuffer(n)?n.length:Buffer.byteLength(n),d["Content-Type"]||(d["Content-Type"]="text/plain;charset=UTF-8")):"POST"===c.method&&(d["Content-Length"]=0);var w={host:u,port:_,path:E,method:c.method,headers:d,agent:!1,withCredentials:o.withCredentials};if(m=!1,c.async){var C=p?l.request:a.request;v=!0,o.dispatchEvent("readystatechange");var k=function(e){o.handleError(e)};e=C(w,function n(i){if(301===(t=i).statusCode||302===t.statusCode||303===t.statusCode||307===t.statusCode){c.url=t.headers.location;var s=r.parse(c.url);u=s.hostname,(e=C({hostname:s.hostname,port:s.port,path:s.path,method:303===t.statusCode?"GET":c.method,headers:d,withCredentials:o.withCredentials},n).on("error",k)).end();return}t.setEncoding("utf8"),b(o.HEADERS_RECEIVED),o.status=t.statusCode,t.on("data",function(e){e&&(o.responseText+=e),v&&b(o.LOADING)}),t.on("end",function(){v&&(b(o.DONE),v=!1)}),t.on("error",function(e){o.handleError(e)})}).on("error",k),n&&e.write(n),e.end(),o.dispatchEvent("loadstart")}else{var D=".node-xmlhttprequest-content-"+process.pid,T=".node-xmlhttprequest-sync-"+process.pid;s.writeFileSync(T,"","utf8");for(var x="var http = require('http'), https = require('https'), fs = require('fs');var doRequest = http"+(p?"s":"")+".request;var options = "+JSON.stringify(w)+";var responseText = '';var req = doRequest(options, function(response) {response.setEncoding('utf8');response.on('data', function(chunk) {  responseText += chunk;});response.on('end', function() {fs.writeFileSync('"+D+"', JSON.stringify({err: null, data: {statusCode: response.statusCode, headers: response.headers, text: responseText}}), 'utf8');fs.unlinkSync('"+T+"');});response.on('error', function(error) {fs.writeFileSync('"+D+"', JSON.stringify({err: error}), 'utf8');fs.unlinkSync('"+T+"');});}).on('error', function(error) {fs.writeFileSync('"+D+"', JSON.stringify({err: error}), 'utf8');fs.unlinkSync('"+T+"');});"+(n?"req.write('"+JSON.stringify(n).slice(1,-1).replace(/'/g,"\\'")+"');":"")+"req.end();",R=i(process.argv[0],["-e",x]);s.existsSync(T););var O=JSON.parse(s.readFileSync(D,"utf8"));R.stdin.end(),s.unlinkSync(D),O.err?o.handleError(O.err):(t=O.data,o.status=O.data.statusCode,o.responseText=O.data.text,b(o.DONE))}},this.handleError=function(e){this.status=0,this.statusText=e,this.responseText=e.stack,m=!0,b(this.DONE),this.dispatchEvent("error")},this.abort=function(){e&&(e.abort(),e=null),d=h,this.status=0,this.responseText="",this.responseXML="",m=!0,this.readyState!==this.UNSENT&&(this.readyState!==this.OPENED||v)&&this.readyState!==this.DONE&&(v=!1,b(this.DONE)),this.readyState=this.UNSENT,this.dispatchEvent("abort")},this.addEventListener=function(e,t){e in y||(y[e]=[]),y[e].push(t)},this.removeEventListener=function(e,t){e in y&&(y[e]=y[e].filter(function(e){return e!==t}))},this.dispatchEvent=function(e){if("function"==typeof o["on"+e]&&o["on"+e](),e in y)for(var t=0,n=y[e].length;t<n;t++)y[e][t].call(o)};var b=function(e){e!=o.LOADING&&o.readyState===e||(o.readyState=e,(c.async||o.readyState<o.OPENED||o.readyState===o.DONE)&&o.dispatchEvent("readystatechange"),o.readyState!==o.DONE||m||(o.dispatchEvent("load"),o.dispatchEvent("loadend")))}}},function(e,t,n){!function(e){"use strict";var t,r=function(e){var t,n=new Float64Array(16);if(e)for(t=0;t<e.length;t++)n[t]=e[t];return n},i=function(){throw Error("no PRNG")},s=new Uint8Array(16),o=new Uint8Array(32);o[0]=9;var a=r(),l=r([1]),c=r([56129,1]),u=r([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),h=r([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),d=r([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),f=r([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),p=r([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function g(e,t,n,r){e[t]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n,e[t+4]=r>>24&255,e[t+5]=r>>16&255,e[t+6]=r>>8&255,e[t+7]=255&r}function v(e,t,n,r,i){var s,o=0;for(s=0;s<i;s++)o|=e[t+s]^n[r+s];return(1&o-1>>>8)-1}function m(e,t,n,r){return v(e,t,n,r,16)}function y(e,t,n,r){return v(e,t,n,r,32)}function b(e,t,n,r){!function(e,t,n,r){for(var i,s=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,l=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,c=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,u=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,h=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,d=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,f=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,g=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,v=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,m=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,y=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,b=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,_=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,E=s,A=o,S=a,w=l,C=c,k=u,D=h,T=d,x=f,R=p,O=g,M=v,N=m,I=y,P=b,H=_,z=0;z<20;z+=2)C^=(i=E+N|0)<<7|i>>>25,x^=(i=C+E|0)<<9|i>>>23,N^=(i=x+C|0)<<13|i>>>19,E^=(i=N+x|0)<<18|i>>>14,R^=(i=k+A|0)<<7|i>>>25,I^=(i=R+k|0)<<9|i>>>23,A^=(i=I+R|0)<<13|i>>>19,k^=(i=A+I|0)<<18|i>>>14,P^=(i=O+D|0)<<7|i>>>25,S^=(i=P+O|0)<<9|i>>>23,D^=(i=S+P|0)<<13|i>>>19,O^=(i=D+S|0)<<18|i>>>14,w^=(i=H+M|0)<<7|i>>>25,T^=(i=w+H|0)<<9|i>>>23,M^=(i=T+w|0)<<13|i>>>19,H^=(i=M+T|0)<<18|i>>>14,A^=(i=E+w|0)<<7|i>>>25,S^=(i=A+E|0)<<9|i>>>23,w^=(i=S+A|0)<<13|i>>>19,E^=(i=w+S|0)<<18|i>>>14,D^=(i=k+C|0)<<7|i>>>25,T^=(i=D+k|0)<<9|i>>>23,C^=(i=T+D|0)<<13|i>>>19,k^=(i=C+T|0)<<18|i>>>14,M^=(i=O+R|0)<<7|i>>>25,x^=(i=M+O|0)<<9|i>>>23,R^=(i=x+M|0)<<13|i>>>19,O^=(i=R+x|0)<<18|i>>>14,N^=(i=H+P|0)<<7|i>>>25,I^=(i=N+H|0)<<9|i>>>23,P^=(i=I+N|0)<<13|i>>>19,H^=(i=P+I|0)<<18|i>>>14;E=E+s|0,A=A+o|0,S=S+a|0,w=w+l|0,C=C+c|0,k=k+u|0,D=D+h|0,T=T+d|0,x=x+f|0,R=R+p|0,O=O+g|0,M=M+v|0,N=N+m|0,I=I+y|0,P=P+b|0,H=H+_|0,e[0]=E>>>0&255,e[1]=E>>>8&255,e[2]=E>>>16&255,e[3]=E>>>24&255,e[4]=A>>>0&255,e[5]=A>>>8&255,e[6]=A>>>16&255,e[7]=A>>>24&255,e[8]=S>>>0&255,e[9]=S>>>8&255,e[10]=S>>>16&255,e[11]=S>>>24&255,e[12]=w>>>0&255,e[13]=w>>>8&255,e[14]=w>>>16&255,e[15]=w>>>24&255,e[16]=C>>>0&255,e[17]=C>>>8&255,e[18]=C>>>16&255,e[19]=C>>>24&255,e[20]=k>>>0&255,e[21]=k>>>8&255,e[22]=k>>>16&255,e[23]=k>>>24&255,e[24]=D>>>0&255,e[25]=D>>>8&255,e[26]=D>>>16&255,e[27]=D>>>24&255,e[28]=T>>>0&255,e[29]=T>>>8&255,e[30]=T>>>16&255,e[31]=T>>>24&255,e[32]=x>>>0&255,e[33]=x>>>8&255,e[34]=x>>>16&255,e[35]=x>>>24&255,e[36]=R>>>0&255,e[37]=R>>>8&255,e[38]=R>>>16&255,e[39]=R>>>24&255,e[40]=O>>>0&255,e[41]=O>>>8&255,e[42]=O>>>16&255,e[43]=O>>>24&255,e[44]=M>>>0&255,e[45]=M>>>8&255,e[46]=M>>>16&255,e[47]=M>>>24&255,e[48]=N>>>0&255,e[49]=N>>>8&255,e[50]=N>>>16&255,e[51]=N>>>24&255,e[52]=I>>>0&255,e[53]=I>>>8&255,e[54]=I>>>16&255,e[55]=I>>>24&255,e[56]=P>>>0&255,e[57]=P>>>8&255,e[58]=P>>>16&255,e[59]=P>>>24&255,e[60]=H>>>0&255,e[61]=H>>>8&255,e[62]=H>>>16&255,e[63]=H>>>24&255}(e,t,n,r)}function _(e,t,n,r){!function(e,t,n,r){for(var i,s=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,l=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,c=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,u=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,h=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,d=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,f=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,g=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,v=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,m=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,y=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,b=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,_=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,E=s,A=o,S=a,w=l,C=c,k=u,D=h,T=d,x=f,R=p,O=g,M=v,N=m,I=y,P=b,H=_,z=0;z<20;z+=2)C^=(i=E+N|0)<<7|i>>>25,x^=(i=C+E|0)<<9|i>>>23,N^=(i=x+C|0)<<13|i>>>19,E^=(i=N+x|0)<<18|i>>>14,R^=(i=k+A|0)<<7|i>>>25,I^=(i=R+k|0)<<9|i>>>23,A^=(i=I+R|0)<<13|i>>>19,k^=(i=A+I|0)<<18|i>>>14,P^=(i=O+D|0)<<7|i>>>25,S^=(i=P+O|0)<<9|i>>>23,D^=(i=S+P|0)<<13|i>>>19,O^=(i=D+S|0)<<18|i>>>14,w^=(i=H+M|0)<<7|i>>>25,T^=(i=w+H|0)<<9|i>>>23,M^=(i=T+w|0)<<13|i>>>19,H^=(i=M+T|0)<<18|i>>>14,A^=(i=E+w|0)<<7|i>>>25,S^=(i=A+E|0)<<9|i>>>23,w^=(i=S+A|0)<<13|i>>>19,E^=(i=w+S|0)<<18|i>>>14,D^=(i=k+C|0)<<7|i>>>25,T^=(i=D+k|0)<<9|i>>>23,C^=(i=T+D|0)<<13|i>>>19,k^=(i=C+T|0)<<18|i>>>14,M^=(i=O+R|0)<<7|i>>>25,x^=(i=M+O|0)<<9|i>>>23,R^=(i=x+M|0)<<13|i>>>19,O^=(i=R+x|0)<<18|i>>>14,N^=(i=H+P|0)<<7|i>>>25,I^=(i=N+H|0)<<9|i>>>23,P^=(i=I+N|0)<<13|i>>>19,H^=(i=P+I|0)<<18|i>>>14;e[0]=E>>>0&255,e[1]=E>>>8&255,e[2]=E>>>16&255,e[3]=E>>>24&255,e[4]=k>>>0&255,e[5]=k>>>8&255,e[6]=k>>>16&255,e[7]=k>>>24&255,e[8]=O>>>0&255,e[9]=O>>>8&255,e[10]=O>>>16&255,e[11]=O>>>24&255,e[12]=H>>>0&255,e[13]=H>>>8&255,e[14]=H>>>16&255,e[15]=H>>>24&255,e[16]=D>>>0&255,e[17]=D>>>8&255,e[18]=D>>>16&255,e[19]=D>>>24&255,e[20]=T>>>0&255,e[21]=T>>>8&255,e[22]=T>>>16&255,e[23]=T>>>24&255,e[24]=x>>>0&255,e[25]=x>>>8&255,e[26]=x>>>16&255,e[27]=x>>>24&255,e[28]=R>>>0&255,e[29]=R>>>8&255,e[30]=R>>>16&255,e[31]=R>>>24&255}(e,t,n,r)}var E=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function A(e,t,n,r,i,s,o){var a,l,c=new Uint8Array(16),u=new Uint8Array(64);for(l=0;l<16;l++)c[l]=0;for(l=0;l<8;l++)c[l]=s[l];for(;i>=64;){for(b(u,c,o,E),l=0;l<64;l++)e[t+l]=n[r+l]^u[l];for(l=8,a=1;l<16;l++)a=a+(255&c[l])|0,c[l]=255&a,a>>>=8;i-=64,t+=64,r+=64}if(i>0)for(b(u,c,o,E),l=0;l<i;l++)e[t+l]=n[r+l]^u[l];return 0}function S(e,t,n,r,i){var s,o,a=new Uint8Array(16),l=new Uint8Array(64);for(o=0;o<16;o++)a[o]=0;for(o=0;o<8;o++)a[o]=r[o];for(;n>=64;){for(b(l,a,i,E),o=0;o<64;o++)e[t+o]=l[o];for(o=8,s=1;o<16;o++)s=s+(255&a[o])|0,a[o]=255&s,s>>>=8;n-=64,t+=64}if(n>0)for(b(l,a,i,E),o=0;o<n;o++)e[t+o]=l[o];return 0}function w(e,t,n,r,i){var s=new Uint8Array(32);_(s,r,i,E);for(var o=new Uint8Array(8),a=0;a<8;a++)o[a]=r[a+16];return S(e,t,n,o,s)}function C(e,t,n,r,i,s,o){var a=new Uint8Array(32);_(a,s,o,E);for(var l=new Uint8Array(8),c=0;c<8;c++)l[c]=s[c+16];return A(e,t,n,r,i,l,a)}var k=function(e){var t,n,r,i,s,o,a,l;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,n=255&e[2]|(255&e[3])<<8,this.r[1]=(t>>>13|n<<3)&8191,r=255&e[4]|(255&e[5])<<8,this.r[2]=(n>>>10|r<<6)&7939,i=255&e[6]|(255&e[7])<<8,this.r[3]=(r>>>7|i<<9)&8191,s=255&e[8]|(255&e[9])<<8,this.r[4]=(i>>>4|s<<12)&255,this.r[5]=s>>>1&8190,o=255&e[10]|(255&e[11])<<8,this.r[6]=(s>>>14|o<<2)&8191,a=255&e[12]|(255&e[13])<<8,this.r[7]=(o>>>11|a<<5)&8065,l=255&e[14]|(255&e[15])<<8,this.r[8]=(a>>>8|l<<8)&8191,this.r[9]=l>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};function D(e,t,n,r,i,s){var o=new k(s);return o.update(n,r,i),o.finish(e,t),0}function T(e,t,n,r,i,s){var o=new Uint8Array(16);return D(o,0,n,r,i,s),m(e,t,o,0)}function x(e,t,n,r,i){var s;if(n<32)return -1;for(C(e,0,t,0,n,r,i),D(e,16,e,32,n-32,e),s=0;s<16;s++)e[s]=0;return 0}function R(e,t,n,r,i){var s,o=new Uint8Array(32);if(n<32||(w(o,0,32,r,i),0!==T(t,16,t,32,n-32,o)))return -1;for(C(e,0,t,0,n,r,i),s=0;s<32;s++)e[s]=0;return 0}function O(e,t){var n;for(n=0;n<16;n++)e[n]=0|t[n]}function M(e){var t,n,r=1;for(t=0;t<16;t++)r=Math.floor((n=e[t]+r+65535)/65536),e[t]=n-65536*r;e[0]+=r-1+37*(r-1)}function N(e,t,n){for(var r,i=~(n-1),s=0;s<16;s++)r=i&(e[s]^t[s]),e[s]^=r,t[s]^=r}function I(e,t){var n,i,s,o=r(),a=r();for(n=0;n<16;n++)a[n]=t[n];for(M(a),M(a),M(a),i=0;i<2;i++){for(n=1,o[0]=a[0]-65517;n<15;n++)o[n]=a[n]-65535-(o[n-1]>>16&1),o[n-1]&=65535;o[15]=a[15]-32767-(o[14]>>16&1),s=o[15]>>16&1,o[14]&=65535,N(a,o,1-s)}for(n=0;n<16;n++)e[2*n]=255&a[n],e[2*n+1]=a[n]>>8}function P(e,t){var n=new Uint8Array(32),r=new Uint8Array(32);return I(n,e),I(r,t),y(n,0,r,0)}function H(e){var t=new Uint8Array(32);return I(t,e),1&t[0]}function z(e,t){var n;for(n=0;n<16;n++)e[n]=t[2*n]+(t[2*n+1]<<8);e[15]&=32767}function U(e,t,n){for(var r=0;r<16;r++)e[r]=t[r]+n[r]}function B(e,t,n){for(var r=0;r<16;r++)e[r]=t[r]-n[r]}function L(e,t,n){var r,i,s=0,o=0,a=0,l=0,c=0,u=0,h=0,d=0,f=0,p=0,g=0,v=0,m=0,y=0,b=0,_=0,E=0,A=0,S=0,w=0,C=0,k=0,D=0,T=0,x=0,R=0,O=0,M=0,N=0,I=0,P=0,H=n[0],z=n[1],U=n[2],B=n[3],L=n[4],j=n[5],F=n[6],W=n[7],V=n[8],q=n[9],G=n[10],Y=n[11],Q=n[12],Z=n[13],$=n[14],K=n[15];s+=(r=t[0])*H,o+=r*z,a+=r*U,l+=r*B,c+=r*L,u+=r*j,h+=r*F,d+=r*W,f+=r*V,p+=r*q,g+=r*G,v+=r*Y,m+=r*Q,y+=r*Z,b+=r*$,_+=r*K,o+=(r=t[1])*H,a+=r*z,l+=r*U,c+=r*B,u+=r*L,h+=r*j,d+=r*F,f+=r*W,p+=r*V,g+=r*q,v+=r*G,m+=r*Y,y+=r*Q,b+=r*Z,_+=r*$,E+=r*K,a+=(r=t[2])*H,l+=r*z,c+=r*U,u+=r*B,h+=r*L,d+=r*j,f+=r*F,p+=r*W,g+=r*V,v+=r*q,m+=r*G,y+=r*Y,b+=r*Q,_+=r*Z,E+=r*$,A+=r*K,l+=(r=t[3])*H,c+=r*z,u+=r*U,h+=r*B,d+=r*L,f+=r*j,p+=r*F,g+=r*W,v+=r*V,m+=r*q,y+=r*G,b+=r*Y,_+=r*Q,E+=r*Z,A+=r*$,S+=r*K,c+=(r=t[4])*H,u+=r*z,h+=r*U,d+=r*B,f+=r*L,p+=r*j,g+=r*F,v+=r*W,m+=r*V,y+=r*q,b+=r*G,_+=r*Y,E+=r*Q,A+=r*Z,S+=r*$,w+=r*K,u+=(r=t[5])*H,h+=r*z,d+=r*U,f+=r*B,p+=r*L,g+=r*j,v+=r*F,m+=r*W,y+=r*V,b+=r*q,_+=r*G,E+=r*Y,A+=r*Q,S+=r*Z,w+=r*$,C+=r*K,h+=(r=t[6])*H,d+=r*z,f+=r*U,p+=r*B,g+=r*L,v+=r*j,m+=r*F,y+=r*W,b+=r*V,_+=r*q,E+=r*G,A+=r*Y,S+=r*Q,w+=r*Z,C+=r*$,k+=r*K,d+=(r=t[7])*H,f+=r*z,p+=r*U,g+=r*B,v+=r*L,m+=r*j,y+=r*F,b+=r*W,_+=r*V,E+=r*q,A+=r*G,S+=r*Y,w+=r*Q,C+=r*Z,k+=r*$,D+=r*K,f+=(r=t[8])*H,p+=r*z,g+=r*U,v+=r*B,m+=r*L,y+=r*j,b+=r*F,_+=r*W,E+=r*V,A+=r*q,S+=r*G,w+=r*Y,C+=r*Q,k+=r*Z,D+=r*$,T+=r*K,p+=(r=t[9])*H,g+=r*z,v+=r*U,m+=r*B,y+=r*L,b+=r*j,_+=r*F,E+=r*W,A+=r*V,S+=r*q,w+=r*G,C+=r*Y,k+=r*Q,D+=r*Z,T+=r*$,x+=r*K,g+=(r=t[10])*H,v+=r*z,m+=r*U,y+=r*B,b+=r*L,_+=r*j,E+=r*F,A+=r*W,S+=r*V,w+=r*q,C+=r*G,k+=r*Y,D+=r*Q,T+=r*Z,x+=r*$,R+=r*K,v+=(r=t[11])*H,m+=r*z,y+=r*U,b+=r*B,_+=r*L,E+=r*j,A+=r*F,S+=r*W,w+=r*V,C+=r*q,k+=r*G,D+=r*Y,T+=r*Q,x+=r*Z,R+=r*$,O+=r*K,m+=(r=t[12])*H,y+=r*z,b+=r*U,_+=r*B,E+=r*L,A+=r*j,S+=r*F,w+=r*W,C+=r*V,k+=r*q,D+=r*G,T+=r*Y,x+=r*Q,R+=r*Z,O+=r*$,M+=r*K,y+=(r=t[13])*H,b+=r*z,_+=r*U,E+=r*B,A+=r*L,S+=r*j,w+=r*F,C+=r*W,k+=r*V,D+=r*q,T+=r*G,x+=r*Y,R+=r*Q,O+=r*Z,M+=r*$,N+=r*K,b+=(r=t[14])*H,_+=r*z,E+=r*U,A+=r*B,S+=r*L,w+=r*j,C+=r*F,k+=r*W,D+=r*V,T+=r*q,x+=r*G,R+=r*Y,O+=r*Q,M+=r*Z,N+=r*$,I+=r*K,_+=(r=t[15])*H,E+=r*z,A+=r*U,S+=r*B,w+=r*L,C+=r*j,k+=r*F,D+=r*W,T+=r*V,x+=r*q,R+=r*G,O+=r*Y,M+=r*Q,N+=r*Z,I+=r*$,P+=r*K,s+=38*E,o+=38*A,a+=38*S,l+=38*w,c+=38*C,u+=38*k,h+=38*D,d+=38*T,f+=38*x,p+=38*R,g+=38*O,v+=38*M,m+=38*N,y+=38*I,b+=38*P,i=Math.floor((r=s+(i=1)+65535)/65536),s=r-65536*i,i=Math.floor((r=o+i+65535)/65536),o=r-65536*i,i=Math.floor((r=a+i+65535)/65536),a=r-65536*i,i=Math.floor((r=l+i+65535)/65536),l=r-65536*i,i=Math.floor((r=c+i+65535)/65536),c=r-65536*i,i=Math.floor((r=u+i+65535)/65536),u=r-65536*i,i=Math.floor((r=h+i+65535)/65536),h=r-65536*i,i=Math.floor((r=d+i+65535)/65536),d=r-65536*i,i=Math.floor((r=f+i+65535)/65536),f=r-65536*i,i=Math.floor((r=p+i+65535)/65536),p=r-65536*i,i=Math.floor((r=g+i+65535)/65536),g=r-65536*i,i=Math.floor((r=v+i+65535)/65536),v=r-65536*i,i=Math.floor((r=m+i+65535)/65536),m=r-65536*i,i=Math.floor((r=y+i+65535)/65536),y=r-65536*i,i=Math.floor((r=b+i+65535)/65536),b=r-65536*i,i=Math.floor((r=_+i+65535)/65536),_=r-65536*i,s+=i-1+37*(i-1),i=Math.floor((r=s+(i=1)+65535)/65536),s=r-65536*i,i=Math.floor((r=o+i+65535)/65536),o=r-65536*i,i=Math.floor((r=a+i+65535)/65536),a=r-65536*i,i=Math.floor((r=l+i+65535)/65536),l=r-65536*i,i=Math.floor((r=c+i+65535)/65536),c=r-65536*i,i=Math.floor((r=u+i+65535)/65536),u=r-65536*i,i=Math.floor((r=h+i+65535)/65536),h=r-65536*i,i=Math.floor((r=d+i+65535)/65536),d=r-65536*i,i=Math.floor((r=f+i+65535)/65536),f=r-65536*i,i=Math.floor((r=p+i+65535)/65536),p=r-65536*i,i=Math.floor((r=g+i+65535)/65536),g=r-65536*i,i=Math.floor((r=v+i+65535)/65536),v=r-65536*i,i=Math.floor((r=m+i+65535)/65536),m=r-65536*i,i=Math.floor((r=y+i+65535)/65536),y=r-65536*i,i=Math.floor((r=b+i+65535)/65536),b=r-65536*i,i=Math.floor((r=_+i+65535)/65536),_=r-65536*i,s+=i-1+37*(i-1),e[0]=s,e[1]=o,e[2]=a,e[3]=l,e[4]=c,e[5]=u,e[6]=h,e[7]=d,e[8]=f,e[9]=p,e[10]=g,e[11]=v,e[12]=m,e[13]=y,e[14]=b,e[15]=_}function j(e,t){L(e,t,t)}function F(e,t){var n,i=r();for(n=0;n<16;n++)i[n]=t[n];for(n=253;n>=0;n--)j(i,i),2!==n&&4!==n&&L(i,i,t);for(n=0;n<16;n++)e[n]=i[n]}function W(e,t){var n,i=r();for(n=0;n<16;n++)i[n]=t[n];for(n=250;n>=0;n--)j(i,i),1!==n&&L(i,i,t);for(n=0;n<16;n++)e[n]=i[n]}function V(e,t,n){var i,s,o=new Uint8Array(32),a=new Float64Array(80),l=r(),u=r(),h=r(),d=r(),f=r(),p=r();for(s=0;s<31;s++)o[s]=t[s];for(o[31]=127&t[31]|64,o[0]&=248,z(a,n),s=0;s<16;s++)u[s]=a[s],d[s]=l[s]=h[s]=0;for(s=254,l[0]=d[0]=1;s>=0;--s)N(l,u,i=o[s>>>3]>>>(7&s)&1),N(h,d,i),U(f,l,h),B(l,l,h),U(h,u,d),B(u,u,d),j(d,f),j(p,l),L(l,h,l),L(h,u,f),U(f,l,h),B(l,l,h),j(u,l),B(h,d,p),L(l,h,c),U(l,l,d),L(h,h,l),L(l,d,p),L(d,u,a),j(u,f),N(l,u,i),N(h,d,i);for(s=0;s<16;s++)a[s+16]=l[s],a[s+32]=h[s],a[s+48]=u[s],a[s+64]=d[s];var g=a.subarray(32),v=a.subarray(16);return F(g,g),L(v,v,g),I(e,v),0}function q(e,t){return V(e,t,o)}function G(e,t){return i(t,32),q(e,t)}function Y(e,t,n){var r=new Uint8Array(32);return V(r,n,t),_(e,s,r,E)}k.prototype.blocks=function(e,t,n){for(var r,i,s,o,a,l,c,u,h,d,f,p,g,v,m,y,b,_,E,A=this.fin?0:2048,S=this.h[0],w=this.h[1],C=this.h[2],k=this.h[3],D=this.h[4],T=this.h[5],x=this.h[6],R=this.h[7],O=this.h[8],M=this.h[9],N=this.r[0],I=this.r[1],P=this.r[2],H=this.r[3],z=this.r[4],U=this.r[5],B=this.r[6],L=this.r[7],j=this.r[8],F=this.r[9];n>=16;)S+=8191&(r=255&e[t+0]|(255&e[t+1])<<8),w+=(r>>>13|(i=255&e[t+2]|(255&e[t+3])<<8)<<3)&8191,C+=(i>>>10|(s=255&e[t+4]|(255&e[t+5])<<8)<<6)&8191,k+=(s>>>7|(o=255&e[t+6]|(255&e[t+7])<<8)<<9)&8191,D+=(o>>>4|(a=255&e[t+8]|(255&e[t+9])<<8)<<12)&8191,T+=a>>>1&8191,x+=(a>>>14|(l=255&e[t+10]|(255&e[t+11])<<8)<<2)&8191,R+=(l>>>11|(c=255&e[t+12]|(255&e[t+13])<<8)<<5)&8191,O+=(c>>>8|(u=255&e[t+14]|(255&e[t+15])<<8)<<8)&8191,M+=u>>>5|A,h=(d=(h=0)+S*N+w*(5*F)+C*(5*j)+k*(5*L)+D*(5*B))>>>13,d&=8191,d+=T*(5*U)+x*(5*z)+R*(5*H)+O*(5*P)+M*(5*I),h+=d>>>13,d&=8191,h=(f=h+S*I+w*N+C*(5*F)+k*(5*j)+D*(5*L))>>>13,f&=8191,f+=T*(5*B)+x*(5*U)+R*(5*z)+O*(5*H)+M*(5*P),h+=f>>>13,f&=8191,h=(p=h+S*P+w*I+C*N+k*(5*F)+D*(5*j))>>>13,p&=8191,p+=T*(5*L)+x*(5*B)+R*(5*U)+O*(5*z)+M*(5*H),h+=p>>>13,p&=8191,h=(g=h+S*H+w*P+C*I+k*N+D*(5*F))>>>13,g&=8191,g+=T*(5*j)+x*(5*L)+R*(5*B)+O*(5*U)+M*(5*z),h+=g>>>13,g&=8191,h=(v=h+S*z+w*H+C*P+k*I+D*N)>>>13,v&=8191,v+=T*(5*F)+x*(5*j)+R*(5*L)+O*(5*B)+M*(5*U),h+=v>>>13,v&=8191,h=(m=h+S*U+w*z+C*H+k*P+D*I)>>>13,m&=8191,m+=T*N+x*(5*F)+R*(5*j)+O*(5*L)+M*(5*B),h+=m>>>13,m&=8191,h=(y=h+S*B+w*U+C*z+k*H+D*P)>>>13,y&=8191,y+=T*I+x*N+R*(5*F)+O*(5*j)+M*(5*L),h+=y>>>13,y&=8191,h=(b=h+S*L+w*B+C*U+k*z+D*H)>>>13,b&=8191,b+=T*P+x*I+R*N+O*(5*F)+M*(5*j),h+=b>>>13,b&=8191,h=(_=h+S*j+w*L+C*B+k*U+D*z)>>>13,_&=8191,_+=T*H+x*P+R*I+O*N+M*(5*F),h+=_>>>13,_&=8191,h=(E=h+S*F+w*j+C*L+k*B+D*U)>>>13,E&=8191,E+=T*z+x*H+R*P+O*I+M*N,h+=E>>>13,E&=8191,d=8191&(h=(h=(h<<2)+h|0)+d|0),h>>>=13,f+=h,S=d,w=f,C=p,k=g,D=v,T=m,x=y,R=b,O=_,M=E,t+=16,n-=16;this.h[0]=S,this.h[1]=w,this.h[2]=C,this.h[3]=k,this.h[4]=D,this.h[5]=T,this.h[6]=x,this.h[7]=R,this.h[8]=O,this.h[9]=M},k.prototype.finish=function(e,t){var n,r,i,s,o=new Uint16Array(10);if(this.leftover){for(s=this.leftover,this.buffer[s++]=1;s<16;s++)this.buffer[s]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(n=this.h[1]>>>13,this.h[1]&=8191,s=2;s<10;s++)this.h[s]+=n,n=this.h[s]>>>13,this.h[s]&=8191;for(this.h[0]+=5*n,n=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=n,n=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=n,o[0]=this.h[0]+5,n=o[0]>>>13,o[0]&=8191,s=1;s<10;s++)o[s]=this.h[s]+n,n=o[s]>>>13,o[s]&=8191;for(o[9]-=8192,r=(1^n)-1,s=0;s<10;s++)o[s]&=r;for(s=0,r=~r;s<10;s++)this.h[s]=this.h[s]&r|o[s];for(s=1,this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,i=this.h[0]+this.pad[0],this.h[0]=65535&i;s<8;s++)i=(this.h[s]+this.pad[s]|0)+(i>>>16)|0,this.h[s]=65535&i;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},k.prototype.update=function(e,t,n){var r,i;if(this.leftover){for((i=16-this.leftover)>n&&(i=n),r=0;r<i;r++)this.buffer[this.leftover+r]=e[t+r];if(n-=i,t+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(n>=16&&(i=n-n%16,this.blocks(e,t,i),t+=i,n-=i),n){for(r=0;r<n;r++)this.buffer[this.leftover+r]=e[t+r];this.leftover+=n}};var Q=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Z(e,t,n,r){for(var i,s,o,a,l,c,u,h,d,f,p,g,v,m,y,b,_,E,A,S,w,C,k,D,T,x,R=new Int32Array(16),O=new Int32Array(16),M=e[0],N=e[1],I=e[2],P=e[3],H=e[4],z=e[5],U=e[6],B=e[7],L=t[0],j=t[1],F=t[2],W=t[3],V=t[4],q=t[5],G=t[6],Y=t[7],Z=0;r>=128;){for(A=0;A<16;A++)S=8*A+Z,R[A]=n[S+0]<<24|n[S+1]<<16|n[S+2]<<8|n[S+3],O[A]=n[S+4]<<24|n[S+5]<<16|n[S+6]<<8|n[S+7];for(A=0;A<80;A++)if(i=M,s=N,o=I,a=P,l=H,c=z,u=U,h=B,d=L,f=j,p=F,g=W,v=V,m=q,y=G,b=Y,w=B,k=65535&(C=Y),D=C>>>16,T=65535&w,x=w>>>16,w=(H>>>14|V<<18)^(H>>>18|V<<14)^(V>>>9|H<<23),k+=65535&(C=(V>>>14|H<<18)^(V>>>18|H<<14)^(H>>>9|V<<23)),D+=C>>>16,T+=65535&w,x+=w>>>16,w=H&z^~H&U,k+=65535&(C=V&q^~V&G),D+=C>>>16,T+=65535&w,x+=w>>>16,w=Q[2*A],k+=65535&(C=Q[2*A+1]),D+=C>>>16,T+=65535&w,x+=w>>>16,w=R[A%16],k+=65535&(C=O[A%16]),D+=C>>>16,T+=65535&w,x+=w>>>16,D+=k>>>16,T+=D>>>16,x+=T>>>16,_=65535&T|x<<16,E=65535&k|D<<16,w=_,k=65535&(C=E),D=C>>>16,T=65535&w,x=w>>>16,w=(M>>>28|L<<4)^(L>>>2|M<<30)^(L>>>7|M<<25),k+=65535&(C=(L>>>28|M<<4)^(M>>>2|L<<30)^(M>>>7|L<<25)),D+=C>>>16,T+=65535&w,x+=w>>>16,w=M&N^M&I^N&I,k+=65535&(C=L&j^L&F^j&F),D+=C>>>16,T+=65535&w,x+=w>>>16,D+=k>>>16,T+=D>>>16,x+=T>>>16,h=65535&T|x<<16,b=65535&k|D<<16,w=a,k=65535&(C=g),D=C>>>16,T=65535&w,x=w>>>16,w=_,k+=65535&(C=E),D+=C>>>16,T+=65535&w,x+=w>>>16,D+=k>>>16,T+=D>>>16,x+=T>>>16,a=65535&T|x<<16,g=65535&k|D<<16,N=i,I=s,P=o,H=a,z=l,U=c,B=u,M=h,j=d,F=f,W=p,V=g,q=v,G=m,Y=y,L=b,A%16==15)for(S=0;S<16;S++)w=R[S],k=65535&(C=O[S]),D=C>>>16,T=65535&w,x=w>>>16,w=R[(S+9)%16],k+=65535&(C=O[(S+9)%16]),D+=C>>>16,T+=65535&w,x+=w>>>16,w=((_=R[(S+1)%16])>>>1|(E=O[(S+1)%16])<<31)^(_>>>8|E<<24)^_>>>7,k+=65535&(C=(E>>>1|_<<31)^(E>>>8|_<<24)^(E>>>7|_<<25)),D+=C>>>16,T+=65535&w,x+=w>>>16,w=((_=R[(S+14)%16])>>>19|(E=O[(S+14)%16])<<13)^(E>>>29|_<<3)^_>>>6,k+=65535&(C=(E>>>19|_<<13)^(_>>>29|E<<3)^(E>>>6|_<<26)),D+=C>>>16,T+=65535&w,x+=w>>>16,D+=k>>>16,T+=D>>>16,x+=T>>>16,R[S]=65535&T|x<<16,O[S]=65535&k|D<<16;w=M,k=65535&(C=L),D=C>>>16,T=65535&w,x=w>>>16,w=e[0],k+=65535&(C=t[0]),D+=C>>>16,T+=65535&w,x+=w>>>16,D+=k>>>16,T+=D>>>16,x+=T>>>16,e[0]=M=65535&T|x<<16,t[0]=L=65535&k|D<<16,w=N,k=65535&(C=j),D=C>>>16,T=65535&w,x=w>>>16,w=e[1],k+=65535&(C=t[1]),D+=C>>>16,T+=65535&w,x+=w>>>16,D+=k>>>16,T+=D>>>16,x+=T>>>16,e[1]=N=65535&T|x<<16,t[1]=j=65535&k|D<<16,w=I,k=65535&(C=F),D=C>>>16,T=65535&w,x=w>>>16,w=e[2],k+=65535&(C=t[2]),D+=C>>>16,T+=65535&w,x+=w>>>16,D+=k>>>16,T+=D>>>16,x+=T>>>16,e[2]=I=65535&T|x<<16,t[2]=F=65535&k|D<<16,w=P,k=65535&(C=W),D=C>>>16,T=65535&w,x=w>>>16,w=e[3],k+=65535&(C=t[3]),D+=C>>>16,T+=65535&w,x+=w>>>16,D+=k>>>16,T+=D>>>16,x+=T>>>16,e[3]=P=65535&T|x<<16,t[3]=W=65535&k|D<<16,w=H,k=65535&(C=V),D=C>>>16,T=65535&w,x=w>>>16,w=e[4],k+=65535&(C=t[4]),D+=C>>>16,T+=65535&w,x+=w>>>16,D+=k>>>16,T+=D>>>16,x+=T>>>16,e[4]=H=65535&T|x<<16,t[4]=V=65535&k|D<<16,w=z,k=65535&(C=q),D=C>>>16,T=65535&w,x=w>>>16,w=e[5],k+=65535&(C=t[5]),D+=C>>>16,T+=65535&w,x+=w>>>16,D+=k>>>16,T+=D>>>16,x+=T>>>16,e[5]=z=65535&T|x<<16,t[5]=q=65535&k|D<<16,w=U,k=65535&(C=G),D=C>>>16,T=65535&w,x=w>>>16,w=e[6],k+=65535&(C=t[6]),D+=C>>>16,T+=65535&w,x+=w>>>16,D+=k>>>16,T+=D>>>16,x+=T>>>16,e[6]=U=65535&T|x<<16,t[6]=G=65535&k|D<<16,w=B,k=65535&(C=Y),D=C>>>16,T=65535&w,x=w>>>16,w=e[7],k+=65535&(C=t[7]),D+=C>>>16,T+=65535&w,x+=w>>>16,D+=k>>>16,T+=D>>>16,x+=T>>>16,e[7]=B=65535&T|x<<16,t[7]=Y=65535&k|D<<16,Z+=128,r-=128}return r}function $(e,t,n){var r,i=new Int32Array(8),s=new Int32Array(8),o=new Uint8Array(256),a=n;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,s[0]=4089235720,s[1]=2227873595,s[2]=4271175723,s[3]=1595750129,s[4]=2917565137,s[5]=725511199,s[6]=4215389547,s[7]=327033209,Z(i,s,t,n),n%=128,r=0;r<n;r++)o[r]=t[a-n+r];for(o[n]=128,o[(n=256-128*(n<112?1:0))-9]=0,g(o,n-8,a/536870912|0,a<<3),Z(i,s,o,n),r=0;r<8;r++)g(e,8*r,i[r],s[r]);return 0}function K(e,t){var n=r(),i=r(),s=r(),o=r(),a=r(),l=r(),c=r(),u=r(),d=r();B(n,e[1],e[0]),B(d,t[1],t[0]),L(n,n,d),U(i,e[0],e[1]),U(d,t[0],t[1]),L(i,i,d),L(s,e[3],t[3]),L(s,s,h),L(o,e[2],t[2]),U(o,o,o),B(a,i,n),B(l,o,s),U(c,o,s),U(u,i,n),L(e[0],a,l),L(e[1],u,c),L(e[2],c,l),L(e[3],a,u)}function J(e,t,n){var r;for(r=0;r<4;r++)N(e[r],t[r],n)}function X(e,t){var n=r(),i=r(),s=r();F(s,t[2]),L(n,t[0],s),L(i,t[1],s),I(e,i),e[31]^=H(n)<<7}function ee(e,t,n){var r,i;for(O(e[0],a),O(e[1],l),O(e[2],l),O(e[3],a),i=255;i>=0;--i)J(e,t,r=n[i/8|0]>>(7&i)&1),K(t,e),K(e,e),J(e,t,r)}function et(e,t){var n=[r(),r(),r(),r()];O(n[0],d),O(n[1],f),O(n[2],l),L(n[3],d,f),ee(e,n,t)}function en(e,t,n){var s,o=new Uint8Array(64),a=[r(),r(),r(),r()];for(n||i(t,32),$(o,t,32),o[0]&=248,o[31]&=127,o[31]|=64,et(a,o),X(e,a),s=0;s<32;s++)t[s+32]=e[s];return 0}var er=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ei(e,t){var n,r,i,s;for(r=63;r>=32;--r){for(n=0,i=r-32,s=r-12;i<s;++i)t[i]+=n-16*t[r]*er[i-(r-32)],n=Math.floor((t[i]+128)/256),t[i]-=256*n;t[i]+=n,t[r]=0}for(i=0,n=0;i<32;i++)t[i]+=n-(t[31]>>4)*er[i],n=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=n*er[i];for(r=0;r<32;r++)t[r+1]+=t[r]>>8,e[r]=255&t[r]}function es(e){var t,n=new Float64Array(64);for(t=0;t<64;t++)n[t]=e[t];for(t=0;t<64;t++)e[t]=0;ei(e,n)}function eo(e,t,n,i){var s,o,a=new Uint8Array(64),l=new Uint8Array(64),c=new Uint8Array(64),u=new Float64Array(64),h=[r(),r(),r(),r()];$(a,i,32),a[0]&=248,a[31]&=127,a[31]|=64;var d=n+64;for(s=0;s<n;s++)e[64+s]=t[s];for(s=0;s<32;s++)e[32+s]=a[32+s];for($(c,e.subarray(32),n+32),es(c),et(h,c),X(e,h),s=32;s<64;s++)e[s]=i[s];for($(l,e,n+64),es(l),s=0;s<64;s++)u[s]=0;for(s=0;s<32;s++)u[s]=c[s];for(s=0;s<32;s++)for(o=0;o<32;o++)u[s+o]+=l[s]*a[o];return ei(e.subarray(32),u),d}function ea(e,t,n,i){var s,o,c,h,d,f,g,v,m=new Uint8Array(32),b=new Uint8Array(64),_=[r(),r(),r(),r()],E=[r(),r(),r(),r()];if(n<64||(s=r(),o=r(),c=r(),h=r(),d=r(),f=r(),g=r(),(O(E[2],l),z(E[1],i),j(c,E[1]),L(h,c,u),B(c,c,E[2]),U(h,E[2],h),j(d,h),j(f,d),L(g,f,d),L(s,g,c),L(s,s,h),W(s,s),L(s,s,c),L(s,s,h),L(s,s,h),L(E[0],s,h),j(o,E[0]),L(o,o,h),P(o,c)&&L(E[0],E[0],p),j(o,E[0]),L(o,o,h),P(o,c))?-1:(H(E[0])===i[31]>>7&&B(E[0],a,E[0]),L(E[3],E[0],E[1]),0)))return -1;for(v=0;v<n;v++)e[v]=t[v];for(v=0;v<32;v++)e[v+32]=i[v];if($(b,e,n),es(b),ee(_,E,b),et(E,t.subarray(32)),K(_,E),X(m,_),n-=64,y(t,0,m,0)){for(v=0;v<n;v++)e[v]=0;return -1}for(v=0;v<n;v++)e[v]=t[v+64];return n}function el(e,t){if(32!==e.length)throw Error("bad key size");if(24!==t.length)throw Error("bad nonce size")}function ec(){for(var e=0;e<arguments.length;e++)if(!(arguments[e]instanceof Uint8Array))throw TypeError("unexpected type, use Uint8Array")}function eu(e){for(var t=0;t<e.length;t++)e[t]=0}e.lowlevel={crypto_core_hsalsa20:_,crypto_stream_xor:C,crypto_stream:w,crypto_stream_salsa20_xor:A,crypto_stream_salsa20:S,crypto_onetimeauth:D,crypto_onetimeauth_verify:T,crypto_verify_16:m,crypto_verify_32:y,crypto_secretbox:x,crypto_secretbox_open:R,crypto_scalarmult:V,crypto_scalarmult_base:q,crypto_box_beforenm:Y,crypto_box_afternm:x,crypto_box:function(e,t,n,r,i,s){var o=new Uint8Array(32);return Y(o,i,s),x(e,t,n,r,o)},crypto_box_open:function(e,t,n,r,i,s){var o=new Uint8Array(32);return Y(o,i,s),R(e,t,n,r,o)},crypto_box_keypair:G,crypto_hash:$,crypto_sign:eo,crypto_sign_keypair:en,crypto_sign_open:ea,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:64,crypto_sign_PUBLICKEYBYTES:32,crypto_sign_SECRETKEYBYTES:64,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:r,D:u,L:er,pack25519:I,unpack25519:z,M:L,A:U,S:j,Z:B,pow2523:W,add:K,set25519:O,modL:ei,scalarmult:ee,scalarbase:et},e.randomBytes=function(e){var t=new Uint8Array(e);return i(t,e),t},e.secretbox=function(e,t,n){ec(e,t,n),el(n,t);for(var r=new Uint8Array(32+e.length),i=new Uint8Array(r.length),s=0;s<e.length;s++)r[s+32]=e[s];return x(i,r,r.length,t,n),i.subarray(16)},e.secretbox.open=function(e,t,n){ec(e,t,n),el(n,t);for(var r=new Uint8Array(16+e.length),i=new Uint8Array(r.length),s=0;s<e.length;s++)r[s+16]=e[s];return r.length<32||0!==R(i,r,r.length,t,n)?null:i.subarray(32)},e.secretbox.keyLength=32,e.secretbox.nonceLength=24,e.secretbox.overheadLength=16,e.scalarMult=function(e,t){if(ec(e,t),32!==e.length)throw Error("bad n size");if(32!==t.length)throw Error("bad p size");var n=new Uint8Array(32);return V(n,e,t),n},e.scalarMult.base=function(e){if(ec(e),32!==e.length)throw Error("bad n size");var t=new Uint8Array(32);return q(t,e),t},e.scalarMult.scalarLength=32,e.scalarMult.groupElementLength=32,e.box=function(t,n,r,i){var s=e.box.before(r,i);return e.secretbox(t,n,s)},e.box.before=function(e,t){ec(e,t),function(e,t){if(32!==e.length)throw Error("bad public key size");if(32!==t.length)throw Error("bad secret key size")}(e,t);var n=new Uint8Array(32);return Y(n,e,t),n},e.box.after=e.secretbox,e.box.open=function(t,n,r,i){var s=e.box.before(r,i);return e.secretbox.open(t,n,s)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(32);return G(e,t),{publicKey:e,secretKey:t}},e.box.keyPair.fromSecretKey=function(e){if(ec(e),32!==e.length)throw Error("bad secret key size");var t=new Uint8Array(32);return q(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},e.box.publicKeyLength=32,e.box.secretKeyLength=32,e.box.sharedKeyLength=32,e.box.nonceLength=24,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(e,t){if(ec(e,t),64!==t.length)throw Error("bad secret key size");var n=new Uint8Array(64+e.length);return eo(n,e,e.length,t),n},e.sign.open=function(e,t){if(ec(e,t),32!==t.length)throw Error("bad public key size");var n=new Uint8Array(e.length),r=ea(n,e,e.length,t);if(r<0)return null;for(var i=new Uint8Array(r),s=0;s<i.length;s++)i[s]=n[s];return i},e.sign.detached=function(t,n){for(var r=e.sign(t,n),i=new Uint8Array(64),s=0;s<i.length;s++)i[s]=r[s];return i},e.sign.detached.verify=function(e,t,n){if(ec(e,t,n),64!==t.length)throw Error("bad signature size");if(32!==n.length)throw Error("bad public key size");var r,i=new Uint8Array(64+e.length),s=new Uint8Array(64+e.length);for(r=0;r<64;r++)i[r]=t[r];for(r=0;r<e.length;r++)i[r+64]=e[r];return ea(s,i,i.length,n)>=0},e.sign.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(64);return en(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if(ec(e),64!==e.length)throw Error("bad secret key size");for(var t=new Uint8Array(32),n=0;n<t.length;n++)t[n]=e[32+n];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(ec(e),32!==e.length)throw Error("bad seed size");for(var t=new Uint8Array(32),n=new Uint8Array(64),r=0;r<32;r++)n[r]=e[r];return en(t,n,!0),{publicKey:t,secretKey:n}},e.sign.publicKeyLength=32,e.sign.secretKeyLength=64,e.sign.seedLength=32,e.sign.signatureLength=64,e.hash=function(e){ec(e);var t=new Uint8Array(64);return $(t,e,e.length),t},e.hash.hashLength=64,e.verify=function(e,t){return ec(e,t),0!==e.length&&0!==t.length&&e.length===t.length&&0===v(e,0,t,0,e.length)},e.setPRNG=function(e){i=e},(t="undefined"!=typeof self?self.crypto||self.msCrypto:null)&&t.getRandomValues?e.setPRNG(function(e,n){var r,i=new Uint8Array(n);for(r=0;r<n;r+=65536)t.getRandomValues(i.subarray(r,r+Math.min(n-r,65536)));for(r=0;r<n;r++)e[r]=i[r];eu(i)}):(t=n(3))&&t.randomBytes&&e.setPRNG(function(e,n){var r,i=t.randomBytes(n);for(r=0;r<n;r++)e[r]=i[r];eu(i)})}(e.exports?e.exports:self.nacl=self.nacl||{})},function(e,t,n){e.exports=n(47).default},function(e,t){e.exports=n(4300)},function(e,t){e.exports=n(2361)},function(e,t,n){"use strict";var r=n(5).Stream,i=n(0),s=function(e){this.readable=this.writable=!0,this._paused=!1,this._driver=e};i.inherits(s,r),s.prototype.pause=function(){this._paused=!0,this._driver.messages._paused=!0},s.prototype.resume=function(){this._paused=!1,this.emit("drain");var e=this._driver.messages;e._paused=!1,e.emit("drain")},s.prototype.write=function(e){return!!this.writable&&(this._driver.parse(e),!this._paused)},s.prototype.end=function(e){if(this.writable){void 0!==e&&this.write(e),this.writable=!1;var t=this._driver.messages;t.readable&&(t.readable=t.writable=!1,t.emit("end"))}},s.prototype.destroy=function(){this.end()};var o=function(e){this.readable=this.writable=!0,this._paused=!1,this._driver=e};i.inherits(o,r),o.prototype.pause=function(){this._driver.io._paused=!0},o.prototype.resume=function(){this._driver.io._paused=!1,this._driver.io.emit("drain")},o.prototype.write=function(e){return!!this.writable&&("string"==typeof e?this._driver.text(e):this._driver.binary(e),!this._paused)},o.prototype.end=function(e){void 0!==e&&this.write(e)},o.prototype.destroy=function(){},t.IO=s,t.Messages=o},function(e,t,n){"use strict";var r=n(1).Buffer,i=function(){this._queue=[],this._queueSize=0,this._offset=0};i.prototype.put=function(e){e&&0!==e.length&&(r.isBuffer(e)||(e=r.from(e)),this._queue.push(e),this._queueSize+=e.length)},i.prototype.read=function(e){if(e>this._queueSize)return null;if(0===e)return r.alloc(0);this._queueSize-=e;var t,n,i=this._queue,s=e,o=i[0];if(o.length>=e)return o.length===e?i.shift():(n=o.slice(0,e),i[0]=o.slice(e),n);for(var a=0,l=i.length;a<l&&!(s<i[a].length);a++)s-=i[a].length;return t=i.splice(0,a),s>0&&i.length>0&&(t.push(i[0].slice(0,s)),i[0]=i[0].slice(s)),r.concat(t,e)},i.prototype.eachByte=function(e,t){for(var n,r,i;this._queue.length>0;){for(r=(n=this._queue[0]).length;this._offset<r;)i=this._offset,this._offset+=1,e.call(t,n[i]);this._offset=0,this._queue.shift()}},e.exports=i},function(e,t,n){"use strict";var r=n(1).Buffer,i=n(3),s=n(6),o=n(0),a=n(10),l=n(2),c=n(12),u=n(36),h=function(e,t){this.version="hybi-"+c.VERSION,c.call(this,null,e,t),this.readyState=-1,this._key=h.generateKey(),this._accept=c.generateAccept(this._key),this._http=new a("response");var n=s.parse(this.url),i=n.auth&&r.from(n.auth,"utf8").toString("base64");if(0>this.VALID_PROTOCOLS.indexOf(n.protocol))throw Error(this.url+" is not a valid WebSocket URL");this._pathname=(n.pathname||"/")+(n.search||""),this._headers.set("Host",n.host),this._headers.set("Upgrade","websocket"),this._headers.set("Connection","Upgrade"),this._headers.set("Sec-WebSocket-Key",this._key),this._headers.set("Sec-WebSocket-Version",c.VERSION),this._protocols.length>0&&this._headers.set("Sec-WebSocket-Protocol",this._protocols.join(", ")),i&&this._headers.set("Authorization","Basic "+i)};o.inherits(h,c),h.generateKey=function(){return i.randomBytes(16).toString("base64")};var d={VALID_PROTOCOLS:["ws:","wss:"],proxy:function(e,t){return new u(this,e,t)},start:function(){return -1===this.readyState&&(this._write(this._handshakeRequest()),this.readyState=0,!0)},parse:function(e){if(3!==this.readyState){if(this.readyState>0)return c.prototype.parse.call(this,e);this._http.parse(e),this._http.isComplete()&&(this._validateHandshake(),3!==this.readyState&&(this._open(),this.parse(this._http.body)))}},_handshakeRequest:function(){var e=this._extensions.generateOffer();e&&this._headers.set("Sec-WebSocket-Extensions",e);var t=["GET "+this._pathname+" HTTP/1.1",this._headers.toString(),""];return r.from(t.join("\r\n"),"utf8")},_failHandshake:function(e){e="Error during WebSocket handshake: "+e,this.readyState=3,this.emit("error",Error(e)),this.emit("close",new l.CloseEvent(this.ERRORS.protocol_error,e))},_validateHandshake:function(){if(this.statusCode=this._http.statusCode,this.headers=this._http.headers,this._http.error)return this._failHandshake(this._http.error.message);if(101!==this._http.statusCode)return this._failHandshake("Unexpected response code: "+this._http.statusCode);var e=this._http.headers,t=e.upgrade||"",n=e.connection||"",r=e["sec-websocket-accept"]||"",i=e["sec-websocket-protocol"]||"";if(""===t)return this._failHandshake("'Upgrade' header is missing");if("websocket"!==t.toLowerCase())return this._failHandshake("'Upgrade' header value is not 'WebSocket'");if(""===n)return this._failHandshake("'Connection' header is missing");if("upgrade"!==n.toLowerCase())return this._failHandshake("'Connection' header value is not 'Upgrade'");if(r!==this._accept)return this._failHandshake("Sec-WebSocket-Accept mismatch");if(this.protocol=null,""!==i){if(0>this._protocols.indexOf(i))return this._failHandshake("Sec-WebSocket-Protocol mismatch");this.protocol=i}try{this._extensions.activate(this.headers["sec-websocket-extensions"])}catch(e){return this._failHandshake(e.message)}}};for(var f in d)h.prototype[f]=d[f];e.exports=h},function(e,t,n){var r=n(28);function i(e){r.ok(e===i.REQUEST||e===i.RESPONSE||void 0===e),void 0===e||this.initialize(e),this.maxHeaderSize=i.maxHeaderSize}t.HTTPParser=i,i.prototype.initialize=function(e,t){r.ok(e===i.REQUEST||e===i.RESPONSE),this.type=e,this.state=e+"_LINE",this.info={headers:[],upgrade:!1},this.trailers=[],this.line="",this.isChunked=!1,this.connection="",this.headerSize=0,this.body_bytes=null,this.isUserCall=!1,this.hadError=!1},i.encoding="ascii",i.maxHeaderSize=81920,i.REQUEST="REQUEST",i.RESPONSE="RESPONSE";var s=i.kOnHeaders=1,o=i.kOnHeadersComplete=2,a=i.kOnBody=3,l=i.kOnMessageComplete=4;i.prototype[s]=i.prototype[o]=i.prototype[a]=i.prototype[l]=function(){};var c=!0;Object.defineProperty(i,"kOnExecute",{get:function(){return c=!1,99}});var u=t.methods=i.methods=["DELETE","GET","HEAD","POST","PUT","CONNECT","OPTIONS","TRACE","COPY","LOCK","MKCOL","MOVE","PROPFIND","PROPPATCH","SEARCH","UNLOCK","BIND","REBIND","UNBIND","ACL","REPORT","MKACTIVITY","CHECKOUT","MERGE","M-SEARCH","NOTIFY","SUBSCRIBE","UNSUBSCRIBE","PATCH","PURGE","MKCALENDAR","LINK","UNLINK","SOURCE"],h=u.indexOf("CONNECT");i.prototype.reinitialize=i,i.prototype.close=i.prototype.pause=i.prototype.resume=i.prototype.free=function(){},i.prototype._compatMode0_11=!1,i.prototype.getAsyncId=function(){return 0};var d={REQUEST_LINE:!0,RESPONSE_LINE:!0,HEADER:!0};i.prototype.execute=function(e,t,n){if(!(this instanceof i))throw TypeError("not a HTTPParser");t=t||0,n="number"==typeof n?n:e.length,this.chunk=e,this.offset=t;var r=this.end=t+n;try{for(;this.offset<r&&!this[this.state](););}catch(e){if(this.isUserCall)throw e;return this.hadError=!0,e}return(this.chunk=null,n=this.offset-t,d[this.state]&&(this.headerSize+=n,this.headerSize>(this.maxHeaderSize||i.maxHeaderSize)))?Error("max header size exceeded"):n};var f={REQUEST_LINE:!0,RESPONSE_LINE:!0,BODY_RAW:!0};i.prototype.finish=function(){if(!this.hadError){if(!f[this.state])return Error("invalid state for EOF");"BODY_RAW"===this.state&&this.userCall()(this[l]())}},i.prototype.consume=i.prototype.unconsume=i.prototype.getCurrentBuffer=function(){},i.prototype.userCall=function(){this.isUserCall=!0;var e=this;return function(t){return e.isUserCall=!1,t}},i.prototype.nextRequest=function(){this.userCall()(this[l]()),this.reinitialize(this.type)},i.prototype.consumeLine=function(){for(var e=this.end,t=this.chunk,n=this.offset;n<e;n++)if(10===t[n]){var r=this.line+t.toString(i.encoding,this.offset,n);return"\r"===r.charAt(r.length-1)&&(r=r.substr(0,r.length-1)),this.line="",this.offset=n+1,r}this.line+=t.toString(i.encoding,this.offset,this.end),this.offset=this.end};var p=/^([^: \t]+):[ \t]*((?:.*[^ \t])|)/,g=/^[ \t]+(.*[^ \t])/;i.prototype.parseHeader=function(e,t){if(-1!==e.indexOf("\r"))throw y("HPE_LF_EXPECTED");var n=p.exec(e),r=n&&n[1];if(r)t.push(r),t.push(n[2]);else{var i=g.exec(e);i&&t.length&&(t[t.length-1]&&(t[t.length-1]+=" "),t[t.length-1]+=i[1])}};var v=/^([A-Z-]+) ([^ ]+) HTTP\/(\d)\.(\d)$/;i.prototype.REQUEST_LINE=function(){var e=this.consumeLine();if(e){var t=v.exec(e);if(null===t)throw y("HPE_INVALID_CONSTANT");if(this.info.method=this._compatMode0_11?t[1]:u.indexOf(t[1]),-1===this.info.method)throw Error("invalid request method");this.info.url=t[2],this.info.versionMajor=+t[3],this.info.versionMinor=+t[4],this.body_bytes=0,this.state="HEADER"}};var m=/^HTTP\/(\d)\.(\d) (\d{3}) ?(.*)$/;function y(e){var t=Error("Parse Error");return t.code=e,t}i.prototype.RESPONSE_LINE=function(){var e=this.consumeLine();if(e){var t=m.exec(e);if(null===t)throw y("HPE_INVALID_CONSTANT");this.info.versionMajor=+t[1],this.info.versionMinor=+t[2];var n=this.info.statusCode=+t[3];this.info.statusMessage=t[4],((n/100|0)==1||204===n||304===n)&&(this.body_bytes=0),this.state="HEADER"}},i.prototype.shouldKeepAlive=function(){if(this.info.versionMajor>0&&this.info.versionMinor>0){if(-1!==this.connection.indexOf("close"))return!1}else if(-1===this.connection.indexOf("keep-alive"))return!1;return null!==this.body_bytes||!!this.isChunked},i.prototype.HEADER=function(){var e=this.consumeLine();if(void 0!==e){var t=this.info;if(e)this.parseHeader(e,t.headers);else{for(var n,r,s=t.headers,a=!1,l=!1,u=0;u<s.length;u+=2)switch(s[u].toLowerCase()){case"transfer-encoding":this.isChunked="chunked"===s[u+1].toLowerCase();break;case"content-length":if(n=+s[u+1],a){if(n!==this.body_bytes)throw y("HPE_UNEXPECTED_CONTENT_LENGTH")}else a=!0,this.body_bytes=n;break;case"connection":this.connection+=s[u+1].toLowerCase();break;case"upgrade":l=!0}if(this.isChunked&&a&&(a=!1,this.body_bytes=null),l&&-1!=this.connection.indexOf("upgrade")?t.upgrade=this.type===i.REQUEST||101===t.statusCode:t.upgrade=t.method===h,this.isChunked&&t.upgrade&&(this.isChunked=!1),t.shouldKeepAlive=this.shouldKeepAlive(),2===(r=c?this.userCall()(this[o](t)):this.userCall()(this[o](t.versionMajor,t.versionMinor,t.headers,t.method,t.url,t.statusCode,t.statusMessage,t.upgrade,t.shouldKeepAlive))))return this.nextRequest(),!0;if(this.isChunked&&!r)this.state="BODY_CHUNKHEAD";else{if(r||0===this.body_bytes)return this.nextRequest(),t.upgrade;null===this.body_bytes?this.state="BODY_RAW":this.state="BODY_SIZED"}}}},i.prototype.BODY_CHUNKHEAD=function(){var e=this.consumeLine();void 0!==e&&(this.body_bytes=parseInt(e,16),this.body_bytes?this.state="BODY_CHUNK":this.state="BODY_CHUNKTRAILERS")},i.prototype.BODY_CHUNK=function(){var e=Math.min(this.end-this.offset,this.body_bytes);this.userCall()(this[a](this.chunk,this.offset,e)),this.offset+=e,this.body_bytes-=e,this.body_bytes||(this.state="BODY_CHUNKEMPTYLINE")},i.prototype.BODY_CHUNKEMPTYLINE=function(){var e=this.consumeLine();void 0!==e&&(r.equal(e,""),this.state="BODY_CHUNKHEAD")},i.prototype.BODY_CHUNKTRAILERS=function(){var e=this.consumeLine();void 0!==e&&(e?this.parseHeader(e,this.trailers):(this.trailers.length&&this.userCall()(this[s](this.trailers,"")),this.nextRequest()))},i.prototype.BODY_RAW=function(){var e=this.end-this.offset;this.userCall()(this[a](this.chunk,this.offset,e)),this.offset=this.end},i.prototype.BODY_SIZED=function(){var e=Math.min(this.end-this.offset,this.body_bytes);this.userCall()(this[a](this.chunk,this.offset,e)),this.offset+=e,this.body_bytes-=e,this.body_bytes||this.nextRequest()},["Headers","HeadersComplete","Body","MessageComplete"].forEach(function(e){var t=i["kOn"+e];Object.defineProperty(i.prototype,"on"+e,{get:function(){return this[t]},set:function(e){return this._compatMode0_11=!0,h="CONNECT",this[t]=e}})})},function(e,t){e.exports=n(9491)},function(e,t,n){"use strict";var r=n(30),i=n(31),s=function(){this._rsv1=this._rsv2=this._rsv3=null,this._byName={},this._inOrder=[],this._sessions=[],this._index={}};s.MESSAGE_OPCODES=[1,2];var o={add:function(e){if("string"!=typeof e.name)throw TypeError("extension.name must be a string");if("permessage"!==e.type)throw TypeError('extension.type must be "permessage"');if("boolean"!=typeof e.rsv1)throw TypeError("extension.rsv1 must be true or false");if("boolean"!=typeof e.rsv2)throw TypeError("extension.rsv2 must be true or false");if("boolean"!=typeof e.rsv3)throw TypeError("extension.rsv3 must be true or false");if(this._byName.hasOwnProperty(e.name))throw TypeError('An extension with name "'+e.name+'" is already registered');this._byName[e.name]=e,this._inOrder.push(e)},generateOffer:function(){var e=[],t=[],n={};return this._inOrder.forEach(function(i){var s=i.createClientSession();if(s){var o=[i,s];e.push(o),n[i.name]=o;var a=s.generateOffer();(a=a?[].concat(a):[]).forEach(function(e){t.push(r.serializeParams(i.name,e))},this)}},this),this._sessions=e,this._index=n,t.length>0?t.join(", "):null},activate:function(e){var t=r.parseHeader(e),n=[];t.eachOffer(function(e,t){var i=this._index[e];if(!i)throw Error('Server sent an extension response for unknown extension "'+e+'"');var s=i[0],o=i[1],a=this._reserved(s);if(a)throw Error("Server sent two extension responses that use the RSV"+a[0]+' bit: "'+a[1]+'" and "'+s.name+'"');if(!0!==o.activate(t))throw Error("Server sent unacceptable extension parameters: "+r.serializeParams(e,t));this._reserve(s),n.push(i)},this),this._sessions=n,this._pipeline=new i(n)},generateResponse:function(e){var t=[],n=[],s=r.parseHeader(e);return this._inOrder.forEach(function(e){var i=s.byName(e.name);if(!(0===i.length||this._reserved(e))){var o=e.createServerSession(i);o&&(this._reserve(e),t.push([e,o]),n.push(r.serializeParams(e.name,o.generateResponse())))}},this),this._sessions=t,this._pipeline=new i(t),n.length>0?n.join(", "):null},validFrameRsv:function(e){var t,n={rsv1:!1,rsv2:!1,rsv3:!1};if(s.MESSAGE_OPCODES.indexOf(e.opcode)>=0)for(var r=0,i=this._sessions.length;r<i;r++)t=this._sessions[r][0],n.rsv1=n.rsv1||t.rsv1,n.rsv2=n.rsv2||t.rsv2,n.rsv3=n.rsv3||t.rsv3;return(n.rsv1||!e.rsv1)&&(n.rsv2||!e.rsv2)&&(n.rsv3||!e.rsv3)},processIncomingMessage:function(e,t,n){this._pipeline.processIncomingMessage(e,t,n)},processOutgoingMessage:function(e,t,n){this._pipeline.processOutgoingMessage(e,t,n)},close:function(e,t){if(!this._pipeline)return e.call(t);this._pipeline.close(e,t)},_reserve:function(e){this._rsv1=this._rsv1||e.rsv1&&e.name,this._rsv2=this._rsv2||e.rsv2&&e.name,this._rsv3=this._rsv3||e.rsv3&&e.name},_reserved:function(e){return this._rsv1&&e.rsv1?[1,this._rsv1]:this._rsv2&&e.rsv2?[2,this._rsv2]:!!this._rsv3&&!!e.rsv3&&[3,this._rsv3]}};for(var a in o)s.prototype[a]=o[a];e.exports=s},function(e,t,n){"use strict";var r=/([!#\$%&'\*\+\-\.\^_`\|~0-9A-Za-z]+)/,i=/([^!#\$%&'\*\+\-\.\^_`\|~0-9A-Za-z])/g,s=RegExp(r.source+"(?:=(?:"+r.source+"|"+/"((?:\\[\x00-\x7f]|[^\x00-\x08\x0a-\x1f\x7f"\\])*)"/.source+"))?"),o=RegExp(r.source+"(?: *; *"+s.source+")*","g"),a=RegExp("^"+o.source+"(?: *, *"+o.source+")*$"),l=/^-?(0|[1-9][0-9]*)(\.[0-9]+)?$/,c=Object.prototype.hasOwnProperty,u=function(){this._byName={},this._inOrder=[]};u.prototype.push=function(e,t){c.call(this._byName,e)||(this._byName[e]=[]),this._byName[e].push(t),this._inOrder.push({name:e,params:t})},u.prototype.eachOffer=function(e,t){for(var n=this._inOrder,r=0,i=n.length;r<i;r++)e.call(t,n[r].name,n[r].params)},u.prototype.byName=function(e){return this._byName[e]||[]},u.prototype.toArray=function(){return this._inOrder.slice()},e.exports={parseHeader:function(e){var t=new u;if(""===e||void 0===e)return t;if(!a.test(e))throw SyntaxError("Invalid Sec-WebSocket-Extensions header: "+e);return e.match(o).forEach(function(e){var n=e.match(RegExp(s.source,"g")),r=n.shift(),i={};n.forEach(function(e){var t,n=e.match(s),r=n[1];t=void 0!==n[2]?n[2]:void 0===n[3]||n[3].replace(/\\/g,""),l.test(t)&&(t=parseFloat(t)),c.call(i,r)?(i[r]=[].concat(i[r]),i[r].push(t)):i[r]=t},this),t.push(r,i)},this),t},serializeParams:function(e,t){var n=[],r=function(e,t){t instanceof Array?t.forEach(function(t){r(e,t)}):!0===t?n.push(e):"number"==typeof t?n.push(e+"="+t):i.test(t)?n.push(e+'="'+t.replace(/"/g,'\\"')+'"'):n.push(e+"="+t)};for(var s in t)r(s,t[s]);return[e].concat(n).join("; ")}}},function(e,t,n){"use strict";var r=n(32),i=n(14),s=function(e){this._cells=e.map(function(e){return new r(e)}),this._stopped={incoming:!1,outgoing:!1}};s.prototype.processIncomingMessage=function(e,t,n){this._stopped.incoming||this._loop("incoming",this._cells.length-1,-1,-1,e,t,n)},s.prototype.processOutgoingMessage=function(e,t,n){this._stopped.outgoing||this._loop("outgoing",0,this._cells.length,1,e,t,n)},s.prototype.close=function(e,t){this._stopped={incoming:!0,outgoing:!0};var n=this._cells.map(function(e){return e.close()});e&&i.all(n).then(function(){e.call(t)})},s.prototype._loop=function(e,t,n,r,i,s,o){for(var a=this._cells,l=a.length,c=this;l--;)a[l].pending(e);var u=function(t,i,l){if(t===n)return s.call(o,i,l);a[t][e](i,l,function(n,i){n&&(c._stopped[e]=!0),u(t+r,n,i)})};u(t,null,i)},e.exports=s},function(e,t,n){"use strict";var r=n(33),i=n(14),s=function(e){this._ext=e[0],this._session=e[1],this._functors={incoming:new r(this._session,"processIncomingMessage"),outgoing:new r(this._session,"processOutgoingMessage")}};s.prototype.pending=function(e){var t=this._functors[e];t._stopped||(t.pending+=1)},s.prototype.incoming=function(e,t,n,r){this._exec("incoming",e,t,n,r)},s.prototype.outgoing=function(e,t,n,r){this._exec("outgoing",e,t,n,r)},s.prototype.close=function(){return this._closed=this._closed||new i,this._doClose(),this._closed},s.prototype._exec=function(e,t,n,r,i){this._functors[e].call(t,n,function(e,t){e&&(e.message=this._ext.name+": "+e.message),r.call(i,e,t),this._doClose()},this)},s.prototype._doClose=function(){var e=this._functors.incoming,t=this._functors.outgoing;this._closed&&e.pending+t.pending===0&&(this._session&&this._session.close(),this._session=null,this._closed.done())},e.exports=s},function(e,t,n){"use strict";var r=n(13),i=function(e,t){this._session=e,this._method=t,this._queue=new r(i.QUEUE_SIZE),this._stopped=!1,this.pending=0};i.QUEUE_SIZE=8,i.prototype.call=function(e,t,n,r){if(!this._stopped){var i={error:e,message:t,callback:n,context:r,done:!1},s=!1,o=this;if(this._queue.push(i),i.error)return i.done=!0,this._stop(),this._flushQueue();var a=function(e,t){s^(s=!0)&&(e?(o._stop(),i.error=e,i.message=null):i.message=t,i.done=!0,o._flushQueue())};try{this._session[this._method](t,a)}catch(e){a(e)}}},i.prototype._stop=function(){this.pending=this._queue.length,this._stopped=!0},i.prototype._flushQueue=function(){for(var e,t=this._queue;t.length>0&&t.peek().done;)(e=t.shift()).error?(this.pending=0,t.clear()):this.pending-=1,e.callback.call(e.context,e.error,e.message)},e.exports=i},function(e,t,n){"use strict";var r=function(){},i={final:!1,rsv1:!1,rsv2:!1,rsv3:!1,opcode:null,masked:!1,maskingKey:null,lengthBytes:1,length:0,payload:null};for(var s in i)r.prototype[s]=i[s];e.exports=r},function(e,t,n){"use strict";var r=n(1).Buffer,i=function(){this.rsv1=!1,this.rsv2=!1,this.rsv3=!1,this.opcode=null,this.length=0,this._chunks=[]},s={read:function(){return this.data=this.data||r.concat(this._chunks,this.length)},pushFrame:function(e){this.rsv1=this.rsv1||e.rsv1,this.rsv2=this.rsv2||e.rsv2,this.rsv3=this.rsv3||e.rsv3,null===this.opcode&&(this.opcode=e.opcode),this._chunks.push(e.payload),this.length+=e.length}};for(var o in s)i.prototype[o]=s[o];e.exports=i},function(e,t,n){"use strict";var r=n(1).Buffer,i=n(5).Stream,s=n(6),o=n(0),a=n(2),l=n(9),c=n(10),u={"ws:":80,"wss:":443},h=function(e,t,n){this._client=e,this._http=new c("response"),this._origin="object"==typeof e.url?e.url:s.parse(e.url),this._url="object"==typeof t?t:s.parse(t),this._options=n||{},this._state=0,this.readable=this.writable=!0,this._paused=!1,this._headers=new l,this._headers.set("Host",this._origin.host),this._headers.set("Connection","keep-alive"),this._headers.set("Proxy-Connection","keep-alive");var i=this._url.auth&&r.from(this._url.auth,"utf8").toString("base64");i&&this._headers.set("Proxy-Authorization","Basic "+i)};o.inherits(h,i);var d={setHeader:function(e,t){return 0===this._state&&(this._headers.set(e,t),!0)},start:function(){if(0!==this._state)return!1;this._state=1;var e=this._origin,t=e.port||u[e.protocol],n=["CONNECT "+e.hostname+":"+t+" HTTP/1.1",this._headers.toString(),""];return this.emit("data",r.from(n.join("\r\n"),"utf8")),!0},pause:function(){this._paused=!0},resume:function(){this._paused=!1,this.emit("drain")},write:function(e){if(!this.writable)return!1;if(this._http.parse(e),!this._http.isComplete())return!this._paused;if(this.statusCode=this._http.statusCode,this.headers=this._http.headers,200===this.statusCode)this.emit("connect",new a.ConnectEvent);else{var t="Can't establish a connection to the server at "+this._origin.href;this.emit("error",Error(t))}return this.end(),!this._paused},end:function(e){this.writable&&(void 0!==e&&this.write(e),this.readable=this.writable=!1,this.emit("close"),this.emit("end"))},destroy:function(){this.end()}};for(var f in d)h.prototype[f]=d[f];e.exports=h},function(e,t,n){"use strict";var r=n(0),i=n(10),s=n(2),o=n(15),a=n(38),l=n(12),c=function(e){s.call(this,null,null,e),this._http=new i("request")};r.inherits(c,s);var u={EVENTS:["open","message","error","close","ping","pong"],_bindEventListeners:function(){this.messages.on("error",function(){}),this.on("error",function(){})},parse:function(e){if(this._delegate)return this._delegate.parse(e);if(this._http.parse(e),this._http.isComplete()){this.method=this._http.method,this.url=this._http.url,this.headers=this._http.headers,this.body=this._http.body;var t=this;this._delegate=c.http(this,this._options),this._delegate.messages=this.messages,this._delegate.io=this.io,this._open(),this.EVENTS.forEach(function(e){this._delegate.on(e,function(n){t.emit(e,n)})},this),this.protocol=this._delegate.protocol,this.version=this._delegate.version,this.parse(this._http.body),this.emit("connect",new s.ConnectEvent)}},_open:function(){this.__queue.forEach(function(e){this._delegate[e[0]].apply(this._delegate,e[1])},this),this.__queue=[]}};for(var h in["addExtension","setHeader","start","frame","text","binary","ping","close"].forEach(function(e){u[e]=function(){return this._delegate?this._delegate[e].apply(this._delegate,arguments):(this.__queue.push([e,arguments]),!0)}}),u)c.prototype[h]=u[h];c.isSecureRequest=function(e){if(e.connection&&void 0!==e.connection.authorized||e.socket&&e.socket.secure)return!0;var t=e.headers;return!!t&&("on"===t.https||"on"===t["x-forwarded-ssl"]||"https"===t["x-forwarded-scheme"]||"https"===t["x-forwarded-proto"])},c.determineUrl=function(e){return(this.isSecureRequest(e)?"wss:":"ws:")+"//"+e.headers.host+e.url},c.http=function(e,t){void 0===(t=t||{}).requireMasking&&(t.requireMasking=!0);var n=e.headers,r=n["sec-websocket-version"],i=n["sec-websocket-key"],s=n["sec-websocket-key1"],c=n["sec-websocket-key2"],u=this.determineUrl(e);return r||i?new l(e,u,t):s||c?new a(e,u,t):new o(e,u,t)},e.exports=c},function(e,t,n){"use strict";var r=n(1).Buffer,i=n(2),s=n(15),o=n(3),a=n(0),l=function(e){return parseInt((e.match(/[0-9]/g)||[]).join(""),10)},c=function(e){return(e.match(/ /g)||[]).length},u=function(e,t,n){s.apply(this,arguments),this._stage=-1,this._body=[],this.version="hixie-76",this._headers.clear(),this._headers.set("Upgrade","WebSocket"),this._headers.set("Connection","Upgrade"),this._headers.set("Sec-WebSocket-Origin",this._request.headers.origin),this._headers.set("Sec-WebSocket-Location",this.url)};a.inherits(u,s);var h={BODY_SIZE:8,start:function(){return!!s.prototype.start.call(this)&&(this._started=!0,this._sendHandshakeBody(),!0)},close:function(){return 3!==this.readyState&&(1===this.readyState&&this._write(r.from([255,0])),this.readyState=3,this.emit("close",new i.CloseEvent(null,null)),!0)},_handshakeResponse:function(){var e=this._request.headers,t=e["sec-websocket-key1"],n=e["sec-websocket-key2"];if(!t)throw Error("Missing required header: Sec-WebSocket-Key1");if(!n)throw Error("Missing required header: Sec-WebSocket-Key2");var i=l(t),s=c(t),o=l(n),a=c(n);if(i%s!=0||o%a!=0)throw Error("Client sent invalid Sec-WebSocket-Key headers");this._keyValues=[i/s,o/a];var e=["HTTP/1.1 101 WebSocket Protocol Handshake",this._headers.toString(),""];return r.from(e.join("\r\n"),"binary")},_handshakeSignature:function(){if(this._body.length<this.BODY_SIZE)return null;var e=o.createHash("md5"),t=r.allocUnsafe(8+this.BODY_SIZE);return t.writeUInt32BE(this._keyValues[0],0),t.writeUInt32BE(this._keyValues[1],4),r.from(this._body).copy(t,8,0,this.BODY_SIZE),e.update(t),r.from(e.digest("binary"),"binary")},_sendHandshakeBody:function(){if(this._started){var e=this._handshakeSignature();e&&(this._write(e),this._stage=0,this._open(),this._body.length>this.BODY_SIZE&&this.parse(this._body.slice(this.BODY_SIZE)))}},_parseLeadingByte:function(e){if(255!==e)return s.prototype._parseLeadingByte.call(this,e);this._closing=!0,this._length=0,this._stage=1}};for(var d in h)u.prototype[d]=h[d];e.exports=u},function(e,t,n){"use strict";var r=n(0),i=n(40),s=n(41),o=n(6),a=n(4),l=n(11);n(7);var c={"http:":80,"https:":443,"ws:":80,"wss:":443},u=["https:","wss:"],h=function(e,t,n){n=n||{},this.url=e,this._driver=a.client(this.url,{maxLength:n.maxLength,protocols:t}),["open","error"].forEach(function(e){this._driver.on(e,function(){y.headers=y._driver.headers,y.statusCode=y._driver.statusCode})},this);var r=n.proxy||{},h=o.parse(r.origin||this.url),d=h.port||c[h.protocol],f=u.indexOf(h.protocol)>=0,p=function(){y._onConnect()},g=n.net||{},v=n.tls||{},m=r.origin?r.tls||{}:v,y=this;g.host=m.host=h.hostname,g.port=m.port=d,v.ca=v.ca||n.ca,m.servername=m.servername||h.hostname,this._stream=f?s.connect(m,p):i.connect(g,p),r.origin&&this._configureProxy(r,v),l.call(this,n)};r.inherits(h,l),h.prototype._onConnect=function(){(this._proxy||this._driver).start()},h.prototype._configureProxy=function(e,t){var n,r=o.parse(this.url),i=u.indexOf(r.protocol)>=0,a=this;if(this._proxy=this._driver.proxy(e.origin),e.headers)for(n in e.headers)this._proxy.setHeader(n,e.headers[n]);this._proxy.pipe(this._stream,{end:!1}),this._stream.pipe(this._proxy),this._proxy.on("connect",function(){if(i){var e={socket:a._stream,servername:r.hostname};for(n in t)e[n]=t[n];a._stream=s.connect(e),a._configureStream()}a._driver.io.pipe(a._stream),a._stream.pipe(a._driver.io),a._driver.start()}),this._proxy.on("error",function(e){a._driver.emit("error",e)})},e.exports=h},function(e,t){e.exports=n(1808)},function(e,t){e.exports=n(4404)},function(e,t,n){"use strict";var r=n(5).Stream,i=n(0),s=n(4),o=n(9),a=n(11),l=n(16),c=n(7),u=function(e,t,n){this.writable=!0,n=n||{},this._stream=t.socket,this._ping=n.ping||this.DEFAULT_PING,this._retry=n.retry||this.DEFAULT_RETRY;var r=s.isSecureRequest(e)?"https:":"http:";this.url=r+"//"+e.headers.host+e.url,this.lastEventId=e.headers["last-event-id"]||"",this.readyState=a.CONNECTING;var i=new o,l=this;if(n.headers)for(var c in n.headers)i.set(c,n.headers[c]);if(this._stream&&this._stream.writable){process.nextTick(function(){l._open()}),this._stream.setTimeout(0),this._stream.setNoDelay(!0);var u="HTTP/1.1 200 OK\r\nContent-Type: text/event-stream\r\nCache-Control: no-cache, no-store\r\nConnection: close\r\n"+i.toString()+"\r\nretry: "+Math.floor(1e3*this._retry)+"\r\n\r\n";this._write(u),this._stream.on("drain",function(){l.emit("drain")}),this._ping&&(this._pingTimer=setInterval(function(){l.ping()},1e3*this._ping)),["error","end"].forEach(function(e){l._stream.on(e,function(){l.close()})})}};i.inherits(u,r),u.isEventSource=function(e){return"GET"===e.method&&(e.headers.accept||"").split(/\s*,\s*/).indexOf("text/event-stream")>=0};var h={DEFAULT_PING:10,DEFAULT_RETRY:5,_write:function(e){if(!this.writable)return!1;try{return this._stream.write(e,"utf8")}catch(e){return!1}},_open:function(){if(this.readyState===a.CONNECTING){this.readyState=a.OPEN;var e=new c("open");e.initEvent("open",!1,!1),this.dispatchEvent(e)}},write:function(e){return this.send(e)},end:function(e){void 0!==e&&this.write(e),this.close()},send:function(e,t){if(this.readyState>a.OPEN)return!1;e=String(e).replace(/(\r\n|\r|\n)/g,"$1data: ");var n="";return(t=t||{}).event&&(n+="event: "+t.event+"\r\n"),t.id&&(n+="id: "+t.id+"\r\n"),n+="data: "+e+"\r\n\r\n",this._write(n)},ping:function(){return this._write(":\r\n\r\n")},close:function(){if(this.readyState>a.OPEN)return!1;this.readyState=a.CLOSED,this.writable=!1,this._pingTimer&&clearInterval(this._pingTimer),this._stream&&this._stream.end();var e=new c("close");return e.initEvent("close",!1,!1),this.dispatchEvent(e),!0}};for(var d in h)u.prototype[d]=h[d];for(var f in l)u.prototype[f]=l[f];e.exports=u},function(e,t){e.exports=n(2081)},function(e,t){e.exports=n(7147)},function(e,t){e.exports=n(3685)},function(e,t){e.exports=n(5687)},function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return tf});for(var r,i,s,o,a,l,c=String.fromCharCode,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h={},d=0,f=u.length;d<f;d++)h[u.charAt(d)]=d;var p=function(e){var t=e.charCodeAt(0);return t<128?e:t<2048?c(192|t>>>6)+c(128|63&t):c(224|t>>>12&15)+c(128|t>>>6&63)+c(128|63&t)},g=function(e){var t=[0,2,1][e.length%3],n=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0);return[u.charAt(n>>>18),u.charAt(n>>>12&63),t>=2?"=":u.charAt(n>>>6&63),t>=1?"=":u.charAt(63&n)].join("")},v=global.btoa||function(e){return e.replace(/[\s\S]{1,3}/g,g)},m=class{constructor(e,t,n,r){this.clear=t,this.timer=e(()=>{this.timer&&(this.timer=r(this.timer))},n)}isRunning(){return null!==this.timer}ensureAborted(){this.timer&&(this.clear(this.timer),this.timer=null)}};function y(e){global.clearTimeout(e)}function b(e){global.clearInterval(e)}class _ extends m{constructor(e,t){super(setTimeout,y,e,function(e){return t(),null})}}class E extends m{constructor(e,t){super(setInterval,b,e,function(e){return t(),e})}}var A={now:()=>Date.now?Date.now():new Date().valueOf(),defer:e=>new _(0,e),method(e,...t){var n=Array.prototype.slice.call(arguments,1);return function(t){return t[e].apply(t,n.concat(arguments))}}};function S(e,...t){for(var n=0;n<t.length;n++){var r=t[n];for(var i in r)r[i]&&r[i].constructor&&r[i].constructor===Object?e[i]=S(e[i]||{},r[i]):e[i]=r[i]}return e}function w(){for(var e=["Pusher"],t=0;t<arguments.length;t++)"string"==typeof arguments[t]?e.push(arguments[t]):e.push(N(arguments[t]));return e.join(" : ")}function C(e,t){var n=Array.prototype.indexOf;if(null===e)return -1;if(n&&e.indexOf===n)return e.indexOf(t);for(var r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return -1}function k(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(e[n],n,e)}function D(e){var t=[];return k(e,function(e,n){t.push(n)}),t}function T(e,t,n){for(var r=0;r<e.length;r++)t.call(n||global,e[r],r,e)}function x(e,t){for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r,e,n));return n}function R(e,t){t=t||function(e){return!!e};for(var n=[],r=0;r<e.length;r++)t(e[r],r,e,n)&&n.push(e[r]);return n}function O(e,t){var n={};return k(e,function(r,i){(t&&t(r,i,e,n)||r)&&(n[i]=r)}),n}function M(e,t){for(var n=0;n<e.length;n++)if(t(e[n],n,e))return!0;return!1}function N(e){try{return JSON.stringify(e)}catch(r){var t,n;return JSON.stringify((t=[],n=[],function e(r,i){var s,o,a;switch(typeof r){case"object":if(!r)return null;for(s=0;s<t.length;s+=1)if(t[s]===r)return{$ref:n[s]};if(t.push(r),n.push(i),"[object Array]"===Object.prototype.toString.apply(r))for(s=0,a=[];s<r.length;s+=1)a[s]=e(r[s],i+"["+s+"]");else for(o in a={},r)Object.prototype.hasOwnProperty.call(r,o)&&(a[o]=e(r[o],i+"["+JSON.stringify(o)+"]"));return a;case"number":case"string":case"boolean":return r}}(e,"$")))}}var I={VERSION:"8.3.0",PROTOCOL:7,wsPort:80,wssPort:443,wsPath:"",httpHost:"sockjs.pusher.com",httpPort:80,httpsPort:443,httpPath:"/pusher",stats_host:"stats.pusher.com",authEndpoint:"/pusher/auth",authTransport:"ajax",activityTimeout:12e4,pongTimeout:3e4,unavailableTimeout:1e4,userAuthentication:{endpoint:"/pusher/user-auth",transport:"ajax"},channelAuthorization:{endpoint:"/pusher/auth",transport:"ajax"}};function P(e,t,n){return e+(t.useTLS?"s":"")+"://"+(t.useTLS?t.hostTLS:t.hostNonTLS)+n}function H(e,t){return"/app/"+e+("?protocol="+I.PROTOCOL+"&client=js&version=")+I.VERSION+(t?"&"+t:"")}class z{constructor(){this._callbacks={}}get(e){return this._callbacks["_"+e]}add(e,t,n){var r="_"+e;this._callbacks[r]=this._callbacks[r]||[],this._callbacks[r].push({fn:t,context:n})}remove(e,t,n){if(!e&&!t&&!n){this._callbacks={};return}var r=e?["_"+e]:D(this._callbacks);t||n?this.removeCallback(r,t,n):this.removeAllCallbacks(r)}removeCallback(e,t,n){T(e,function(e){this._callbacks[e]=R(this._callbacks[e]||[],function(e){return t&&t!==e.fn||n&&n!==e.context}),0===this._callbacks[e].length&&delete this._callbacks[e]},this)}removeAllCallbacks(e){T(e,function(e){delete this._callbacks[e]},this)}}class U{constructor(e){this.callbacks=new z,this.global_callbacks=[],this.failThrough=e}bind(e,t,n){return this.callbacks.add(e,t,n),this}bind_global(e){return this.global_callbacks.push(e),this}unbind(e,t,n){return this.callbacks.remove(e,t,n),this}unbind_global(e){return e?this.global_callbacks=R(this.global_callbacks||[],t=>t!==e):this.global_callbacks=[],this}unbind_all(){return this.unbind(),this.unbind_global(),this}emit(e,t,n){for(var r=0;r<this.global_callbacks.length;r++)this.global_callbacks[r](e,t);var i=this.callbacks.get(e),s=[];if(n?s.push(t,n):t&&s.push(t),i&&i.length>0)for(var r=0;r<i.length;r++)i[r].fn.apply(i[r].context||global,s);else this.failThrough&&this.failThrough(e,t);return this}}var B=new class{constructor(){this.globalLog=e=>{global.console&&global.console.log&&global.console.log(e)}}debug(...e){this.log(this.globalLog,e)}warn(...e){this.log(this.globalLogWarn,e)}error(...e){this.log(this.globalLogError,e)}globalLogWarn(e){global.console&&global.console.warn?global.console.warn(e):this.globalLog(e)}globalLogError(e){global.console&&global.console.error?global.console.error(e):this.globalLogWarn(e)}log(e,...t){var n=w.apply(this,arguments);if(th.log)th.log(n);else if(th.logToConsole){let t=e.bind(this);t(n)}}};class L extends U{constructor(e,t,n,r,i){super(),this.initialize=e2.transportConnectionInitializer,this.hooks=e,this.name=t,this.priority=n,this.key=r,this.options=i,this.state="new",this.timeline=i.timeline,this.activityTimeout=i.activityTimeout,this.id=this.timeline.generateUniqueID()}handlesActivityChecks(){return!!this.hooks.handlesActivityChecks}supportsPing(){return!!this.hooks.supportsPing}connect(){if(this.socket||"initialized"!==this.state)return!1;var e=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(e,this.options)}catch(e){return A.defer(()=>{this.onError(e),this.changeState("closed")}),!1}return this.bindListeners(),B.debug("Connecting",{transport:this.name,url:e}),this.changeState("connecting"),!0}close(){return!!this.socket&&(this.socket.close(),!0)}send(e){return"open"===this.state&&(A.defer(()=>{this.socket&&this.socket.send(e)}),!0)}ping(){"open"===this.state&&this.supportsPing()&&this.socket.ping()}onOpen(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0}onError(e){this.emit("error",{type:"WebSocketError",error:e}),this.timeline.error(this.buildTimelineMessage({error:e.toString()}))}onClose(e){e?this.changeState("closed",{code:e.code,reason:e.reason,wasClean:e.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0}onMessage(e){this.emit("message",e)}onActivity(){this.emit("activity")}bindListeners(){this.socket.onopen=()=>{this.onOpen()},this.socket.onerror=e=>{this.onError(e)},this.socket.onclose=e=>{this.onClose(e)},this.socket.onmessage=e=>{this.onMessage(e)},this.supportsPing()&&(this.socket.onactivity=()=>{this.onActivity()})}unbindListeners(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))}changeState(e,t){this.state=e,this.timeline.info(this.buildTimelineMessage({state:e,params:t})),this.emit(e,t)}buildTimelineMessage(e){return S({cid:this.id},e)}}class j{constructor(e){this.hooks=e}isSupported(e){return this.hooks.isSupported(e)}createConnection(e,t,n,r){return new L(this.hooks,e,t,n,r)}}var F=new j({urls:{getInitial:function(e,t){var n=(t.httpPath||"")+H(e,"flash=false");return P("ws",t,n)}},handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return!!e2.getWebSocketAPI()},isSupported:function(){return!!e2.getWebSocketAPI()},getSocket:function(e){return e2.createWebSocket(e)}}),W={urls:{getInitial:function(e,t){var n=(t.httpPath||"/pusher")+H(e);return P("http",t,n)}},handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},V=S({getSocket:function(e){return e2.HTTPFactory.createStreamingSocket(e)}},W),q=S({getSocket:function(e){return e2.HTTPFactory.createPollingSocket(e)}},W),G={isSupported:function(){return e2.isXHRSupported()}},Y={ws:F,xhr_streaming:new j(S({},V,G)),xhr_polling:new j(S({},q,G))};class Q{constructor(e,t,n){this.manager=e,this.transport=t,this.minPingDelay=n.minPingDelay,this.maxPingDelay=n.maxPingDelay,this.pingDelay=void 0}createConnection(e,t,n,r){r=S({},r,{activityTimeout:this.pingDelay});var i=this.transport.createConnection(e,t,n,r),s=null,o=function(){i.unbind("open",o),i.bind("closed",a),s=A.now()},a=e=>{if(i.unbind("closed",a),1002===e.code||1003===e.code)this.manager.reportDeath();else if(!e.wasClean&&s){var t=A.now()-s;t<2*this.maxPingDelay&&(this.manager.reportDeath(),this.pingDelay=Math.max(t/2,this.minPingDelay))}};return i.bind("open",o),i}isSupported(e){return this.manager.isAlive()&&this.transport.isSupported(e)}}let Z={decodeMessage:function(e){try{var t=JSON.parse(e.data),n=t.data;if("string"==typeof n)try{n=JSON.parse(t.data)}catch(e){}var r={event:t.event,channel:t.channel,data:n};return t.user_id&&(r.user_id=t.user_id),r}catch(t){throw{type:"MessageParseError",error:t,data:e.data}}},encodeMessage:function(e){return JSON.stringify(e)},processHandshake:function(e){var t=Z.decodeMessage(e);if("pusher:connection_established"===t.event){if(!t.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:t.data.socket_id,activityTimeout:1e3*t.data.activity_timeout}}if("pusher:error"===t.event)return{action:this.getCloseAction(t.data),error:this.getCloseError(t.data)};throw"Invalid handshake"},getCloseAction:function(e){return e.code<4e3?e.code>=1002&&e.code<=1004?"backoff":null:4e3===e.code?"tls_only":e.code<4100?"refused":e.code<4200?"backoff":e.code<4300?"retry":"refused"},getCloseError:function(e){return 1e3!==e.code&&1001!==e.code?{type:"PusherError",data:{code:e.code,message:e.reason||e.message}}:null}};class $ extends U{constructor(e,t){super(),this.id=e,this.transport=t,this.activityTimeout=t.activityTimeout,this.bindListeners()}handlesActivityChecks(){return this.transport.handlesActivityChecks()}send(e){return this.transport.send(e)}send_event(e,t,n){var r={event:e,data:t};return n&&(r.channel=n),B.debug("Event sent",r),this.send(Z.encodeMessage(r))}ping(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})}close(){this.transport.close()}bindListeners(){var e={message:e=>{var t;try{t=Z.decodeMessage(e)}catch(t){this.emit("error",{type:"MessageParseError",error:t,data:e.data})}if(void 0!==t){switch(B.debug("Event recd",t),t.event){case"pusher:error":this.emit("error",{type:"PusherError",data:t.data});break;case"pusher:ping":this.emit("ping");break;case"pusher:pong":this.emit("pong")}this.emit("message",t)}},activity:()=>{this.emit("activity")},error:e=>{this.emit("error",e)},closed:e=>{t(),e&&e.code&&this.handleCloseEvent(e),this.transport=null,this.emit("closed")}},t=()=>{k(e,(e,t)=>{this.transport.unbind(t,e)})};k(e,(e,t)=>{this.transport.bind(t,e)})}handleCloseEvent(e){var t=Z.getCloseAction(e),n=Z.getCloseError(e);n&&this.emit("error",n),t&&this.emit(t,{action:t,error:n})}}class K{constructor(e,t){this.transport=e,this.callback=t,this.bindListeners()}close(){this.unbindListeners(),this.transport.close()}bindListeners(){this.onMessage=e=>{var t;this.unbindListeners();try{t=Z.processHandshake(e)}catch(e){this.finish("error",{error:e}),this.transport.close();return}"connected"===t.action?this.finish("connected",{connection:new $(t.id,this.transport),activityTimeout:t.activityTimeout}):(this.finish(t.action,{error:t.error}),this.transport.close())},this.onClosed=e=>{this.unbindListeners();var t=Z.getCloseAction(e)||"backoff",n=Z.getCloseError(e);this.finish(t,{error:n})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)}unbindListeners(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)}finish(e,t){this.callback(S({transport:this.transport,action:e},t))}}class J{constructor(e,t){this.timeline=e,this.options=t||{}}send(e,t){this.timeline.isEmpty()||this.timeline.send(e2.TimelineTransport.getAgent(this,e),t)}}class X extends Error{constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype)}}class ee extends Error{constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype)}}class et extends Error{constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype)}}class en extends Error{constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype)}}class er extends Error{constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype)}}class ei extends Error{constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype)}}class es extends Error{constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype)}}class eo extends Error{constructor(e,t){super(t),this.status=e,Object.setPrototypeOf(this,new.target.prototype)}}let ea={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/channels/server_api/authenticating_users"},authorizationEndpoint:{path:"/docs/channels/server_api/authorizing-users/"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}}};var el={buildLogSuffix:function(e){let t;let n=ea.urls[e];return n&&(n.fullUrl?t=n.fullUrl:n.path&&(t=ea.baseUrl+n.path),t)?`See: ${t}`:""}};class ec extends U{constructor(e,t){super(function(t,n){B.debug("No callbacks on "+e+" for "+t)}),this.name=e,this.pusher=t,this.subscribed=!1,this.subscriptionPending=!1,this.subscriptionCancelled=!1}authorize(e,t){return t(null,{auth:""})}trigger(e,t){if(0!==e.indexOf("client-"))throw new X("Event '"+e+"' does not start with 'client-'");if(!this.subscribed){var n=el.buildLogSuffix("triggeringClientEvents");B.warn(`Client event triggered before channel 'subscription_succeeded' event . ${n}`)}return this.pusher.send_event(e,t,this.name)}disconnect(){this.subscribed=!1,this.subscriptionPending=!1}handleEvent(e){var t=e.event,n=e.data;"pusher_internal:subscription_succeeded"===t?this.handleSubscriptionSucceededEvent(e):"pusher_internal:subscription_count"===t?this.handleSubscriptionCountEvent(e):0!==t.indexOf("pusher_internal:")&&this.emit(t,n,{})}handleSubscriptionSucceededEvent(e){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",e.data)}handleSubscriptionCountEvent(e){e.data.subscription_count&&(this.subscriptionCount=e.data.subscription_count),this.emit("pusher:subscription_count",e.data)}subscribe(){this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,(e,t)=>{e?(this.subscriptionPending=!1,B.error(e.toString()),this.emit("pusher:subscription_error",Object.assign({},{type:"AuthError",error:e.message},e instanceof eo?{status:e.status}:{}))):this.pusher.send_event("pusher:subscribe",{auth:t.auth,channel_data:t.channel_data,channel:this.name})}))}unsubscribe(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})}cancelSubscription(){this.subscriptionCancelled=!0}reinstateSubscription(){this.subscriptionCancelled=!1}}class eu extends ec{authorize(e,t){return this.pusher.config.channelAuthorizer({channelName:this.name,socketId:e},t)}}class eh{constructor(){this.reset()}get(e){return Object.prototype.hasOwnProperty.call(this.members,e)?{id:e,info:this.members[e]}:null}each(e){k(this.members,(t,n)=>{e(this.get(n))})}setMyID(e){this.myID=e}onSubscription(e){this.members=e.presence.hash,this.count=e.presence.count,this.me=this.get(this.myID)}addMember(e){return null===this.get(e.user_id)&&this.count++,this.members[e.user_id]=e.user_info,this.get(e.user_id)}removeMember(e){var t=this.get(e.user_id);return t&&(delete this.members[e.user_id],this.count--),t}reset(){this.members={},this.count=0,this.myID=null,this.me=null}}class ed extends eu{constructor(e,t){super(e,t),this.members=new eh}authorize(e,t){super.authorize(e,(e,n)=>{var r,i,s,o;return r=this,i=void 0,s=void 0,o=function*(){if(!e){if(null!=n.channel_data){var r=JSON.parse(n.channel_data);this.members.setMyID(r.user_id)}else if(yield this.pusher.user.signinDonePromise,null!=this.pusher.user.user_data)this.members.setMyID(this.pusher.user.user_data.id);else{let e=el.buildLogSuffix("authorizationEndpoint");B.error(`Invalid auth response for channel '${this.name}', expected 'channel_data' field. ${e}, or the user should be signed in.`),t("Invalid auth response");return}}t(e,n)},new(s||(s=Promise))(function(e,t){function n(e){try{l(o.next(e))}catch(e){t(e)}}function a(e){try{l(o.throw(e))}catch(e){t(e)}}function l(t){var r;t.done?e(t.value):((r=t.value)instanceof s?r:new s(function(e){e(r)})).then(n,a)}l((o=o.apply(r,i||[])).next())})})}handleEvent(e){var t=e.event;if(0===t.indexOf("pusher_internal:"))this.handleInternalEvent(e);else{var n=e.data,r={};e.user_id&&(r.user_id=e.user_id),this.emit(t,n,r)}}handleInternalEvent(e){var t=e.event,n=e.data;switch(t){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(e);break;case"pusher_internal:subscription_count":this.handleSubscriptionCountEvent(e);break;case"pusher_internal:member_added":var r=this.members.addMember(n);this.emit("pusher:member_added",r);break;case"pusher_internal:member_removed":var i=this.members.removeMember(n);i&&this.emit("pusher:member_removed",i)}}handleSubscriptionSucceededEvent(e){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(e.data),this.emit("pusher:subscription_succeeded",this.members))}disconnect(){this.members.reset(),super.disconnect()}}var ef=n(17),ep=n(8);class eg extends eu{constructor(e,t,n){super(e,t),this.key=null,this.nacl=n}authorize(e,t){super.authorize(e,(e,n)=>{if(e){t(e,n);return}let r=n.shared_secret;if(!r){t(Error(`No shared_secret key in auth payload for encrypted channel: ${this.name}`),null);return}this.key=Object(ep.decode)(r),delete n.shared_secret,t(null,n)})}trigger(e,t){throw new er("Client events are not currently supported for encrypted channels")}handleEvent(e){var t=e.event,n=e.data;if(0===t.indexOf("pusher_internal:")||0===t.indexOf("pusher:")){super.handleEvent(e);return}this.handleEncryptedEvent(t,n)}handleEncryptedEvent(e,t){if(!this.key){B.debug("Received encrypted event before key has been retrieved from the authEndpoint");return}if(!t.ciphertext||!t.nonce){B.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+t);return}let n=Object(ep.decode)(t.ciphertext);if(n.length<this.nacl.secretbox.overheadLength){B.error(`Expected encrypted event ciphertext length to be ${this.nacl.secretbox.overheadLength}, got: ${n.length}`);return}let r=Object(ep.decode)(t.nonce);if(r.length<this.nacl.secretbox.nonceLength){B.error(`Expected encrypted event nonce length to be ${this.nacl.secretbox.nonceLength}, got: ${r.length}`);return}let i=this.nacl.secretbox.open(n,r,this.key);if(null===i){B.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),this.authorize(this.pusher.connection.socket_id,(t,s)=>{if(t){B.error(`Failed to make a request to the authEndpoint: ${s}. Unable to fetch new key, so dropping encrypted event`);return}if(null===(i=this.nacl.secretbox.open(n,r,this.key))){B.error("Failed to decrypt event with new key. Dropping encrypted event");return}this.emit(e,this.getDataToEmit(i))});return}this.emit(e,this.getDataToEmit(i))}getDataToEmit(e){let t=Object(ef.decode)(e);try{return JSON.parse(t)}catch(e){return t}}}class ev extends U{constructor(e,t){super(),this.state="initialized",this.connection=null,this.key=e,this.options=t,this.timeline=this.options.timeline,this.usingTLS=this.options.useTLS,this.errorCallbacks=this.buildErrorCallbacks(),this.connectionCallbacks=this.buildConnectionCallbacks(this.errorCallbacks),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var n=e2.getNetwork();n.bind("online",()=>{this.timeline.info({netinfo:"online"}),("connecting"===this.state||"unavailable"===this.state)&&this.retryIn(0)}),n.bind("offline",()=>{this.timeline.info({netinfo:"offline"}),this.connection&&this.sendActivityCheck()}),this.updateStrategy()}connect(){if(!this.connection&&!this.runner){if(!this.strategy.isSupported()){this.updateState("failed");return}this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()}}send(e){return!!this.connection&&this.connection.send(e)}send_event(e,t,n){return!!this.connection&&this.connection.send_event(e,t,n)}disconnect(){this.disconnectInternally(),this.updateState("disconnected")}isUsingTLS(){return this.usingTLS}startConnecting(){var e=(t,n)=>{t?this.runner=this.strategy.connect(0,e):"error"===n.action?(this.emit("error",{type:"HandshakeError",error:n.error}),this.timeline.error({handshakeError:n.error})):(this.abortConnecting(),this.handshakeCallbacks[n.action](n))};this.runner=this.strategy.connect(0,e)}abortConnecting(){this.runner&&(this.runner.abort(),this.runner=null)}disconnectInternally(){this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection&&this.abandonConnection().close()}updateStrategy(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})}retryIn(e){this.timeline.info({action:"retry",delay:e}),e>0&&this.emit("connecting_in",Math.round(e/1e3)),this.retryTimer=new _(e||0,()=>{this.disconnectInternally(),this.connect()})}clearRetryTimer(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)}setUnavailableTimer(){this.unavailableTimer=new _(this.options.unavailableTimeout,()=>{this.updateState("unavailable")})}clearUnavailableTimer(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()}sendActivityCheck(){this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new _(this.options.pongTimeout,()=>{this.timeline.error({pong_timed_out:this.options.pongTimeout}),this.retryIn(0)})}resetActivityCheck(){this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new _(this.activityTimeout,()=>{this.sendActivityCheck()}))}stopActivityCheck(){this.activityTimer&&this.activityTimer.ensureAborted()}buildConnectionCallbacks(e){return S({},e,{message:e=>{this.resetActivityCheck(),this.emit("message",e)},ping:()=>{this.send_event("pusher:pong",{})},activity:()=>{this.resetActivityCheck()},error:e=>{this.emit("error",e)},closed:()=>{this.abandonConnection(),this.shouldRetry()&&this.retryIn(1e3)}})}buildHandshakeCallbacks(e){return S({},e,{connected:e=>{this.activityTimeout=Math.min(this.options.activityTimeout,e.activityTimeout,e.connection.activityTimeout||1/0),this.clearUnavailableTimer(),this.setConnection(e.connection),this.socket_id=this.connection.id,this.updateState("connected",{socket_id:this.socket_id})}})}buildErrorCallbacks(){let e=e=>t=>{t.error&&this.emit("error",{type:"WebSocketError",error:t.error}),e(t)};return{tls_only:e(()=>{this.usingTLS=!0,this.updateStrategy(),this.retryIn(0)}),refused:e(()=>{this.disconnect()}),backoff:e(()=>{this.retryIn(1e3)}),retry:e(()=>{this.retryIn(0)})}}setConnection(e){for(var t in this.connection=e,this.connectionCallbacks)this.connection.bind(t,this.connectionCallbacks[t]);this.resetActivityCheck()}abandonConnection(){if(this.connection){for(var e in this.stopActivityCheck(),this.connectionCallbacks)this.connection.unbind(e,this.connectionCallbacks[e]);var t=this.connection;return this.connection=null,t}}updateState(e,t){var n=this.state;if(this.state=e,n!==e){var r=e;"connected"===r&&(r+=" with new socket ID "+t.socket_id),B.debug("State changed",n+" -> "+r),this.timeline.info({state:e,params:t}),this.emit("state_change",{previous:n,current:e}),this.emit(e,t)}}shouldRetry(){return"connecting"===this.state||"connected"===this.state}}class em{constructor(){this.channels={}}add(e,t){return this.channels[e]||(this.channels[e]=function(e,t){if(0===e.indexOf("private-encrypted-")){if(t.config.nacl)return ey.createEncryptedChannel(e,t,t.config.nacl);let n=el.buildLogSuffix("encryptedChannelSupport");throw new er(`Tried to subscribe to a private-encrypted- channel but no nacl implementation available. ${n}`)}if(0===e.indexOf("private-"))return ey.createPrivateChannel(e,t);if(0===e.indexOf("presence-"))return ey.createPresenceChannel(e,t);if(0!==e.indexOf("#"))return ey.createChannel(e,t);throw new ee('Cannot create a channel with name "'+e+'".')}(e,t)),this.channels[e]}all(){var e,t;return e=this.channels,t=[],k(e,function(e){t.push(e)}),t}find(e){return this.channels[e]}remove(e){var t=this.channels[e];return delete this.channels[e],t}disconnect(){k(this.channels,function(e){e.disconnect()})}}var ey={createChannels:()=>new em,createConnectionManager:(e,t)=>new ev(e,t),createChannel:(e,t)=>new ec(e,t),createPrivateChannel:(e,t)=>new eu(e,t),createPresenceChannel:(e,t)=>new ed(e,t),createEncryptedChannel:(e,t,n)=>new eg(e,t,n),createTimelineSender:(e,t)=>new J(e,t),createHandshake:(e,t)=>new K(e,t),createAssistantToTheTransportManager:(e,t,n)=>new Q(e,t,n)};class eb{constructor(e){this.options=e||{},this.livesLeft=this.options.lives||1/0}getAssistant(e){return ey.createAssistantToTheTransportManager(this,e,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})}isAlive(){return this.livesLeft>0}reportDeath(){this.livesLeft-=1}}class e_{constructor(e,t){this.strategies=e,this.loop=!!t.loop,this.failFast=!!t.failFast,this.timeout=t.timeout,this.timeoutLimit=t.timeoutLimit}isSupported(){return M(this.strategies,A.method("isSupported"))}connect(e,t){var n=this.strategies,r=0,i=this.timeout,s=null,o=(a,l)=>{l?t(null,l):(r+=1,this.loop&&(r%=n.length),r<n.length?(i&&(i*=2,this.timeoutLimit&&(i=Math.min(i,this.timeoutLimit))),s=this.tryStrategy(n[r],e,{timeout:i,failFast:this.failFast},o)):t(!0))};return s=this.tryStrategy(n[r],e,{timeout:i,failFast:this.failFast},o),{abort:function(){s.abort()},forceMinPriority:function(t){e=t,s&&s.forceMinPriority(t)}}}tryStrategy(e,t,n,r){var i=null,s=null;return n.timeout>0&&(i=new _(n.timeout,function(){s.abort(),r(!0)})),s=e.connect(t,function(e,t){(!(e&&i&&i.isRunning())||n.failFast)&&(i&&i.ensureAborted(),r(e,t))}),{abort:function(){i&&i.ensureAborted(),s.abort()},forceMinPriority:function(e){s.forceMinPriority(e)}}}}class eE{constructor(e){this.strategies=e}isSupported(){return M(this.strategies,A.method("isSupported"))}connect(e,t){var n;return n=x(this.strategies,function(n,r,i,s){var o,a;return n.connect(e,(o=r,a=s,function(e,n){if(a[o].error=e,e){(function(e,t){for(var n=0;n<e.length;n++)if(!t(e[n],n,e))return!1;return!0})(a,function(e){return!!e.error})&&t(!0);return}T(a,function(e){e.forceMinPriority(n.transport.priority)}),t(null,n)}))}),{abort:function(){T(n,eA)},forceMinPriority:function(e){T(n,function(t){t.forceMinPriority(e)})}}}}function eA(e){e.error||e.aborted||(e.abort(),e.aborted=!0)}class eS{constructor(e,t,n){this.strategy=e,this.transports=t,this.ttl=n.ttl||18e5,this.usingTLS=n.useTLS,this.timeline=n.timeline}isSupported(){return this.strategy.isSupported()}connect(e,t){var n=this.usingTLS,r=function(e){var t=e2.getLocalStorage();if(t)try{var n=t[ew(e)];if(n)return JSON.parse(n)}catch(t){eC(e)}return null}(n),i=r&&r.cacheSkipCount?r.cacheSkipCount:0,s=[this.strategy];if(r&&r.timestamp+this.ttl>=A.now()){var o=this.transports[r.transport];o&&(["ws","wss"].includes(r.transport)||i>3?(this.timeline.info({cached:!0,transport:r.transport,latency:r.latency}),s.push(new e_([o],{timeout:2*r.latency+1e3,failFast:!0}))):i++)}var a=A.now(),l=s.pop().connect(e,function r(o,c){o?(eC(n),s.length>0?(a=A.now(),l=s.pop().connect(e,r)):t(o)):(function(e,t,n,r){var i=e2.getLocalStorage();if(i)try{i[ew(e)]=N({timestamp:A.now(),transport:t,latency:n,cacheSkipCount:r})}catch(e){}}(n,c.transport.name,A.now()-a,i),t(null,c))});return{abort:function(){l.abort()},forceMinPriority:function(t){e=t,l&&l.forceMinPriority(t)}}}}function ew(e){return"pusherTransport"+(e?"TLS":"NonTLS")}function eC(e){var t=e2.getLocalStorage();if(t)try{delete t[ew(e)]}catch(e){}}class ek{constructor(e,{delay:t}){this.strategy=e,this.options={delay:t}}isSupported(){return this.strategy.isSupported()}connect(e,t){var n,r=this.strategy,i=new _(this.options.delay,function(){n=r.connect(e,t)});return{abort:function(){i.ensureAborted(),n&&n.abort()},forceMinPriority:function(t){e=t,n&&n.forceMinPriority(t)}}}}class eD{constructor(e,t,n){this.test=e,this.trueBranch=t,this.falseBranch=n}isSupported(){return(this.test()?this.trueBranch:this.falseBranch).isSupported()}connect(e,t){return(this.test()?this.trueBranch:this.falseBranch).connect(e,t)}}class eT{constructor(e){this.strategy=e}isSupported(){return this.strategy.isSupported()}connect(e,t){var n=this.strategy.connect(e,function(e,r){r&&n.abort(),t(e,r)});return n}}function ex(e){return function(){return e.isSupported()}}class eR extends U{constructor(e,t,n){super(),this.hooks=e,this.method=t,this.url=n}start(e){this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=()=>{this.close()},e2.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(e)}close(){this.unloader&&(e2.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)}onChunk(e,t){for(;;){var n=this.advanceBuffer(t);if(n)this.emit("chunk",{status:e,data:n});else break}this.isBufferTooLong(t)&&this.emit("buffer_too_long")}advanceBuffer(e){var t=e.slice(this.position),n=t.indexOf("\n");return -1!==n?(this.position+=n+1,t.slice(0,n)):null}isBufferTooLong(e){return this.position===e.length&&e.length>262144}}(r=o||(o={}))[r.CONNECTING=0]="CONNECTING",r[r.OPEN=1]="OPEN",r[r.CLOSED=3]="CLOSED";var eO=o,eM=1;function eN(e){var t=-1===e.indexOf("?")?"?":"&";return e+t+"t="+ +new Date+"&n="+eM++}function eI(e){return e2.randomInt(e)}var eP=class{constructor(e,t){var n;this.hooks=e,this.session=eI(1e3)+"/"+function(e){for(var t=[],n=0;n<8;n++)t.push(eI(32).toString(32));return t.join("")}(0),this.location={base:(n=/([^\?]*)\/*(\??.*)/.exec(t))[1],queryString:n[2]},this.readyState=eO.CONNECTING,this.openStream()}send(e){return this.sendRaw(JSON.stringify([e]))}ping(){this.hooks.sendHeartbeat(this)}close(e,t){this.onClose(e,t,!0)}sendRaw(e){if(this.readyState!==eO.OPEN)return!1;try{var t,n;return e2.createSocketRequest("POST",eN((t=this.location,n=this.session,t.base+"/"+n+"/xhr_send"))).start(e),!0}catch(e){return!1}}reconnect(){this.closeStream(),this.openStream()}onClose(e,t,n){this.closeStream(),this.readyState=eO.CLOSED,this.onclose&&this.onclose({code:e,reason:t,wasClean:n})}onChunk(e){if(200===e.status)switch(this.readyState===eO.OPEN&&this.onActivity(),e.data.slice(0,1)){case"o":t=JSON.parse(e.data.slice(1)||"{}"),this.onOpen(t);break;case"a":t=JSON.parse(e.data.slice(1)||"[]");for(var t,n=0;n<t.length;n++)this.onEvent(t[n]);break;case"m":t=JSON.parse(e.data.slice(1)||"null"),this.onEvent(t);break;case"h":this.hooks.onHeartbeat(this);break;case"c":t=JSON.parse(e.data.slice(1)||"[]"),this.onClose(t[0],t[1],!0)}}onOpen(e){var t,n,r;this.readyState===eO.CONNECTING?(e&&e.hostname&&(this.location.base=(t=this.location.base,n=e.hostname,(r=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(t))[1]+n+r[3])),this.readyState=eO.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)}onEvent(e){this.readyState===eO.OPEN&&this.onmessage&&this.onmessage({data:e})}onActivity(){this.onactivity&&this.onactivity()}onError(e){this.onerror&&this.onerror(e)}openStream(){this.stream=e2.createSocketRequest("POST",eN(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",e=>{this.onChunk(e)}),this.stream.bind("finished",e=>{this.hooks.onFinished(this,e)}),this.stream.bind("buffer_too_long",()=>{this.reconnect()});try{this.stream.start()}catch(e){A.defer(()=>{this.onError(e),this.onClose(1006,"Could not start streaming",!1)})}}closeStream(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)}},eH={getReceiveURL:function(e,t){return e.base+"/"+t+"/xhr_streaming"+e.queryString},onHeartbeat:function(e){e.sendRaw("[]")},sendHeartbeat:function(e){e.sendRaw("[]")},onFinished:function(e,t){e.onClose(1006,"Connection interrupted ("+t+")",!1)}},ez={getReceiveURL:function(e,t){return e.base+"/"+t+"/xhr"+e.queryString},onHeartbeat:function(){},sendHeartbeat:function(e){e.sendRaw("[]")},onFinished:function(e,t){200===t?e.reconnect():e.onClose(1006,"Connection interrupted ("+t+")",!1)}},eU={getRequest:function(e){var t=new(e2.getXHRAPI());return t.onreadystatechange=t.onprogress=function(){switch(t.readyState){case 3:t.responseText&&t.responseText.length>0&&e.onChunk(t.status,t.responseText);break;case 4:t.responseText&&t.responseText.length>0&&e.onChunk(t.status,t.responseText),e.emit("finished",t.status),e.close()}},t},abortRequest:function(e){e.onreadystatechange=null,e.abort()}},eB=n(18),eL=n(19),ej=new class extends U{isOnline(){return!0}};(i=a||(a={})).UserAuthentication="user-authentication",i.ChannelAuthorization="channel-authorization";var eF=function(e,t,n,r,i){let s=e2.createXHR();for(var o in s.open("POST",n.endpoint,!0),s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.headers)s.setRequestHeader(o,n.headers[o]);if(null!=n.headersProvider){let e=n.headersProvider();for(var o in e)s.setRequestHeader(o,e[o])}return s.onreadystatechange=function(){if(4===s.readyState){if(200===s.status){let e;let t=!1;try{e=JSON.parse(s.responseText),t=!0}catch(e){i(new eo(200,`JSON returned from ${r.toString()} endpoint was invalid, yet status code was 200. Data was: ${s.responseText}`),null)}t&&i(null,e)}else{let e="";switch(r){case a.UserAuthentication:e=el.buildLogSuffix("authenticationEndpoint");break;case a.ChannelAuthorization:e=`Clients must be authorized to join private or presence channels. ${el.buildLogSuffix("authorizationEndpoint")}`}i(new eo(s.status,`Unable to retrieve auth string from ${r.toString()} endpoint - received status: ${s.status} from ${n.endpoint}. ${e}`),null)}}},s.send(t),s},eW=n(3);let{getDefaultStrategy:eV,Transports:eq,setup:eG,getProtocol:eY,isXHRSupported:eQ,getLocalStorage:eZ,createXHR:e$,createWebSocket:eK,addUnloadListener:eJ,removeUnloadListener:eX,transportConnectionInitializer:e0,createSocketRequest:e1,HTTPFactory:e5}={getDefaultStrategy:function(e,t,n){var r,i={};function s(t,r,s,o,a){var l=n(e,t,r,s,o,a);return i[t]=l,l}var o=Object.assign({},t,{hostNonTLS:e.wsHost+":"+e.wsPort,hostTLS:e.wsHost+":"+e.wssPort,httpPath:e.wsPath}),a=S({},o,{useTLS:!0}),l=Object.assign({},t,{hostNonTLS:e.httpHost+":"+e.httpPort,hostTLS:e.httpHost+":"+e.httpsPort,httpPath:e.httpPath}),c={loop:!0,timeout:15e3,timeoutLimit:6e4},u=new eb({minPingDelay:1e4,maxPingDelay:e.activityTimeout}),h=new eb({lives:2,minPingDelay:1e4,maxPingDelay:e.activityTimeout}),d=s("ws","ws",3,o,u),f=s("wss","ws",3,a,u),p=s("xhr_streaming","xhr_streaming",1,l,h),g=s("xhr_polling","xhr_polling",1,l),v=new e_([d],c),m=new e_([f],c),y=new e_([p],c),b=new e_([g],c),_=new e_([new eD(ex(y),new eE([y,new ek(b,{delay:4e3})]),b)],c);return r=new eE(t.useTLS?[v,new ek(_,{delay:2e3})]:[v,new ek(m,{delay:2e3}),new ek(_,{delay:5e3})]),new eS(new eT(new eD(ex(d),r,_)),i,{ttl:18e5,timeline:t.timeline,useTLS:t.useTLS})},Transports:Y,transportConnectionInitializer:function(){this.timeline.info(this.buildTimelineMessage({transport:this.name+(this.options.useTLS?"s":"")})),this.hooks.isInitialized()?this.changeState("initialized"):this.onClose()},HTTPFactory:{createStreamingSocket(e){return this.createSocket(eH,e)},createPollingSocket(e){return this.createSocket(ez,e)},createSocket:(e,t)=>new eP(e,t),createXHR(e,t){return this.createRequest(eU,e,t)},createRequest:(e,t,n)=>new eR(e,t,n)},setup(e){e.ready()},getLocalStorage(){},getClientFeatures:()=>D(O({ws:Y.ws},function(e){return e.isSupported({})})),getProtocol:()=>"http:",isXHRSupported:()=>!0,createSocketRequest(e,t){if(this.isXHRSupported())return this.HTTPFactory.createXHR(e,t);throw"Cross-origin HTTP requests are not supported"},createXHR(){return new(this.getXHRAPI())},createWebSocket(e){return new(this.getWebSocketAPI())(e)},addUnloadListener(e){},removeUnloadListener(e){}};var e2={getDefaultStrategy:eV,Transports:eq,setup:eG,getProtocol:eY,isXHRSupported:eQ,createSocketRequest:e1,getLocalStorage:eZ,createXHR:e$,createWebSocket:eK,addUnloadListener:eJ,removeUnloadListener:eX,transportConnectionInitializer:e0,HTTPFactory:e5,TimelineTransport:{name:"xhr",getAgent:function(e,t){return function(n,r){var i,s,o,a="http"+(t?"s":"")+"://"+(e.host||e.options.host)+e.options.path;a+="/2?"+x((i=O(n,function(e){return void 0!==e}),s={},k(i,function(e,t){var n;s[t]=("object"==typeof(n=e)&&(n=N(n)),encodeURIComponent(v(n.toString().replace(/[^\x00-\x7F]/g,p))))}),o=[],k(s,function(e,t){o.push([t,e])}),o),A.method("join","=")).join("&");var l=e2.createXHR();l.open("GET",a,!0),l.onreadystatechange=function(){if(4===l.readyState){let{status:n,responseText:r}=l;if(200!==n){B.debug(`TimelineSender Error: received ${n} from stats.pusher.com`);return}try{var{host:t}=JSON.parse(r)}catch(e){B.debug(`TimelineSenderError: invalid response ${r}`)}t&&(e.host=t)}},l.send()}}},getAuthorizers:()=>({ajax:eF}),getWebSocketAPI:()=>eB.Client,getXHRAPI:()=>eL.XMLHttpRequest,getNetwork:()=>ej,randomInt:e=>Object(eW.randomInt)(e)};(s=l||(l={}))[s.ERROR=3]="ERROR",s[s.INFO=6]="INFO",s[s.DEBUG=7]="DEBUG";var e6=l;class e3{constructor(e,t,n){this.key=e,this.session=t,this.events=[],this.options=n||{},this.sent=0,this.uniqueID=0}log(e,t){e<=this.options.level&&(this.events.push(S({},t,{timestamp:A.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())}error(e){this.log(e6.ERROR,e)}info(e){this.log(e6.INFO,e)}debug(e){this.log(e6.DEBUG,e)}isEmpty(){return 0===this.events.length}send(e,t){var n=S({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],e(n,(e,n)=>{!e&&this.sent++,t&&t(e,n)}),!0}generateUniqueID(){return this.uniqueID++,this.uniqueID}}class e4{constructor(e,t,n,r){this.name=e,this.priority=t,this.transport=n,this.options=r||{}}isSupported(){return this.transport.isSupported({useTLS:this.options.useTLS})}connect(e,t){if(!this.isSupported())return e8(new es,t);if(this.priority<e)return e8(new et,t);var n=!1,r=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),i=null,s=function(){r.unbind("initialized",s),r.connect()},o=function(){i=ey.createHandshake(r,function(e){n=!0,c(),t(null,e)})},a=function(e){c(),t(e)},l=function(){var e;c(),e=N(r),t(new en(e))},c=function(){r.unbind("initialized",s),r.unbind("open",o),r.unbind("error",a),r.unbind("closed",l)};return r.bind("initialized",s),r.bind("open",o),r.bind("error",a),r.bind("closed",l),r.initialize(),{abort:()=>{n||(c(),i?i.close():r.close())},forceMinPriority:e=>{!n&&this.priority<e&&(i?i.close():r.close())}}}}function e8(e,t){return A.defer(function(){t(e)}),{abort:function(){},forceMinPriority:function(){}}}let{Transports:e9}=e2;var e7=function(e,t,n,r,i,s){var o,a=e9[n];if(!a)throw new ei(n);return e.enabledTransports&&-1===C(e.enabledTransports,t)||e.disabledTransports&&-1!==C(e.disabledTransports,t)?o=te:(i=Object.assign({ignoreNullOrigin:e.ignoreNullOrigin},i),o=new e4(t,r,s?s.getAssistant(a):a,i)),o},te={isSupported:function(){return!1},connect:function(e,t){var n=A.defer(function(){t(new es)});return{abort:function(){n.ensureAborted()},forceMinPriority:function(){}}}};function tt(e){if(null==e)throw"You must pass an options object";if(null==e.cluster)throw"Options object must provide a cluster";"disableStats"in e&&B.warn("The disableStats option is deprecated in favor of enableStats")}let tn=(e,t)=>{var n="socket_id="+encodeURIComponent(e.socketId);for(var r in t.params)n+="&"+encodeURIComponent(r)+"="+encodeURIComponent(t.params[r]);if(null!=t.paramsProvider){let e=t.paramsProvider();for(var r in e)n+="&"+encodeURIComponent(r)+"="+encodeURIComponent(e[r])}return n};var tr=e=>{if(void 0===e2.getAuthorizers()[e.transport])throw`'${e.transport}' is not a recognized auth transport`;return(t,n)=>{let r=tn(t,e);e2.getAuthorizers()[e.transport](e2,r,e,a.UserAuthentication,n)}};let ti=(e,t)=>{var n="socket_id="+encodeURIComponent(e.socketId);for(var r in n+="&channel_name="+encodeURIComponent(e.channelName),t.params)n+="&"+encodeURIComponent(r)+"="+encodeURIComponent(t.params[r]);if(null!=t.paramsProvider){let e=t.paramsProvider();for(var r in e)n+="&"+encodeURIComponent(r)+"="+encodeURIComponent(e[r])}return n};var ts=e=>{if(void 0===e2.getAuthorizers()[e.transport])throw`'${e.transport}' is not a recognized auth transport`;return(t,n)=>{let r=ti(t,e);e2.getAuthorizers()[e.transport](e2,r,e,a.ChannelAuthorization,n)}};let to=(e,t,n)=>{let r={authTransport:t.transport,authEndpoint:t.endpoint,auth:{params:t.params,headers:t.headers}};return(t,i)=>{let s=e.channel(t.channelName),o=n(s,r);o.authorize(t.socketId,i)}};class ta extends U{constructor(e){super(function(e,t){B.debug(`No callbacks on watchlist events for ${e}`)}),this.pusher=e,this.bindWatchlistInternalEvent()}handleEvent(e){e.data.events.forEach(e=>{this.emit(e.name,e)})}bindWatchlistInternalEvent(){this.pusher.connection.bind("message",e=>{"pusher_internal:watchlist_events"===e.event&&this.handleEvent(e)})}}var tl=function(){let e,t;let n=new Promise((n,r)=>{e=n,t=r});return{promise:n,resolve:e,reject:t}};class tc extends U{constructor(e){super(function(e,t){B.debug("No callbacks on user for "+e)}),this.signin_requested=!1,this.user_data=null,this.serverToUserChannel=null,this.signinDonePromise=null,this._signinDoneResolve=null,this._onAuthorize=(e,t)=>{if(e){B.warn(`Error during signin: ${e}`),this._cleanup();return}this.pusher.send_event("pusher:signin",{auth:t.auth,user_data:t.user_data})},this.pusher=e,this.pusher.connection.bind("state_change",({previous:e,current:t})=>{"connected"!==e&&"connected"===t&&this._signin(),"connected"===e&&"connected"!==t&&(this._cleanup(),this._newSigninPromiseIfNeeded())}),this.watchlist=new ta(e),this.pusher.connection.bind("message",e=>{"pusher:signin_success"===e.event&&this._onSigninSuccess(e.data),this.serverToUserChannel&&this.serverToUserChannel.name===e.channel&&this.serverToUserChannel.handleEvent(e)})}signin(){this.signin_requested||(this.signin_requested=!0,this._signin())}_signin(){this.signin_requested&&(this._newSigninPromiseIfNeeded(),"connected"===this.pusher.connection.state&&this.pusher.config.userAuthenticator({socketId:this.pusher.connection.socket_id},this._onAuthorize))}_onSigninSuccess(e){try{this.user_data=JSON.parse(e.user_data)}catch(t){B.error(`Failed parsing user data after signin: ${e.user_data}`),this._cleanup();return}if("string"!=typeof this.user_data.id||""===this.user_data.id){B.error(`user_data doesn't contain an id. user_data: ${this.user_data}`),this._cleanup();return}this._signinDoneResolve(),this._subscribeChannels()}_subscribeChannels(){this.serverToUserChannel=new ec(`#server-to-user-${this.user_data.id}`,this.pusher),this.serverToUserChannel.bind_global((e,t)=>{0!==e.indexOf("pusher_internal:")&&0!==e.indexOf("pusher:")&&this.emit(e,t)}),(e=>{e.subscriptionPending&&e.subscriptionCancelled?e.reinstateSubscription():e.subscriptionPending||"connected"!==this.pusher.connection.state||e.subscribe()})(this.serverToUserChannel)}_cleanup(){this.user_data=null,this.serverToUserChannel&&(this.serverToUserChannel.unbind_all(),this.serverToUserChannel.disconnect(),this.serverToUserChannel=null),this.signin_requested&&this._signinDoneResolve()}_newSigninPromiseIfNeeded(){if(!this.signin_requested||this.signinDonePromise&&!this.signinDonePromise.done)return;let{promise:e,resolve:t,reject:n}=tl();e.done=!1;let r=()=>{e.done=!0};e.then(r).catch(r),this.signinDonePromise=e,this._signinDoneResolve=t}}class tu{static ready(){tu.isReady=!0;for(var e=0,t=tu.instances.length;e<t;e++)tu.instances[e].connect()}static getClientFeatures(){return D(O({ws:e2.Transports.ws},function(e){return e.isSupported({})}))}constructor(e,t){let n;(function(e){if(null==e)throw"You must pass your app key when you instantiate Pusher."})(e),tt(t),this.key=e,this.config=(n={activityTimeout:t.activityTimeout||I.activityTimeout,cluster:t.cluster,httpPath:t.httpPath||I.httpPath,httpPort:t.httpPort||I.httpPort,httpsPort:t.httpsPort||I.httpsPort,pongTimeout:t.pongTimeout||I.pongTimeout,statsHost:t.statsHost||I.stats_host,unavailableTimeout:t.unavailableTimeout||I.unavailableTimeout,wsPath:t.wsPath||I.wsPath,wsPort:t.wsPort||I.wsPort,wssPort:t.wssPort||I.wssPort,enableStats:"enableStats"in t?t.enableStats:"disableStats"in t&&!t.disableStats,httpHost:t.httpHost?t.httpHost:t.cluster?`sockjs-${t.cluster}.pusher.com`:I.httpHost,useTLS:function(e){if("https:"===e2.getProtocol());else if(!1===e.forceTLS)return!1;return!0}(t),wsHost:t.wsHost?t.wsHost:`ws-${t.cluster}.pusher.com`,userAuthenticator:function(e){let t=Object.assign(Object.assign({},I.userAuthentication),e.userAuthentication);return"customHandler"in t&&null!=t.customHandler?t.customHandler:tr(t)}(t),channelAuthorizer:function(e,t){let n;let r=("channelAuthorization"in e?n=Object.assign(Object.assign({},I.channelAuthorization),e.channelAuthorization):(n={transport:e.authTransport||I.authTransport,endpoint:e.authEndpoint||I.authEndpoint},"auth"in e&&("params"in e.auth&&(n.params=e.auth.params),"headers"in e.auth&&(n.headers=e.auth.headers)),"authorizer"in e&&(n.customHandler=to(t,n,e.authorizer))),n);return"customHandler"in r&&null!=r.customHandler?r.customHandler:ts(r)}(t,this)},"disabledTransports"in t&&(n.disabledTransports=t.disabledTransports),"enabledTransports"in t&&(n.enabledTransports=t.enabledTransports),"ignoreNullOrigin"in t&&(n.ignoreNullOrigin=t.ignoreNullOrigin),"timelineParams"in t&&(n.timelineParams=t.timelineParams),"nacl"in t&&(n.nacl=t.nacl),n),this.channels=ey.createChannels(),this.global_emitter=new U,this.sessionID=e2.randomInt(1e9),this.timeline=new e3(this.key,this.sessionID,{cluster:this.config.cluster,features:tu.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:e6.INFO,version:I.VERSION}),this.config.enableStats&&(this.timelineSender=ey.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+e2.TimelineTransport.name})),this.connection=ey.createConnectionManager(this.key,{getStrategy:e=>e2.getDefaultStrategy(this.config,e,e7),timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:!!this.config.useTLS}),this.connection.bind("connected",()=>{this.subscribeAll(),this.timelineSender&&this.timelineSender.send(this.connection.isUsingTLS())}),this.connection.bind("message",e=>{var t=0===e.event.indexOf("pusher_internal:");if(e.channel){var n=this.channel(e.channel);n&&n.handleEvent(e)}t||this.global_emitter.emit(e.event,e.data)}),this.connection.bind("connecting",()=>{this.channels.disconnect()}),this.connection.bind("disconnected",()=>{this.channels.disconnect()}),this.connection.bind("error",e=>{B.warn(e)}),tu.instances.push(this),this.timeline.info({instances:tu.instances.length}),this.user=new tc(this),tu.isReady&&this.connect()}channel(e){return this.channels.find(e)}allChannels(){return this.channels.all()}connect(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var e=this.connection.isUsingTLS(),t=this.timelineSender;this.timelineSenderTimer=new E(6e4,function(){t.send(e)})}}disconnect(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)}bind(e,t,n){return this.global_emitter.bind(e,t,n),this}unbind(e,t,n){return this.global_emitter.unbind(e,t,n),this}bind_global(e){return this.global_emitter.bind_global(e),this}unbind_global(e){return this.global_emitter.unbind_global(e),this}unbind_all(e){return this.global_emitter.unbind_all(),this}subscribeAll(){var e;for(e in this.channels.channels)this.channels.channels.hasOwnProperty(e)&&this.subscribe(e)}subscribe(e){var t=this.channels.add(e,this);return t.subscriptionPending&&t.subscriptionCancelled?t.reinstateSubscription():t.subscriptionPending||"connected"!==this.connection.state||t.subscribe(),t}unsubscribe(e){var t=this.channels.find(e);t&&t.subscriptionPending?t.cancelSubscription():(t=this.channels.remove(e))&&t.subscribed&&t.unsubscribe()}send_event(e,t,n){return this.connection.send_event(e,t,n)}shouldUseTLS(){return this.config.useTLS}signin(){this.user.signin()}}tu.instances=[],tu.isReady=!1,tu.logToConsole=!1,tu.Runtime=e2,tu.ScriptReceivers=e2.ScriptReceivers,tu.DependenciesReceivers=e2.DependenciesReceivers,tu.auth_callbacks=e2.auth_callbacks;var th=tu;e2.setup(tu);var td=n(20);class tf extends th{constructor(e,t){th.logToConsole=tf.logToConsole,th.log=tf.log,tt(t),t.nacl=td,super(e,t)}}}])},1193:(e,t,n)=>{"use strict";n.d(t,{f:()=>er,rx:()=>h});var r=n(5898),i=n(603);n(327);let s=[],o={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},a=Object.assign(Object.assign({},o),{buttonHints:{prev:"Previous $0",next:"Next $0",today:(e,t)=>"day"===t?"Today":`This ${e}`},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint:e=>`Show ${e} more event${1===e?"":"s"}`});function l(e){let t=e.length>0?e[0].code:"en",n=s.concat(e),r={en:a};for(let e of n)r[e.code]=e;return{map:r,defaultCode:t}}function c(e,t){let n,r;return"object"!=typeof e||Array.isArray(e)?(r=function(e,t){for(let n=0;n<e.length;n+=1){let r=e[n].toLocaleLowerCase().split("-");for(let e=r.length;e>0;e-=1){let n=r.slice(0,e).join("-");if(t[n])return t[n]}}return null}(n=[].concat(e||[]),t)||a,u(e,n,r)):u(e.code,[e.code],e)}function u(e,t,n){let i=(0,r.m)([o,n],["buttonText"]);delete i.code;let{week:s}=i;return delete i.week,{codeArg:e,codes:t,week:s,simpleNumberFormat:new Intl.NumberFormat(e),options:i}}function h(e){return{id:(0,r.g)(),name:e.name,premiumReleaseDate:e.premiumReleaseDate?new Date(e.premiumReleaseDate):void 0,deps:e.deps||[],reducers:e.reducers||[],isLoadingFuncs:e.isLoadingFuncs||[],contextInit:[].concat(e.contextInit||[]),eventRefiners:e.eventRefiners||{},eventDefMemberAdders:e.eventDefMemberAdders||[],eventSourceRefiners:e.eventSourceRefiners||{},isDraggableTransformers:e.isDraggableTransformers||[],eventDragMutationMassagers:e.eventDragMutationMassagers||[],eventDefMutationAppliers:e.eventDefMutationAppliers||[],dateSelectionTransformers:e.dateSelectionTransformers||[],datePointTransforms:e.datePointTransforms||[],dateSpanTransforms:e.dateSpanTransforms||[],views:e.views||{},viewPropsTransformers:e.viewPropsTransformers||[],isPropsValid:e.isPropsValid||null,externalDefTransforms:e.externalDefTransforms||[],viewContainerAppends:e.viewContainerAppends||[],eventDropTransformers:e.eventDropTransformers||[],componentInteractions:e.componentInteractions||[],calendarInteractions:e.calendarInteractions||[],themeClasses:e.themeClasses||{},eventSourceDefs:e.eventSourceDefs||[],cmdFormatter:e.cmdFormatter,recurringTypes:e.recurringTypes||[],namedTimeZonedImpl:e.namedTimeZonedImpl,initialView:e.initialView||"",elementDraggingImpl:e.elementDraggingImpl,optionChangeHandlers:e.optionChangeHandlers||{},scrollGridImpl:e.scrollGridImpl||null,listenerRefiners:e.listenerRefiners||{},optionRefiners:e.optionRefiners||{},propSetHandlers:e.propSetHandlers||{}}}class d extends r.T{}function f(e,t,n,r){if(t[e])return t[e];let i=function(e,t,n,r){let i=n[e],s=r[e],o=e=>i&&null!==i[e]?i[e]:s&&null!==s[e]?s[e]:null,a=o("component"),l=o("superType"),c=null;if(l){if(l===e)throw Error("Can't have a custom view type that references itself");c=f(l,t,n,r)}return(!a&&c&&(a=c.component),a)?{type:e,component:a,defaults:Object.assign(Object.assign({},c?c.defaults:{}),i?i.rawOptions:{}),overrides:Object.assign(Object.assign({},c?c.overrides:{}),s?s.rawOptions:{})}:null}(e,t,n,r);return i&&(t[e]=i),i}function p(e){let t="function"==typeof e?{component:e}:e,{component:n}=t;return t.content?n=g(t):!n||n.prototype instanceof r.B||(n=g(Object.assign(Object.assign({},t),{content:n}))),{superType:t.type,component:n,rawOptions:t}}function g(e){return t=>(0,i.az)(r.V.Consumer,null,n=>(0,i.az)(r.C,{elTag:"div",elClasses:(0,r.b)(n.viewSpec),renderProps:Object.assign(Object.assign({},t),{nextDayThreshold:n.options.nextDayThreshold}),generatorName:void 0,customGenerator:e.content,classNameGenerator:e.classNames,didMount:e.didMount,willUnmount:e.willUnmount}))}function v(e,t,n,i){var s;let o=(0,r.a)(e,p),a=(s=t.views,(0,r.a)(s,p)),l=function(e,t){let n,r={};for(n in e)f(n,r,e,t);for(n in t)f(n,r,e,t);return r}(o,a);return(0,r.a)(l,e=>(function(e,t,n,i,s){let o,a,l=e.overrides.duration||e.defaults.duration||i.duration||n.duration,c=null,u="",h="",d={};if(l&&(void 0===(a=m[o=JSON.stringify(l)])&&(a=(0,r.d)(l),m[o]=a),c=a)){let e=(0,r.c)(c);u=e.unit,1===e.value&&(h=u,d=t[u]?t[u].rawOptions:{})}let f=t=>{let n=t.buttonText||{},r=e.defaults.buttonTextKey;return null!=r&&null!=n[r]?n[r]:null!=n[e.type]?n[e.type]:null!=n[h]?n[h]:null},p=t=>{let n=t.buttonHints||{},r=e.defaults.buttonTextKey;return null!=r&&null!=n[r]?n[r]:null!=n[e.type]?n[e.type]:null!=n[h]?n[h]:null};return{type:e.type,component:e.component,duration:c,durationUnit:u,singleUnit:h,optionDefaults:e.defaults,optionOverrides:Object.assign(Object.assign({},d),e.overrides),buttonTextOverride:f(i)||f(n)||e.overrides.buttonText,buttonTextDefault:f(s)||e.defaults.buttonText||f(r.e)||e.type,buttonTitleOverride:p(i)||p(n)||e.overrides.buttonHint,buttonTitleDefault:p(s)||e.defaults.buttonHint||p(r.e)}})(e,a,t,n,i))}d.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"},d.prototype.baseIconClass="fc-icon",d.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"},d.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"},d.prototype.iconOverrideOption="buttonIcons",d.prototype.iconOverrideCustomButtonOption="icon",d.prototype.iconOverridePrefix="fc-icon-";let m={};function y(e){for(let t in e)if(e[t].isFetching)return!0;return!1}function b(e,t,n,r){let i={};for(let e of t)i[e.sourceId]=e;return n&&(i=_(i,n,r)),Object.assign(Object.assign({},e),i)}function _(e,t,n){return E(e,(0,r.h)(e,e=>S(e,n)?!n.options.lazyFetching||!e.fetchRange||e.isFetching||t.start<e.fetchRange.start||t.end>e.fetchRange.end:!e.latestFetchId),t,!1,n)}function E(e,t,n,i,s){let o={};for(let a in e){let l=e[a];t[a]?o[a]=function(e,t,n,i){let{options:s,calendarApi:o}=i,a=i.pluginHooks.eventSourceDefs[e.sourceDefId],l=(0,r.g)();return a.fetch({eventSource:e,range:t,isRefetch:n,context:i},n=>{let{rawEvents:r}=n;s.eventSourceSuccess&&(r=s.eventSourceSuccess.call(o,r,n.response)||r),e.success&&(r=e.success.call(o,r,n.response)||r),i.dispatch({type:"RECEIVE_EVENTS",sourceId:e.sourceId,fetchId:l,fetchRange:t,rawEvents:r})},n=>{let r=!1;s.eventSourceFailure&&(s.eventSourceFailure.call(o,n),r=!0),e.failure&&(e.failure(n),r=!0),r||console.warn(n.message,n),i.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:e.sourceId,fetchId:l,fetchRange:t,error:n})}),Object.assign(Object.assign({},e),{isFetching:!0,latestFetchId:l})}(l,n,i,s):o[a]=l}return o}function A(e,t){return(0,r.h)(e,e=>S(e,t))}function S(e,t){return!t.pluginHooks.eventSourceDefs[e.sourceDefId].ignoreRange}function w(e,t,n,r,i){return{header:e.headerToolbar?C(e.headerToolbar,e,t,n,r,i):null,footer:e.footerToolbar?C(e.footerToolbar,e,t,n,r,i):null}}function C(e,t,n,i,s,o){let a={},l=[],c=!1;for(let u in e){let h=function(e,t,n,i,s,o){let a="rtl"===t.direction,l=t.customButtons||{},c=n.buttonText||{},u=t.buttonText||{},h=n.buttonHints||{},d=t.buttonHints||{},f=e?e.split(" "):[],p=[],g=!1;return{widgets:f.map(e=>e.split(",").map(e=>{let n,f,v,m,y,b;if("title"===e)return g=!0,{buttonName:e};if(n=l[e])v=e=>{n.click&&n.click.call(e.target,e,e.target)},(m=i.getCustomButtonIconClass(n))||(m=i.getIconClass(e,a))||(y=n.text),b=n.hint||n.text;else if(f=s[e]){p.push(e),v=()=>{o.changeView(e)},(y=f.buttonTextOverride)||(m=i.getIconClass(e,a))||(y=f.buttonTextDefault);let n=f.buttonTextOverride||f.buttonTextDefault;b=(0,r.k)(f.buttonTitleOverride||f.buttonTitleDefault||t.viewHint,[n,e],n)}else if(o[e]){if(v=()=>{o[e]()},(y=c[e])||(m=i.getIconClass(e,a))||(y=u[e]),"prevYear"===e||"nextYear"===e){let t="prevYear"===e?"prev":"next";b=(0,r.k)(h[t]||d[t],[u.year||"year","year"],u[e])}else b=t=>(0,r.k)(h[e]||d[e],[u[t]||t,t],u[e])}return{buttonName:e,buttonClick:v,buttonIcon:m,buttonText:y,buttonHint:b}})),viewsWithButtons:p,hasTitle:g}}(e[u],t,n,i,s,o);a[u]=h.widgets,l.push(...h.viewsWithButtons),c=c||h.hasTitle}return{sectionWidgets:a,viewsWithButtons:l,hasTitle:c}}class k{constructor(e,t,n){this.type=e,this.getCurrentData=t,this.dateEnv=n}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}let D=h({name:"array-event-source",eventSourceDefs:[{ignoreRange:!0,parseMeta:e=>Array.isArray(e.events)?e.events:null,fetch(e,t){t({rawEvents:e.eventSource.meta})}}]}),T=h({name:"func-event-source",eventSourceDefs:[{parseMeta:e=>"function"==typeof e.events?e.events:null,fetch(e,t,n){let{dateEnv:i}=e.context,s=e.eventSource.meta;(0,r.u)(s.bind(null,(0,r.l)(e.range,i)),e=>t({rawEvents:e}),n)}}]}),x={method:String,extraParams:r.n,startParam:String,endParam:String,timeZoneParam:String},R=h({name:"json-event-source",eventSourceRefiners:x,eventSourceDefs:[{parseMeta:e=>e.url&&("json"===e.format||!e.format)?{url:e.url,format:"json",method:(e.method||"GET").toUpperCase(),extraParams:e.extraParams,startParam:e.startParam,endParam:e.endParam,timeZoneParam:e.timeZoneParam}:null,fetch(e,t,n){let{meta:i}=e.eventSource,s=function(e,t,n){let r,i,s,{dateEnv:o,options:a}=n,l={};return null==(r=e.startParam)&&(r=a.startParam),null==(i=e.endParam)&&(i=a.endParam),null==(s=e.timeZoneParam)&&(s=a.timeZoneParam),Object.assign(l,"function"==typeof e.extraParams?e.extraParams():e.extraParams||{}),l[r]=o.formatIso(t.start),l[i]=o.formatIso(t.end),"local"!==o.timeZone&&(l[s]=o.timeZone),l}(i,e.range,e.context);(0,r.r)(i.method,i.url,s).then(([e,n])=>{t({rawEvents:e,response:n})},n)}}]}),O={daysOfWeek:r.n,startTime:r.d,endTime:r.d,duration:r.d,startRecur:r.n,endRecur:r.n},M=h({name:"simple-recurring-event",recurringTypes:[{parse(e,t){if(e.daysOfWeek||e.startTime||e.endTime||e.startRecur||e.endRecur){let n,i={daysOfWeek:e.daysOfWeek||null,startTime:e.startTime||null,endTime:e.endTime||null,startRecur:e.startRecur?t.createMarker(e.startRecur):null,endRecur:e.endRecur?t.createMarker(e.endRecur):null};return e.duration&&(n=e.duration),!n&&e.startTime&&e.endTime&&(n=(0,r.s)(e.endTime,e.startTime)),{allDayGuess:!!(!e.startTime&&!e.endTime),duration:n,typeData:i}}return null},expand(e,t,n){let i=(0,r.o)(t,{start:e.startRecur,end:e.endRecur});return i?function(e,t,n,i){let s=e?(0,r.f)(e):null,o=(0,r.q)(n.start),a=n.end,l=[];for(;o<a;){let e;(!s||s[o.getUTCDay()])&&(e=t?i.add(o,t):o,l.push(e)),o=(0,r.t)(o,1)}return l}(e.daysOfWeek,e.startTime,i,n):[]}}],eventRefiners:O}),N=h({name:"change-handler",optionChangeHandlers:{events(e,t){I([e],t)},eventSources:I}});function I(e,t){let n=(0,r.v)(t.getCurrentData().eventSources);if(1===n.length&&1===e.length&&Array.isArray(n[0]._raw)&&Array.isArray(e[0])){t.dispatch({type:"RESET_RAW_EVENTS",sourceId:n[0].sourceId,rawEvents:e[0]});return}let i=[];for(let t of e){let e=!1;for(let r=0;r<n.length;r+=1)if(n[r]._raw===t){n.splice(r,1),e=!0;break}e||i.push(t)}for(let e of n)t.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:e.sourceId});for(let e of i)t.calendarApi.addEventSource(e)}let P=[D,T,R,M,N,h({name:"misc",isLoadingFuncs:[e=>y(e.eventSources)],propSetHandlers:{dateProfile:function(e,t){t.emitter.trigger("datesSet",Object.assign(Object.assign({},(0,r.l)(e.activeRange,t.dateEnv)),{view:t.viewApi}))},eventStore:function(e,t){let{emitter:n}=t;n.hasHandlers("eventsSet")&&n.trigger("eventsSet",(0,r.w)(e,t))}}})];class H{constructor(e,t){this.runTaskOption=e,this.drainedOption=t,this.queue=[],this.delayedRunner=new r.D(this.drain.bind(this))}request(e,t){this.queue.push(e),this.delayedRunner.request(t)}pause(e){this.delayedRunner.pause(e)}resume(e,t){this.delayedRunner.resume(e,t)}drain(){let{queue:e}=this;for(;e.length;){let t,n=[];for(;t=e.shift();)this.runTask(t),n.push(t);this.drained(n)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function z(e,t,n){let i;return i=/^(year|month)$/.test(e.currentRangeUnit)?e.currentRange:e.activeRange,n.formatRange(i.start,i.end,(0,r.x)(t.titleFormat||function(e){let{currentRangeUnit:t}=e;if("year"===t)return{year:"numeric"};if("month"===t)return{year:"numeric",month:"long"};let n=(0,r.y)(e.currentRange.start,e.currentRange.end);return null!==n&&n>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}(e)),{isEndExclusive:e.isRangeAllDay,defaultSeparator:t.titleRangeSeparator})}class U{constructor(e){this.computeCurrentViewData=(0,r.z)(this._computeCurrentViewData),this.organizeRawLocales=(0,r.z)(l),this.buildLocale=(0,r.z)(c),this.buildPluginHooks=function(){let e,t=[],n=[];return(i,s)=>(e&&(0,r.i)(i,t)&&(0,r.i)(s,n)||(e=function(e,t){let n={},r={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function i(e){for(let t of e){let e=t.name,s=n[e];void 0===s?(n[e]=t.id,i(t.deps),r=function(e,t){var n,r;return{premiumReleaseDate:(n=e.premiumReleaseDate,r=t.premiumReleaseDate,void 0===n?r:void 0===r?n:new Date(Math.max(n.valueOf(),r.valueOf()))),reducers:e.reducers.concat(t.reducers),isLoadingFuncs:e.isLoadingFuncs.concat(t.isLoadingFuncs),contextInit:e.contextInit.concat(t.contextInit),eventRefiners:Object.assign(Object.assign({},e.eventRefiners),t.eventRefiners),eventDefMemberAdders:e.eventDefMemberAdders.concat(t.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},e.eventSourceRefiners),t.eventSourceRefiners),isDraggableTransformers:e.isDraggableTransformers.concat(t.isDraggableTransformers),eventDragMutationMassagers:e.eventDragMutationMassagers.concat(t.eventDragMutationMassagers),eventDefMutationAppliers:e.eventDefMutationAppliers.concat(t.eventDefMutationAppliers),dateSelectionTransformers:e.dateSelectionTransformers.concat(t.dateSelectionTransformers),datePointTransforms:e.datePointTransforms.concat(t.datePointTransforms),dateSpanTransforms:e.dateSpanTransforms.concat(t.dateSpanTransforms),views:Object.assign(Object.assign({},e.views),t.views),viewPropsTransformers:e.viewPropsTransformers.concat(t.viewPropsTransformers),isPropsValid:t.isPropsValid||e.isPropsValid,externalDefTransforms:e.externalDefTransforms.concat(t.externalDefTransforms),viewContainerAppends:e.viewContainerAppends.concat(t.viewContainerAppends),eventDropTransformers:e.eventDropTransformers.concat(t.eventDropTransformers),calendarInteractions:e.calendarInteractions.concat(t.calendarInteractions),componentInteractions:e.componentInteractions.concat(t.componentInteractions),themeClasses:Object.assign(Object.assign({},e.themeClasses),t.themeClasses),eventSourceDefs:e.eventSourceDefs.concat(t.eventSourceDefs),cmdFormatter:t.cmdFormatter||e.cmdFormatter,recurringTypes:e.recurringTypes.concat(t.recurringTypes),namedTimeZonedImpl:t.namedTimeZonedImpl||e.namedTimeZonedImpl,initialView:e.initialView||t.initialView,elementDraggingImpl:e.elementDraggingImpl||t.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},e.optionChangeHandlers),t.optionChangeHandlers),scrollGridImpl:t.scrollGridImpl||e.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},e.listenerRefiners),t.listenerRefiners),optionRefiners:Object.assign(Object.assign({},e.optionRefiners),t.optionRefiners),propSetHandlers:Object.assign(Object.assign({},e.propSetHandlers),t.propSetHandlers)}}(r,t)):s!==t.id&&console.warn(`Duplicate plugin '${e}'`)}}return e&&i(e),i(t),r}(i,s)),t=i,n=s,e)}(),this.buildDateEnv=(0,r.z)(B),this.buildTheme=(0,r.z)(L),this.parseToolbars=(0,r.z)(w),this.buildViewSpecs=(0,r.z)(v),this.buildDateProfileGenerator=(0,r.A)(j),this.buildViewApi=(0,r.z)(F),this.buildViewUiProps=(0,r.A)(q),this.buildEventUiBySource=(0,r.z)(W,r.E),this.buildEventUiBases=(0,r.z)(V),this.parseContextBusinessHours=(0,r.A)(Y),this.buildTitle=(0,r.z)(z),this.emitter=new r.F,this.actionRunner=new H(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=e=>{this.actionRunner.request(e)},this.props=e,this.actionRunner.pause();let t={},n=this.computeOptionsData(e.optionOverrides,t,e.calendarApi),i=n.calendarOptions.initialView||n.pluginHooks.initialView,s=this.computeCurrentViewData(i,n,e.optionOverrides,t);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(s.options);let o=(0,r.G)(n.calendarOptions,n.dateEnv),a=s.dateProfileGenerator.build(o);(0,r.H)(a.activeRange,o)||(o=a.currentRange.start);let u={dateEnv:n.dateEnv,options:n.calendarOptions,pluginHooks:n.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData};for(let e of n.pluginHooks.contextInit)e(u);let h=function(e,t,n){let i=t?t.activeRange:null;return b({},function(e,t){let n=(0,r.j)(t),i=[].concat(e.eventSources||[]),s=[];for(let o of(e.initialEvents&&i.unshift(e.initialEvents),e.events&&i.unshift(e.events),i)){let e=(0,r.p)(o,t,n);e&&s.push(e)}return s}(e,n),i,n)}(n.calendarOptions,a,u),d={dynamicOptionOverrides:t,currentViewType:i,currentDate:o,dateProfile:a,businessHours:this.parseContextBusinessHours(u),eventSources:h,eventUiBases:{},eventStore:(0,r.I)(),renderableEventStore:(0,r.I)(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(u).selectionConfig},f=Object.assign(Object.assign({},u),d);for(let e of n.pluginHooks.reducers)Object.assign(d,e(null,null,f));G(d,u)&&this.emitter.trigger("loading",!0),this.state=d,this.updateData(),this.actionRunner.resume()}resetOptions(e,t){let{props:n}=this;void 0===t?n.optionOverrides=e:(n.optionOverrides=Object.assign(Object.assign({},n.optionOverrides||{}),e),this.optionsForRefining.push(...t)),(void 0===t||t.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){var t,n;let{props:i,state:s,emitter:o}=this,a=(t=s.dynamicOptionOverrides,"SET_OPTION"===e.type?Object.assign(Object.assign({},t),{[e.optionName]:e.rawOptionValue}):t),l=this.computeOptionsData(i.optionOverrides,a,i.calendarApi),c=(n=s.currentViewType,"CHANGE_VIEW_TYPE"===e.type&&(n=e.viewType),n),u=this.computeCurrentViewData(c,l,i.optionOverrides,a);i.calendarApi.currentDataManager=this,o.setThisContext(i.calendarApi),o.setOptions(u.options);let h={dateEnv:l.dateEnv,options:l.calendarOptions,pluginHooks:l.pluginHooks,calendarApi:i.calendarApi,dispatch:this.dispatch,emitter:o,getCurrentData:this.getCurrentData},{currentDate:d,dateProfile:f}=s;this.data&&this.data.dateProfileGenerator!==u.dateProfileGenerator&&(f=u.dateProfileGenerator.build(d)),d=(0,r.J)(d,e),f=function(e,t,n,r){let i;switch(t.type){case"CHANGE_VIEW_TYPE":return r.build(t.dateMarker||n);case"CHANGE_DATE":return r.build(t.dateMarker);case"PREV":if((i=r.buildPrev(e,n)).isValid)return i;break;case"NEXT":if((i=r.buildNext(e,n)).isValid)return i}return e}(f,e,d,u.dateProfileGenerator),"PREV"!==e.type&&"NEXT"!==e.type&&(0,r.H)(f.currentRange,d)||(d=f.currentRange.start);let p=function(e,t,n,i){var s,o,a,l;let c=n?n.activeRange:null;switch(t.type){case"ADD_EVENT_SOURCES":return b(e,t.sources,c,i);case"REMOVE_EVENT_SOURCE":return s=t.sourceId,(0,r.h)(e,e=>e.sourceId!==s);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":if(n)return _(e,c,i);return e;case"FETCH_EVENT_SOURCES":return E(e,t.sourceIds?(0,r.f)(t.sourceIds):A(e,i),c,t.isRefetch||!1,i);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":let u;return o=t.sourceId,a=t.fetchId,l=t.fetchRange,(u=e[o])&&a===u.latestFetchId?Object.assign(Object.assign({},e),{[o]:Object.assign(Object.assign({},u),{isFetching:!1,fetchRange:l})}):e;case"REMOVE_ALL_EVENT_SOURCES":return{};default:return e}}(s.eventSources,e,f,h),g=(0,r.K)(s.eventStore,e,p,f,h),v=y(p)&&!u.options.progressiveEventRendering&&s.renderableEventStore||g,{eventUiSingleBase:m,selectionConfig:S}=this.buildViewUiProps(h),w=this.buildEventUiBySource(p),C={dynamicOptionOverrides:a,currentViewType:c,currentDate:d,dateProfile:f,eventSources:p,eventStore:g,renderableEventStore:v,selectionConfig:S,eventUiBases:this.buildEventUiBases(v.defs,m,w),businessHours:this.parseContextBusinessHours(h),dateSelection:function(e,t){switch(t.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return t.selection;default:return e}}(s.dateSelection,e),eventSelection:function(e,t){switch(t.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return t.eventInstanceId;default:return e}}(s.eventSelection,e),eventDrag:function(e,t){let n;switch(t.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return{affectedEvents:(n=t.state).affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return e}}(s.eventDrag,e),eventResize:function(e,t){let n;switch(t.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return{affectedEvents:(n=t.state).affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return e}}(s.eventResize,e)},k=Object.assign(Object.assign({},h),C);for(let t of l.pluginHooks.reducers)Object.assign(C,t(s,e,k));let D=G(s,h),T=G(C,h);!D&&T?o.trigger("loading",!0):D&&!T&&o.trigger("loading",!1),this.state=C,i.onAction&&i.onAction(e)}updateData(){let{props:e,state:t}=this,n=this.data,i=this.computeOptionsData(e.optionOverrides,t.dynamicOptionOverrides,e.calendarApi),s=this.computeCurrentViewData(t.currentViewType,i,e.optionOverrides,t.dynamicOptionOverrides),o=this.data=Object.assign(Object.assign(Object.assign({viewTitle:this.buildTitle(t.dateProfile,s.options,i.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},i),s),t),a=i.pluginHooks.optionChangeHandlers,l=n&&n.calendarOptions,c=i.calendarOptions;if(l&&l!==c){if(l.timeZone!==c.timeZone){var u,h;let e;t.eventSources=o.eventSources=(u=o.eventSources,e=(h=t.dateProfile)?h.activeRange:null,E(u,A(u,o),e,!0,o)),t.eventStore=o.eventStore=(0,r.L)(o.eventStore,n.dateEnv,o.dateEnv),t.renderableEventStore=o.renderableEventStore=(0,r.L)(o.renderableEventStore,n.dateEnv,o.dateEnv)}for(let e in a)(-1!==this.optionsForHandling.indexOf(e)||l[e]!==c[e])&&a[e](c[e],o)}this.optionsForHandling=[],e.onData&&e.onData(o)}computeOptionsData(e,t,n){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&t===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:r,pluginHooks:i,localeDefaults:s,availableLocaleData:o,extra:a}=this.processRawCalendarOptions(e,t);Q(a);let l=this.buildDateEnv(r.timeZone,r.locale,r.weekNumberCalculation,r.firstDay,r.weekText,i,o,r.defaultRangeSeparator),c=this.buildViewSpecs(i.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,s),u=this.buildTheme(r,i),h=this.parseToolbars(r,this.stableOptionOverrides,u,c,n);return this.stableCalendarOptionsData={calendarOptions:r,pluginHooks:i,dateEnv:l,viewSpecs:c,theme:u,toolbarConfig:h,localeDefaults:s,availableRawLocales:o.map}}processRawCalendarOptions(e,t){let{locales:n,locale:i}=(0,r.M)([r.e,e,t]),s=this.organizeRawLocales(n),o=s.map,a=this.buildLocale(i||s.defaultCode,o).options,l=this.buildPluginHooks(e.plugins||[],P),c=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},r.N),r.O),r.P),l.listenerRefiners),l.optionRefiners),u={},h=(0,r.M)([r.e,a,e,t]),d={},f=this.currentCalendarOptionsInput,p=this.currentCalendarOptionsRefined,g=!1;for(let e in h)-1===this.optionsForRefining.indexOf(e)&&(h[e]===f[e]||r.Q[e]&&e in f&&r.Q[e](f[e],h[e]))?d[e]=p[e]:c[e]?(d[e]=c[e](h[e]),g=!0):u[e]=f[e];return g&&(this.currentCalendarOptionsInput=h,this.currentCalendarOptionsRefined=d,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=t),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:l,availableLocaleData:s,localeDefaults:a,extra:u}}_computeCurrentViewData(e,t,n,r){let i=t.viewSpecs[e];if(!i)throw Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:s,extra:o}=this.processRawViewOptions(i,t.pluginHooks,t.localeDefaults,n,r);Q(o);let a=this.buildDateProfileGenerator({dateProfileGeneratorClass:i.optionDefaults.dateProfileGeneratorClass,duration:i.duration,durationUnit:i.durationUnit,usesMinMaxTime:i.optionDefaults.usesMinMaxTime,dateEnv:t.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:s.slotMinTime,slotMaxTime:s.slotMaxTime,showNonCurrentDates:s.showNonCurrentDates,dayCount:s.dayCount,dateAlignment:s.dateAlignment,dateIncrement:s.dateIncrement,hiddenDays:s.hiddenDays,weekends:s.weekends,nowInput:s.now,validRangeInput:s.validRange,visibleRangeInput:s.visibleRange,fixedWeekCount:s.fixedWeekCount});return{viewSpec:i,options:s,dateProfileGenerator:a,viewApi:this.buildViewApi(e,this.getCurrentData,t.dateEnv)}}processRawViewOptions(e,t,n,i,s){let o=(0,r.M)([r.e,e.optionDefaults,n,i,e.optionOverrides,s]),a=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},r.N),r.O),r.P),r.R),t.listenerRefiners),t.optionRefiners),l={},c=this.currentViewOptionsInput,u=this.currentViewOptionsRefined,h=!1,d={};for(let e in o)o[e]===c[e]||r.Q[e]&&r.Q[e](o[e],c[e])?l[e]=u[e]:(o[e]===this.currentCalendarOptionsInput[e]||r.Q[e]&&r.Q[e](o[e],this.currentCalendarOptionsInput[e])?e in this.currentCalendarOptionsRefined&&(l[e]=this.currentCalendarOptionsRefined[e]):a[e]?l[e]=a[e](o[e]):d[e]=o[e],h=!0);return h&&(this.currentViewOptionsInput=o,this.currentViewOptionsRefined=l),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:d}}}function B(e,t,n,i,s,o,a,l){let u=c(t||a.defaultCode,a.map);return new r.S({calendarSystem:"gregory",timeZone:e,namedTimeZoneImpl:o.namedTimeZonedImpl,locale:u,weekNumberCalculation:n,firstDay:i,weekText:s,cmdFormatter:o.cmdFormatter,defaultSeparator:l})}function L(e,t){return new(t.themeClasses[e.themeSystem]||d)(e)}function j(e){return new(e.dateProfileGeneratorClass||r.U)(e)}function F(e,t,n){return new k(e,t,n)}function W(e){return(0,r.a)(e,e=>e.ui)}function V(e,t,n){let r={"":t};for(let t in e){let i=e[t];i.sourceId&&n[i.sourceId]&&(r[t]=n[i.sourceId])}return r}function q(e){let{options:t}=e;return{eventUiSingleBase:(0,r.W)({display:t.eventDisplay,editable:t.editable,startEditable:t.eventStartEditable,durationEditable:t.eventDurationEditable,constraint:t.eventConstraint,overlap:"boolean"==typeof t.eventOverlap?t.eventOverlap:void 0,allow:t.eventAllow,backgroundColor:t.eventBackgroundColor,borderColor:t.eventBorderColor,textColor:t.eventTextColor,color:t.eventColor},e),selectionConfig:(0,r.W)({constraint:t.selectConstraint,overlap:"boolean"==typeof t.selectOverlap?t.selectOverlap:void 0,allow:t.selectAllow},e)}}function G(e,t){for(let n of t.pluginHooks.isLoadingFuncs)if(n(e))return!0;return!1}function Y(e){return(0,r.X)(e.options.businessHours,e)}function Q(e,t){for(let n in e)console.warn(`Unknown option '${n}'`+(t?` for view '${t}'`:""))}class Z extends r.B{render(){let e=this.props.widgetGroups.map(e=>this.renderWidgetGroup(e));return(0,i.az)("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:t}=this,{theme:n}=this.context,r=[],s=!0;for(let o of e){let{buttonName:e,buttonClick:a,buttonText:l,buttonIcon:c,buttonHint:u}=o;if("title"===e)s=!1,r.push((0,i.az)("h2",{className:"fc-toolbar-title",id:t.titleId},t.title));else{let s=e===t.activeButton,o=!t.isTodayEnabled&&"today"===e||!t.isPrevEnabled&&"prev"===e||!t.isNextEnabled&&"next"===e,h=[`fc-${e}-button`,n.getClass("button")];s&&h.push(n.getClass("buttonActive")),r.push((0,i.az)("button",{type:"button",title:"function"==typeof u?u(t.navUnit):u,disabled:o,"aria-pressed":s,className:h.join(" "),onClick:a},l||(c?(0,i.az)("span",{className:c}):"")))}}if(r.length>1){let e=s&&n.getClass("buttonGroup")||"";return(0,i.az)("div",{className:e},...r)}return r[0]}}class $ extends r.B{render(){let e,t,{model:n,extraClassName:r}=this.props,s=!1,o=n.sectionWidgets,a=o.center;o.left?(s=!0,e=o.left):e=o.start,o.right?(s=!0,t=o.right):t=o.end;let l=[r||"","fc-toolbar",s?"fc-toolbar-ltr":""];return(0,i.az)("div",{className:l.join(" ")},this.renderSection("start",e||[]),this.renderSection("center",a||[]),this.renderSection("end",t||[]))}renderSection(e,t){let{props:n}=this;return(0,i.az)(Z,{key:e,widgetGroups:t,title:n.title,navUnit:n.navUnit,activeButton:n.activeButton,isTodayEnabled:n.isTodayEnabled,isPrevEnabled:n.isPrevEnabled,isNextEnabled:n.isNextEnabled,titleId:n.titleId})}}class K extends r.B{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,(0,r.Y)(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:t}=this,{aspectRatio:n}=e,r=["fc-view-harness",n||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],s="",o="";return n?null!==t.availableWidth?s=t.availableWidth/n:o=`${1/n*100}%`:s=e.height||"",(0,i.az)("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:r.join(" "),style:{height:s,paddingBottom:o}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class J extends r.Z{constructor(e){super(e),this.handleSegClick=(e,t)=>{let{component:n}=this,{context:i}=n,s=(0,r._)(t);if(s&&n.isValidSegDownEl(e.target)){let o=(0,r.$)(e.target,".fc-event-forced-url"),a=o?o.querySelector("a[href]").href:"";i.emitter.trigger("eventClick",{el:t,event:new r.a0(n.context,s.eventRange.def,s.eventRange.instance),jsEvent:e,view:i.viewApi}),a&&!e.defaultPrevented&&(window.location.href=a)}},this.destroy=(0,r.a1)(e.el,"click",".fc-event",this.handleSegClick)}}class X extends r.Z{constructor(e){super(e),this.handleEventElRemove=e=>{e===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(e,t)=>{(0,r._)(t)&&(this.currentSegEl=t,this.triggerEvent("eventMouseEnter",e,t))},this.handleSegLeave=(e,t)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",e,t))},this.removeHoverListeners=(0,r.a2)(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,t,n){let{component:i}=this,{context:s}=i,o=(0,r._)(n);(!t||i.isValidSegDownEl(t.target))&&s.emitter.trigger(e,{el:n,event:new r.a0(s,o.eventRange.def,o.eventRange.instance),jsEvent:t,view:s.viewApi})}}class ee extends r.a3{constructor(){super(...arguments),this.buildViewContext=(0,r.z)(r.a4),this.buildViewPropTransformers=(0,r.z)(en),this.buildToolbarProps=(0,r.z)(et),this.headerRef=(0,i.Vf)(),this.footerRef=(0,i.Vf)(),this.interactionsStore={},this.state={viewLabelId:(0,r.a5)()},this.registerInteractiveComponent=(e,t)=>{let n=(0,r.a6)(e,t),i=[J,X].concat(this.props.pluginHooks.componentInteractions).map(e=>new e(n));this.interactionsStore[e.uid]=i,r.a7[e.uid]=n},this.unregisterInteractiveComponent=e=>{let t=this.interactionsStore[e.uid];if(t){for(let e of t)e.destroy();delete this.interactionsStore[e.uid]}delete r.a7[e.uid]},this.resizeRunner=new r.D(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:t}=this.props;t.handleWindowResize&&e.target===window&&this.resizeRunner.request(t.windowResizeDelay)}}render(){let e,{props:t}=this,{toolbarConfig:n,options:s}=t,o=this.buildToolbarProps(t.viewSpec,t.dateProfile,t.dateProfileGenerator,t.currentDate,(0,r.a8)(t.options.now,t.dateEnv),t.viewTitle),a=!1,l="";t.isHeightAuto||t.forPrint?l="":null!=s.height?a=!0:null!=s.contentHeight?l=s.contentHeight:e=Math.max(s.aspectRatio,.5);let c=this.buildViewContext(t.viewSpec,t.viewApi,t.options,t.dateProfileGenerator,t.dateEnv,t.theme,t.pluginHooks,t.dispatch,t.getCurrentData,t.emitter,t.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),u=n.header&&n.header.hasTitle?this.state.viewLabelId:"";return(0,i.az)(r.V.Provider,{value:c},n.header&&(0,i.az)($,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:n.header,titleId:u},o)),(0,i.az)(K,{liquid:a,height:l,aspectRatio:e,labeledById:u},this.renderView(t),this.buildAppendContent()),n.footer&&(0,i.az)($,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:n.footer,titleId:""},o)))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(t=>new t(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:t}=e.pluginHooks;for(let n in t)t[n](e[n],e)}componentDidUpdate(e){let{props:t}=this,{propSetHandlers:n}=t.pluginHooks;for(let r in n)t[r]!==e[r]&&n[r](t[r],t)}componentWillUnmount(){for(let e of(window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear(),this.calendarInteractions))e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,t=e.pluginHooks.viewContainerAppends.map(t=>t(e));return(0,i.az)(i.HY,{},...t)}renderView(e){let{pluginHooks:t}=e,{viewSpec:n}=e,r={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint};for(let n of this.buildViewPropTransformers(t.viewPropsTransformers))Object.assign(r,n.transform(r,e));let s=n.component;return(0,i.az)(s,Object.assign({},r))}}function et(e,t,n,i,s,o){let a=n.build(s,void 0,!1),l=n.buildPrev(t,i,!1),c=n.buildNext(t,i,!1);return{title:o,activeButton:e.type,navUnit:e.singleUnit,isTodayEnabled:a.isValid&&!(0,r.H)(t.currentRange,s),isPrevEnabled:l.isValid,isNextEnabled:c.isValid}}function en(e){return e.map(e=>new e)}class er extends r.a9{constructor(e,t={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=e=>{switch(e.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=e=>{this.currentData=e,this.renderRunner.request(e.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:e}=this;(0,r.aa)(()=>{(0,i.sY)((0,i.az)(r.ab,{options:e.calendarOptions,theme:e.theme,emitter:e.emitter},(t,n,s,o)=>(this.setClassNames(t),this.setHeight(n),(0,i.az)(r.ac.Provider,{value:this.customContentRenderId},(0,i.az)(ee,Object.assign({isHeightAuto:s,forPrint:o},e))))),this.el)})}else this.isRendered&&(this.isRendered=!1,(0,i.sY)(null,this.el),this.setClassNames([]),this.setHeight(""))},(0,r.ad)(e),this.el=e,this.renderRunner=new r.D(this.handleRenderRequest),new U({optionOverrides:t,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){(0,r.aa)(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,t){this.currentDataManager.resetOptions(e,t)}setClassNames(e){if(!(0,r.i)(e,this.currentClassNames)){let{classList:t}=this.el;for(let e of this.currentClassNames)t.remove(e);for(let n of e)t.add(n);this.currentClassNames=e}}setHeight(e){(0,r.ae)(this.el,"height",e)}}},5898:(e,t,n)=>{"use strict";let r,i,s;n.d(t,{$:()=>m,A:()=>er,B:()=>e$,C:()=>e2,D:()=>g,E:()=>eP,F:()=>tP,G:()=>ts,H:()=>te,I:()=>tb,J:()=>ti,K:()=>tR,L:()=>tN,M:()=>ek,N:()=>ey,O:()=>e_,P:()=>eE,Q:()=>eA,R:()=>eC,S:()=>ej,T:()=>eF,U:()=>ta,V:()=>eY,W:()=>tC,X:()=>tz,Y:()=>eK,Z:()=>t8,_:()=>tV,a:()=>eM,a0:()=>tL,a1:()=>A,a2:()=>S,a3:()=>eZ,a4:()=>eQ,a5:()=>E,a6:()=>t9,a7:()=>t7,a8:()=>to,a9:()=>ne,aa:()=>eW,ab:()=>t4,ac:()=>e5,ad:()=>d,ae:()=>b,b:()=>e4,b$:()=>nU,b0:()=>ns,bA:()=>nc,bB:()=>nh,bF:()=>nd,bK:()=>nA,bO:()=>nw,bQ:()=>tZ,bR:()=>tY,bS:()=>t$,bT:()=>tK,bU:()=>tJ,bV:()=>nC,bW:()=>nk,ba:()=>no,be:()=>nl,bg:()=>j,bh:()=>B,bi:()=>F,bv:()=>X,bx:()=>ee,c:()=>H,ca:()=>nP,cb:()=>nz,cc:()=>nH,cf:()=>nO,ch:()=>n_,cj:()=>nL,cl:()=>nW,cm:()=>nV,cn:()=>nB,co:()=>nQ,cp:()=>nG,cq:()=>nZ,cr:()=>nX,ct:()=>e3,cw:()=>h,cy:()=>n3,d:()=>O,e:()=>eb,f:()=>eN,g:()=>D,h:()=>eO,i:()=>z,j:()=>tx,k:()=>x,l:()=>t0,m:()=>eR,n:()=>eT,o:()=>e7,p:()=>tT,q:()=>q,r:()=>t6,s:()=>N,t:()=>L,u:()=>t5,v:()=>eI,w:()=>tF,x:()=>em,y:()=>V,z:()=>en});var o,a=n(603),l=n(327);let c=[],u=new Map;function h(e){c.push(e),u.forEach(t=>{p(t,e)})}function d(e){e.isConnected&&f(e.getRootNode())}function f(e){let t=u.get(e);if(!t||!t.isConnected){if(!(t=e.querySelector("style[data-fullcalendar]"))){(t=document.createElement("style")).setAttribute("data-fullcalendar","");let n=(void 0===r&&(r=function(){let e=document.querySelector('meta[name="csp-nonce"]');if(e&&e.hasAttribute("content"))return e.getAttribute("content");let t=document.querySelector("script[nonce]");return t&&t.nonce||""}()),r);n&&(t.nonce=n);let i=e===document?document.head:e,s=e===document?i.querySelector("script,link[rel=stylesheet],link[as=style],style"):i.firstChild;i.insertBefore(t,s)}u.set(e,t),function(e){for(let t of c)p(e,t)}(t)}}function p(e,t){let{sheet:n}=e,r=n.cssRules.length;t.split("}").forEach((e,t)=>{(e=e.trim())&&n.insertRule(e+"}",r+t)})}"undefined"!=typeof document&&f(document),h(':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}');class g{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),null==e?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:t}=this;t[e]=(t[e]||0)+1,this.clearTimeout()}resume(e="",t){let{pauseDepths:n}=this;e in n&&(t?delete n[e]:(n[e]-=1,n[e]<=0&&delete n[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function v(e){e.parentNode&&e.parentNode.removeChild(e)}function m(e,t){if(e.closest)return e.closest(t);if(!document.documentElement.contains(e))return null;do{var n,r;if(n=e,r=t,(n.matches||n.matchesSelector||n.msMatchesSelector).call(n,r))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}let y=/(top|left|right|bottom|width|height)$/i;function b(e,t,n){null==n?e.style[t]="":"number"==typeof n&&y.test(t)?e.style[t]=`${n}px`:e.style[t]=n}let _=0;function E(){return"fc-dom-"+(_+=1)}function A(e,t,n,r){let i=e=>{let t=m(e.target,n);t&&r.call(t,e,t)};return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}function S(e,t,n,r){let i;return A(e,"mouseover",t,(e,t)=>{if(t!==i){i=t,n(e,t);let s=e=>{i=null,r(e,t),t.removeEventListener("mouseleave",s)};t.addEventListener("mouseleave",s)}})}function w(e){return Object.assign({onClick:e},C(e))}function C(e){return{tabIndex:0,onKeyDown(t){("Enter"===t.key||" "===t.key)&&(e(t),t.preventDefault())}}}let k=0;function D(){return String(k+=1)}function T(e,t){let n=String(e);return"000".substr(0,t-n.length)+n}function x(e,t,n){return"function"==typeof e?e(...t):"string"==typeof e?t.reduce((e,t,n)=>e.replace("$"+n,t||""),e):n}let R=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function O(e,t){return"string"==typeof e?function(e){let t=R.exec(e);if(t){let e=t[1]?-1:1;return{years:0,months:0,days:e*(t[2]?parseInt(t[2],10):0),milliseconds:e*((t[3]?parseInt(t[3],10):0)*36e5+(t[4]?parseInt(t[4],10):0)*6e4+(t[5]?parseInt(t[5],10):0)*1e3+(t[6]?parseInt(t[6],10):0))}}return null}(e):"object"==typeof e&&e?M(e):"number"==typeof e?M({[t||"milliseconds"]:e}):null}function M(e){let t={years:e.years||e.year||0,months:e.months||e.month||0,days:e.days||e.day||0,milliseconds:36e5*(e.hours||e.hour||0)+6e4*(e.minutes||e.minute||0)+1e3*(e.seconds||e.second||0)+(e.milliseconds||e.millisecond||e.ms||0)},n=e.weeks||e.week;return n&&(t.days+=7*n,t.specifiedWeeks=!0),t}function N(e,t){return{years:e.years-t.years,months:e.months-t.months,days:e.days-t.days,milliseconds:e.milliseconds-t.milliseconds}}function I(e){return P(e)/864e5}function P(e){return e.years*(365*864e5)+e.months*(30*864e5)+864e5*e.days+e.milliseconds}function H(e){let t=e.milliseconds;if(t){if(t%1e3!=0)return{unit:"millisecond",value:t};if(t%6e4!=0)return{unit:"second",value:t/1e3};if(t%36e5!=0)return{unit:"minute",value:t/6e4};if(t)return{unit:"hour",value:t/36e5}}return e.days?e.specifiedWeeks&&e.days%7==0?{unit:"week",value:e.days/7}:{unit:"day",value:e.days}:e.months?{unit:"month",value:e.months}:e.years?{unit:"year",value:e.years}:{unit:"millisecond",value:0}}function z(e,t,n){let r;if(e===t)return!0;let i=e.length;if(i!==t.length)return!1;for(r=0;r<i;r+=1)if(!(n?n(e[r],t[r]):e[r]===t[r]))return!1;return!0}let U=["sun","mon","tue","wed","thu","fri","sat"];function B(e,t){let n=Z(e);return n[2]+=7*t,$(n)}function L(e,t){let n=Z(e);return n[2]+=t,$(n)}function j(e,t){let n=Z(e);return n[6]+=t,$(n)}function F(e,t){return W(e,t)/7}function W(e,t){return(t.valueOf()-e.valueOf())/864e5}function V(e,t){return J(e)===J(t)?Math.round(W(e,t)):null}function q(e){return $([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()])}function G(e,t,n,r){let i;return Math.floor(Math.round(W($([t,0,1+(-((7+$([t,0,i=7+n-r]).getUTCDay()-n)%7)+i-1)]),q(e)))/7)+1}function Y(e){return[e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()]}function Q(e){return new Date(e[0],e[1]||0,null==e[2]?1:e[2],e[3]||0,e[4]||0,e[5]||0)}function Z(e){return[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()]}function $(e){return 1===e.length&&(e=e.concat([0])),new Date(Date.UTC(...e))}function K(e){return!isNaN(e.valueOf())}function J(e){return 36e5*e.getUTCHours()+6e4*e.getUTCMinutes()+1e3*e.getUTCSeconds()+e.getUTCMilliseconds()}function X(e){return e.toISOString().replace(/T.*$/,"")}function ee(e){return e.toISOString().match(/^\d{4}-\d{2}/)[0]}function et(e,t=!1){let n=e<0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),s=Math.round(r%60);return t?`${n+T(i,2)}:${T(s,2)}`:`GMT${n}${i}${s?`:${T(s,2)}`:""}`}function en(e,t,n){let r,i;return function(...s){if(r){if(!z(r,s)){n&&n(i);let r=e.apply(this,s);t&&t(r,i)||(i=r)}}else i=e.apply(this,s);return r=s,i}}function er(e,t,n){let r,i;return s=>{if(r){if(!eP(r,s)){n&&n(i);let r=e.call(this,s);t&&t(r,i)||(i=r)}}else i=e.call(this,s);return r=s,i}}let ei={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},es={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},eo=/\s*([ap])\.?m\.?/i,ea=/,/g,el=/\s+/g,ec=/\u200e/g,eu=/UTC|GMT/;class eh{constructor(e){let t={},n={},r=0;for(let i in e)i in ei?(n[i]=e[i],r=Math.max(ei[i],r)):(t[i]=e[i],i in es&&(r=Math.max(es[i],r)));this.standardDateProps=t,this.extendedSettings=n,this.severity=r,this.buildFormattingFunc=en(ed)}format(e,t){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,t)(e)}formatRange(e,t,n,r){var i,s,o;let{standardDateProps:a,extendedSettings:l}=this,c=(i=e.marker,s=t.marker,(o=n.calendarSystem).getMarkerYear(i)!==o.getMarkerYear(s)?5:o.getMarkerMonth(i)!==o.getMarkerMonth(s)?4:o.getMarkerDay(i)!==o.getMarkerDay(s)?2:J(i)!==J(s)?1:0);if(!c)return this.format(e,n);let u=c;u>1&&("numeric"===a.year||"2-digit"===a.year)&&("numeric"===a.month||"2-digit"===a.month)&&("numeric"===a.day||"2-digit"===a.day)&&(u=1);let h=this.format(e,n),d=this.format(t,n);if(h===d)return h;let f=ed(function(e,t){let n={};for(let r in e)r in es&&!(es[r]<=t)||(n[r]=e[r]);return n}(a,u),l,n),p=f(e),g=f(t),v=function(e,t,n,r){let i=0;for(;i<e.length;){let s=e.indexOf(t,i);if(-1===s)break;let o=e.substr(0,s);i=s+t.length;let a=e.substr(i),l=0;for(;l<n.length;){let e=n.indexOf(r,l);if(-1===e)break;let t=n.substr(0,e);l=e+r.length;let i=n.substr(l);if(o===t&&a===i)return{before:o,after:a}}}return null}(h,p,d,g),m=l.separator||r||n.defaultSeparator||"";return v?v.before+p+m+g+v.after:h+m+d}getLargestUnit(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function ed(e,t,n){let r=Object.keys(e).length;return 1===r&&"short"===e.timeZoneName?e=>et(e.timeZoneOffset):0===r&&t.week?e=>{var r,i,s,o,a;let l;return r=n.computeWeekNumber(e.marker),i=n.weekText,s=n.weekTextLong,o=n.locale,a=t.week,l=[],"long"===a?l.push(s):("short"===a||"narrow"===a)&&l.push(i),("long"===a||"short"===a)&&l.push(" "),l.push(o.simpleNumberFormat.format(r)),"rtl"===o.options.direction&&l.reverse(),l.join("")}:function(e,t,n){var r,i;let s;e=Object.assign({},e),t=Object.assign({},t),r=e,i=t,r.timeZoneName&&(r.hour||(r.hour="2-digit"),r.minute||(r.minute="2-digit")),"long"===r.timeZoneName&&(r.timeZoneName="short"),i.omitZeroMinute&&(r.second||r.millisecond)&&delete i.omitZeroMinute,e.timeZone="UTC";let o=new Intl.DateTimeFormat(n.locale.codes,e);if(t.omitZeroMinute){let t=Object.assign({},e);delete t.minute,s=new Intl.DateTimeFormat(n.locale.codes,t)}return r=>{var i,a,l,c,u;let h,{marker:d}=r;return i=(s&&!d.getUTCMinutes()?s:o).format(d),a=e,l=t,i=i.replace(ec,""),"short"===a.timeZoneName&&(c=i,u="UTC"===n.timeZone||null==r.timeZoneOffset?"UTC":et(r.timeZoneOffset),h=!1,c=c.replace(eu,()=>(h=!0,u)),h||(c+=` ${u}`),i=c),l.omitCommas&&(i=i.replace(ea,"").trim()),l.omitZeroMinute&&(i=i.replace(":00","")),!1===l.meridiem?i=i.replace(eo,"").trim():"narrow"===l.meridiem?i=i.replace(eo,(e,t)=>t.toLocaleLowerCase()):"short"===l.meridiem?i=i.replace(eo,(e,t)=>`${t.toLocaleLowerCase()}m`):"lowercase"===l.meridiem&&(i=i.replace(eo,e=>e.toLocaleLowerCase())),i=(i=i.replace(el," ")).trim()}}(e,t,n)}function ef(e,t){let n=t.markerToArray(e.marker);return{marker:e.marker,timeZoneOffset:e.timeZoneOffset,array:n,year:n[0],month:n[1],day:n[2],hour:n[3],minute:n[4],second:n[5],millisecond:n[6]}}function ep(e,t,n,r){let i=ef(e,n.calendarSystem);return{date:i,start:i,end:t?ef(t,n.calendarSystem):null,timeZone:n.timeZone,localeCodes:n.locale.codes,defaultSeparator:r||n.defaultSeparator}}class eg{constructor(e){this.cmdStr=e}format(e,t,n){return t.cmdFormatter(this.cmdStr,ep(e,null,t,n))}formatRange(e,t,n,r){return n.cmdFormatter(this.cmdStr,ep(e,t,n,r))}}class ev{constructor(e){this.func=e}format(e,t,n){return this.func(ep(e,null,t,n))}formatRange(e,t,n,r){return this.func(ep(e,t,n,r))}}function em(e){return"object"==typeof e&&e?new eh(e):"string"==typeof e?new eg(e):"function"==typeof e?new ev(e):null}let ey={navLinkDayClick:eT,navLinkWeekClick:eT,duration:O,bootstrapFontAwesome:eT,buttonIcons:eT,customButtons:eT,defaultAllDayEventDuration:O,defaultTimedEventDuration:O,nextDayThreshold:O,scrollTime:O,scrollTimeReset:Boolean,slotMinTime:O,slotMaxTime:O,dayPopoverFormat:em,slotDuration:O,snapDuration:O,headerToolbar:eT,footerToolbar:eT,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:em,dayHeaderClassNames:eT,dayHeaderContent:eT,dayHeaderDidMount:eT,dayHeaderWillUnmount:eT,dayCellClassNames:eT,dayCellContent:eT,dayCellDidMount:eT,dayCellWillUnmount:eT,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:eT,weekNumbers:Boolean,weekNumberClassNames:eT,weekNumberContent:eT,weekNumberDidMount:eT,weekNumberWillUnmount:eT,editable:Boolean,viewClassNames:eT,viewDidMount:eT,viewWillUnmount:eT,nowIndicator:Boolean,nowIndicatorClassNames:eT,nowIndicatorContent:eT,nowIndicatorDidMount:eT,nowIndicatorWillUnmount:eT,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:eT,locale:eT,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:eT,eventOrder:function(e){let t,n,r=[],i=[];for("string"==typeof e?i=e.split(/\s*,\s*/):"function"==typeof e?i=[e]:Array.isArray(e)&&(i=e),t=0;t<i.length;t+=1)"string"==typeof(n=i[t])?r.push("-"===n.charAt(0)?{field:n.substring(1),order:-1}:{field:n,order:1}):"function"==typeof n&&r.push({func:n});return r},eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:eT,contentHeight:eT,direction:String,weekNumberFormat:em,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:eT,initialDate:eT,now:eT,eventDataTransform:eT,stickyHeaderDates:eT,stickyFooterScrollbar:eT,viewHeight:eT,defaultAllDay:Boolean,eventSourceFailure:eT,eventSourceSuccess:eT,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:eT,eventConstraint:eT,eventAllow:eT,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:eT,eventContent:eT,eventDidMount:eT,eventWillUnmount:eT,selectConstraint:eT,selectOverlap:eT,selectAllow:eT,droppable:Boolean,unselectCancel:String,slotLabelFormat:eT,slotLaneClassNames:eT,slotLaneContent:eT,slotLaneDidMount:eT,slotLaneWillUnmount:eT,slotLabelClassNames:eT,slotLabelContent:eT,slotLabelDidMount:eT,slotLabelWillUnmount:eT,dayMaxEvents:eT,dayMaxEventRows:eT,dayMinWidth:Number,slotLabelInterval:O,allDayText:String,allDayClassNames:eT,allDayContent:eT,allDayDidMount:eT,allDayWillUnmount:eT,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:em,rerenderDelay:Number,moreLinkText:eT,moreLinkHint:eT,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:eT,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:O,hiddenDays:eT,fixedWeekCount:Boolean,validRange:eT,visibleRange:eT,titleFormat:eT,eventInteractive:Boolean,noEventsText:String,viewHint:eT,navLinkHint:eT,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:eT,moreLinkClassNames:eT,moreLinkContent:eT,moreLinkDidMount:eT,moreLinkWillUnmount:eT,monthStartFormat:em,handleCustomRendering:eT,customRenderingMetaMap:eT},eb={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:"  ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"}},e_={datesSet:eT,eventsSet:eT,eventAdd:eT,eventChange:eT,eventRemove:eT,windowResize:eT,eventClick:eT,eventMouseEnter:eT,eventMouseLeave:eT,select:eT,unselect:eT,loading:eT,_unmount:eT,_beforeprint:eT,_afterprint:eT,_noEventDrop:eT,_noEventResize:eT,_resize:eT,_scrollRequest:eT},eE={buttonText:eT,buttonHints:eT,views:eT,plugins:eT,initialEvents:eT,events:eT,eventSources:eT},eA={headerToolbar:eS,footerToolbar:eS,buttonText:eS,buttonHints:eS,buttonIcons:eS,dateIncrement:eS,plugins:ew,events:ew,eventSources:ew,resources:ew};function eS(e,t){return"object"==typeof e&&"object"==typeof t&&e&&t?eP(e,t):e===t}function ew(e,t){return Array.isArray(e)&&Array.isArray(t)?z(e,t):e===t}let eC={type:String,component:eT,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:eT,usesMinMaxTime:Boolean,classNames:eT,content:eT,didMount:eT,willUnmount:eT};function ek(e){return eR(e,eA)}function eD(e,t){let n={},r={};for(let r in t)r in e&&(n[r]=t[r](e[r]));for(let n in e)n in t||(r[n]=e[n]);return{refined:n,extra:r}}function eT(e){return e}let{hasOwnProperty:ex}=Object.prototype;function eR(e,t){let n={};if(t){for(let r in t)if(t[r]===eS){let t=[];for(let i=e.length-1;i>=0;i-=1){let s=e[i][r];if("object"==typeof s&&s)t.unshift(s);else if(void 0!==s){n[r]=s;break}}t.length&&(n[r]=eR(t))}}for(let t=e.length-1;t>=0;t-=1){let r=e[t];for(let e in r)e in n||(n[e]=r[e])}return n}function eO(e,t){let n={};for(let r in e)t(e[r],r)&&(n[r]=e[r]);return n}function eM(e,t){let n={};for(let r in e)n[r]=t(e[r],r);return n}function eN(e){let t={};for(let n of e)t[n]=!0;return t}function eI(e){let t=[];for(let n in e)t.push(e[n]);return t}function eP(e,t){if(e===t)return!0;for(let n in e)if(ex.call(e,n)&&!(n in t))return!1;for(let n in t)if(ex.call(t,n)&&e[n]!==t[n])return!1;return!0}let eH=/^on[A-Z]/;function ez(e,t){let n=[];for(let r in e)!ex.call(e,r)||r in t||n.push(r);for(let r in t)ex.call(t,r)&&e[r]!==t[r]&&n.push(r);return n}function eU(e,t,n={}){if(e===t)return!0;for(let o in t){var r,i,s;if(!(o in e&&(r=e[o],i=t[o],s=n[o],r===i||!0===s||s&&s(r,i))))return!1}for(let n in e)if(!(n in t))return!1;return!0}let eB={};o=class{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return $(e)}markerToArray(e){return Z(e)}},eB.gregory=o;let eL=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;class ej{constructor(e){let t=this.timeZone=e.timeZone,n="local"!==t&&"UTC"!==t;e.namedTimeZoneImpl&&n&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(t)),this.canComputeOffset=!!(!n||this.namedTimeZoneImpl),this.calendarSystem=new eB[e.calendarSystem],this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,"ISO"===e.weekNumberCalculation&&(this.weekDow=1,this.weekDoy=4),"number"==typeof e.firstDay&&(this.weekDow=e.firstDay),"function"==typeof e.weekNumberCalculation&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=null!=e.weekText?e.weekText:e.locale.options.weekText,this.weekTextLong=(null!=e.weekTextLong?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let t=this.createMarkerMeta(e);return null===t?null:t.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):$(Y(new Date))}createMarkerMeta(e){if("string"==typeof e)return this.parse(e);let t=null;return("number"==typeof e?t=this.timestampToMarker(e):e instanceof Date?isNaN(e=e.valueOf())||(t=this.timestampToMarker(e)):Array.isArray(e)&&(t=$(e)),null!==t&&K(t))?{marker:t,isTimeUnspecified:!1,forcedTzo:null}:null}parse(e){let t=function(e){let t=eL.exec(e);if(t){let e=new Date(Date.UTC(Number(t[1]),t[3]?Number(t[3])-1:0,Number(t[5]||1),Number(t[7]||0),Number(t[8]||0),Number(t[10]||0),t[12]?1e3*Number(`0.${t[12]}`):0));if(K(e)){let n=null;return t[13]&&(n=("-"===t[15]?-1:1)*(60*Number(t[16]||0)+Number(t[18]||0))),{marker:e,isTimeUnspecified:!t[6],timeZoneOffset:n}}}return null}(e);if(null===t)return null;let{marker:n}=t,r=null;return null!==t.timeZoneOffset&&(this.canComputeOffset?n=this.timestampToMarker(n.valueOf()-6e4*t.timeZoneOffset):r=t.timeZoneOffset),{marker:n,isTimeUnspecified:t.isTimeUnspecified,forcedTzo:r}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,t){let n=this.calendarSystem.markerToArray(e);return n[0]+=t.years,n[1]+=t.months,n[2]+=t.days,n[6]+=t.milliseconds,this.calendarSystem.arrayToMarker(n)}subtract(e,t){let n=this.calendarSystem.markerToArray(e);return n[0]-=t.years,n[1]-=t.months,n[2]-=t.days,n[6]-=t.milliseconds,this.calendarSystem.arrayToMarker(n)}addYears(e,t){let n=this.calendarSystem.markerToArray(e);return n[0]+=t,this.calendarSystem.arrayToMarker(n)}addMonths(e,t){let n=this.calendarSystem.markerToArray(e);return n[1]+=t,this.calendarSystem.arrayToMarker(n)}diffWholeYears(e,t){let{calendarSystem:n}=this;return J(e)===J(t)&&n.getMarkerDay(e)===n.getMarkerDay(t)&&n.getMarkerMonth(e)===n.getMarkerMonth(t)?n.getMarkerYear(t)-n.getMarkerYear(e):null}diffWholeMonths(e,t){let{calendarSystem:n}=this;return J(e)===J(t)&&n.getMarkerDay(e)===n.getMarkerDay(t)?n.getMarkerMonth(t)-n.getMarkerMonth(e)+(n.getMarkerYear(t)-n.getMarkerYear(e))*12:null}greatestWholeUnit(e,t){let n,r=this.diffWholeYears(e,t);return null!==r?{unit:"year",value:r}:null!==(r=this.diffWholeMonths(e,t))?{unit:"month",value:r}:null!==(r=null!==(n=V(e,t))&&n%7==0?n/7:null)?{unit:"week",value:r}:null!==(r=V(e,t))?{unit:"day",value:r}:(r=(t.valueOf()-e.valueOf())/36e5)%1==0?{unit:"hour",value:r}:(r=(t.valueOf()-e.valueOf())/6e4)%1==0?{unit:"minute",value:r}:(r=(t.valueOf()-e.valueOf())/1e3)%1==0?{unit:"second",value:r}:{unit:"millisecond",value:t.valueOf()-e.valueOf()}}countDurationsBetween(e,t,n){let r;return n.years&&null!==(r=this.diffWholeYears(e,t))?r/(I(n)/365):n.months&&null!==(r=this.diffWholeMonths(e,t))?r/(I(n)/30):n.days&&null!==(r=V(e,t))?r/I(n):(t.valueOf()-e.valueOf())/P(n)}startOf(e,t){return"year"===t?this.startOfYear(e):"month"===t?this.startOfMonth(e):"week"===t?this.startOfWeek(e):"day"===t?q(e):"hour"===t?$([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours()]):"minute"===t?$([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes()]):"second"===t?$([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds()]):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):function(e,t,n){let r=e.getUTCFullYear(),i=G(e,r,t,n);if(i<1)return G(e,r-1,t,n);let s=G(e,r+1,t,n);return s>=1?Math.min(i,s):i}(e,this.weekDow,this.weekDoy)}format(e,t,n={}){return t.format({marker:e,timeZoneOffset:null!=n.forcedTzo?n.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,t,n,r={}){return r.isEndExclusive&&(t=j(t,-1)),n.formatRange({marker:e,timeZoneOffset:null!=r.forcedStartTzo?r.forcedStartTzo:this.offsetForMarker(e)},{marker:t,timeZoneOffset:null!=r.forcedEndTzo?r.forcedEndTzo:this.offsetForMarker(t)},this,r.defaultSeparator)}formatIso(e,t={}){let n=null;return t.omitTimeZoneOffset||(n=null!=t.forcedTzo?t.forcedTzo:this.offsetForMarker(e)),function(e,t,n=!1){let r=e.toISOString();return r=r.replace(".000",""),n&&(r=r.replace("T00:00:00Z","")),r.length>10&&(null==t?r=r.replace("Z",""):0!==t&&(r=r.replace("Z",et(t,!0)))),r}(e,n,t.omitTime)}timestampToMarker(e){return"local"===this.timeZone?$(Y(new Date(e))):"UTC"!==this.timeZone&&this.namedTimeZoneImpl?$(this.namedTimeZoneImpl.timestampToArray(e)):new Date(e)}offsetForMarker(e){return"local"===this.timeZone?-Q(Z(e)).getTimezoneOffset():"UTC"===this.timeZone?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(Z(e)):null}toDate(e,t){return"local"===this.timeZone?Q(Z(e)):new Date("UTC"===this.timeZone?e.valueOf():this.namedTimeZoneImpl?e.valueOf()-6e4*this.namedTimeZoneImpl.offsetForArray(Z(e)):e.valueOf()-(t||0))}}class eF{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let t,n;if("object"==typeof e&&e){for(n in t=Object.assign({},this.iconClasses),e)t[n]=this.applyIconOverridePrefix(e[n]);this.iconClasses=t}else!1===e&&(this.iconClasses={})}applyIconOverridePrefix(e){let t=this.iconOverridePrefix;return t&&0!==e.indexOf(t)&&(e=t+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,t){let n;return(n=t&&this.rtlIconClasses&&this.rtlIconClasses[e]||this.iconClasses[e])?`${this.baseIconClass} ${n}`:""}getCustomButtonIconClass(e){let t;return this.iconOverrideCustomButtonOption&&(t=e[this.iconOverrideCustomButtonOption])?`${this.baseIconClass} ${this.applyIconOverridePrefix(t)}`:""}}function eW(e){e();let t=a.YM.debounceRendering,n=[];for(a.YM.debounceRendering=function(e){n.push(e)},a.sY(a.az(eV,{}),document.createElement("div"));n.length;)n.shift()();a.YM.debounceRendering=t}eF.prototype.classes={},eF.prototype.iconClasses={},eF.prototype.baseIconClass="",eF.prototype.iconOverridePrefix="";class eV extends a.wA{render(){return a.az("div",{})}componentDidMount(){this.setState({})}}function eq(e){let t=a.kr(e),n=t.Provider;return t.Provider=function(){let e=!this.getChildContext,t=n.apply(this,arguments);if(e){let e=[];this.shouldComponentUpdate=t=>{this.props.value!==t.value&&e.forEach(e=>{e.context=t.value,e.forceUpdate()})},this.sub=t=>{e.push(t);let n=t.componentWillUnmount;t.componentWillUnmount=()=>{e.splice(e.indexOf(t),1),n&&n.call(t)}}}return t},t}class eG{constructor(e,t,n,r){this.execFunc=e,this.emitter=t,this.scrollTime=n,this.scrollTimeReset=r,this.handleScrollRequest=e=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},e),this.drain()},t.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}let eY=eq({});function eQ(e,t,n,r,i,s,o,a,l,c,u,h,d){return{dateEnv:i,options:n,pluginHooks:o,emitter:c,dispatch:a,getCurrentData:l,calendarApi:u,viewSpec:e,viewApi:t,dateProfileGenerator:r,theme:s,isRtl:"rtl"===n.direction,addResizeHandler(e){c.on("_resize",e)},removeResizeHandler(e){c.off("_resize",e)},createScrollResponder:e=>new eG(e,c,O(n.scrollTime),n.scrollTimeReset),registerInteractiveComponent:h,unregisterInteractiveComponent:d}}class eZ extends a.wA{shouldComponentUpdate(e,t){return this.debug&&console.log(ez(e,this.props),ez(t,this.state)),!eU(this.props,e,this.propEquality)||!eU(this.state,t,this.stateEquality)}safeSetState(e){eU(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}eZ.addPropsEquality=function(e){let t=Object.create(this.prototype.propEquality);Object.assign(t,e),this.prototype.propEquality=t},eZ.addStateEquality=function(e){let t=Object.create(this.prototype.stateEquality);Object.assign(t,e),this.prototype.stateEquality=t},eZ.contextType=eY,eZ.prototype.propEquality={},eZ.prototype.stateEquality={};class e$ extends eZ{}function eK(e,t){"function"==typeof e?e(t):e&&(e.current=t)}e$.contextType=eY;class eJ extends e${constructor(){super(...arguments),this.id=D(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{eX(this.props.generatorName,this.context.options)||this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&eK(this.props.elRef,e)}}render(){let e,t;let{props:n,context:r}=this,{options:i}=r,{customGenerator:s,defaultGenerator:o,renderProps:l}=n,c=e0(n,[],this.handleEl),u=!1,h=[];if(null!=s){let n="function"==typeof s?s(l,a.az):s;if(!0===n)u=!0;else{let r=n&&"object"==typeof n;r&&"html"in n?c.dangerouslySetInnerHTML={__html:n.html}:r&&"domNodes"in n?h=Array.prototype.slice.call(n.domNodes):(r?(0,a.l$)(n):"function"!=typeof n)?e=n:t=n}}else u=!eX(n.generatorName,i);return u&&o&&(e=o(l)),this.queuedDomNodes=h,this.currentGeneratorMeta=t,(0,a.az)(n.elTag,c,e)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var t;let{props:n,context:r}=this,{handleCustomRendering:i,customRenderingMetaMap:s}=r.options;if(i){let r=null!==(t=this.currentGeneratorMeta)&&void 0!==t?t:null==s?void 0:s[n.generatorName];r&&i(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:r},n),{elClasses:(n.elClasses||[]).filter(e1)}))}}applyQueueudDomNodes(){let{queuedDomNodes:e,currentDomNodes:t}=this,n=this.base;if(!z(e,t)){for(let r of(t.forEach(v),e))n.appendChild(r);this.currentDomNodes=e}}}function eX(e,t){var n;return!!(t.handleCustomRendering&&e&&(null===(n=t.customRenderingMetaMap)||void 0===n?void 0:n[e]))}function e0(e,t,n){let r=Object.assign(Object.assign({},e.elAttrs),{ref:n});return(e.elClasses||t)&&(r.className=(e.elClasses||[]).concat(t||[]).concat(r.className||[]).filter(Boolean).join(" ")),e.elStyle&&(r.style=e.elStyle),r}function e1(e){return!!e}eJ.addPropsEquality({elClasses:z,elStyle:eP,elAttrs:function(e,t){let n=ez(e,t);for(let e of n)if(!eH.test(e))return!1;return!0},renderProps:eP});let e5=eq(0);class e2 extends a.wA{constructor(){super(...arguments),this.InnerContent=e6.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&eK(this.props.elRef,e)}}render(){let{props:e}=this,t=function(e,t){let n="function"==typeof e?e(t):e||[];return"string"==typeof n?[n]:n}(e.classNameGenerator,e.renderProps);if(!e.children)return(0,a.az)(eJ,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(t),renderId:this.context}));{let n=e0(e,t,this.handleEl),r=e.children(this.InnerContent,e.renderProps,n);return e.elTag?(0,a.az)(e.elTag,n,r):r}}componentDidMount(){var e,t;null===(t=(e=this.props).didMount)||void 0===t||t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}componentWillUnmount(){var e,t;null===(t=(e=this.props).willUnmount)||void 0===t||t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}function e6(e,t){let n=e.props;return(0,a.az)(eJ,Object.assign({renderProps:n.renderProps,generatorName:n.generatorName,customGenerator:n.customGenerator,defaultGenerator:n.defaultGenerator,renderId:e.context},t))}e2.contextType=e5;class e3 extends e${render(){let{props:e,context:t}=this,{options:n}=t,r={view:t.viewApi};return(0,a.az)(e2,Object.assign({},e,{elTag:e.elTag||"div",elClasses:[...e4(e.viewSpec),...e.elClasses||[]],renderProps:r,classNameGenerator:n.viewClassNames,generatorName:void 0,didMount:n.viewDidMount,willUnmount:n.viewWillUnmount}),()=>e.children)}}function e4(e){return[`fc-${e.type}-view`,"fc-view"]}function e8(e,t){let n,r,i=[],{start:s}=t;for(e.sort(e9),n=0;n<e.length;n+=1)(r=e[n]).start>s&&i.push({start:s,end:r.start}),r.end>s&&(s=r.end);return s<t.end&&i.push({start:s,end:t.end}),i}function e9(e,t){return e.start.valueOf()-t.start.valueOf()}function e7(e,t){let{start:n,end:r}=e,i=null;return null!==t.start&&(n=null===n?t.start:new Date(Math.max(n.valueOf(),t.start.valueOf()))),null!=t.end&&(r=null===r?t.end:new Date(Math.min(r.valueOf(),t.end.valueOf()))),(null===n||null===r||n<r)&&(i={start:n,end:r}),i}function te(e,t){return(null===e.start||t>=e.start)&&(null===e.end||t<e.end)}function tt(e){let t=Math.floor(W(e.start,e.end))||1,n=q(e.start);return{start:n,end:L(n,t)}}function tn(e,t=O(0)){let n=null,r=null;if(e.end){r=q(e.end);let n=e.end.valueOf()-r.valueOf();n&&n>=P(t)&&(r=L(r,1))}return e.start&&(n=q(e.start),r&&r<=n&&(r=L(n,1))),{start:n,end:r}}function tr(e,t,n,r){let i,s;return"year"===r?O(n.diffWholeYears(e,t),"year"):"month"===r?O(n.diffWholeMonths(e,t),"month"):{years:0,months:0,days:Math.round(W(i=q(e),s=q(t))),milliseconds:t.valueOf()-s.valueOf()-(e.valueOf()-i.valueOf())}}function ti(e,t){return"CHANGE_DATE"===t.type?t.dateMarker:e}function ts(e,t){let n=e.initialDate;return null!=n?t.createMarker(n):to(e.now,t)}function to(e,t){return("function"==typeof e&&(e=e()),null==e)?t.createNowMarker():t.createMarker(e)}class ta{constructor(e){this.props=e,this.nowDate=to(e.nowInput,e.dateEnv),this.initHiddenDays()}buildPrev(e,t,n){let{dateEnv:r}=this.props,i=r.subtract(r.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(i,-1,n)}buildNext(e,t,n){let{dateEnv:r}=this.props,i=r.add(r.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(i,1,n)}build(e,t,n=!0){var r,i,s,o;let a,l,c,u,h,d,{props:f}=this;if(a=this.buildValidRange(),a=this.trimHiddenDays(a),n){r=e,e=null!=(i=a).start&&r<i.start?i.start:null!=i.end&&r>=i.end?new Date(i.end.valueOf()-1):r}return l=this.buildCurrentRangeInfo(e,t),c=/^(year|month|week|day)$/.test(l.unit),u=this.buildRenderRange(this.trimHiddenDays(l.range),l.unit,c),h=u=this.trimHiddenDays(u),f.showNonCurrentDates||(h=e7(h,l.range)),h=e7(h=this.adjustActiveRange(h),a),s=l.range,o=a,d=(null===s.end||null===o.start||s.end>o.start)&&(null===s.start||null===o.end||s.start<o.end),te(u,e)||(e=u.start),{currentDate:e,validRange:a,currentRange:l.range,currentRangeUnit:l.unit,isRangeAllDay:c,activeRange:h,renderRange:u,slotMinTime:f.slotMinTime,slotMaxTime:f.slotMaxTime,isValid:d,dateIncrement:this.buildDateIncrement(l.duration)}}buildValidRange(){let e=this.props.validRangeInput,t="function"==typeof e?e.call(this.props.calendarApi,this.nowDate):e;return this.refineRange(t)||{start:null,end:null}}buildCurrentRangeInfo(e,t){let n,{props:r}=this,i=null,s=null,o=null;return r.duration?(i=r.duration,s=r.durationUnit,o=this.buildRangeFromDuration(e,t,i,s)):(n=this.props.dayCount)?(s="day",o=this.buildRangeFromDayCount(e,t,n)):(o=this.buildCustomVisibleRange(e))?s=r.dateEnv.greatestWholeUnit(o.start,o.end).unit:(s=H(i=this.getFallbackDuration()).unit,o=this.buildRangeFromDuration(e,t,i,s)),{duration:i,unit:s,range:o}}getFallbackDuration(){return O({day:1})}adjustActiveRange(e){let{dateEnv:t,usesMinMaxTime:n,slotMinTime:r,slotMaxTime:i}=this.props,{start:s,end:o}=e;return n&&(0>I(r)&&(s=q(s),s=t.add(s,r)),I(i)>1&&(o=L(o=q(o),-1),o=t.add(o,i))),{start:s,end:o}}buildRangeFromDuration(e,t,n,r){let i,s,{dateEnv:o,dateAlignment:a}=this.props;if(!a){let{dateIncrement:e}=this.props;a=e&&P(e)<P(n)?H(e).unit:r}function l(){s={start:i=o.startOf(e,a),end:o.add(i,n)}}return 1>=I(n)&&this.isHiddenDay(i)&&(i=q(i=this.skipHiddenDays(i,t))),l(),this.trimHiddenDays(s)||(e=this.skipHiddenDays(e,t),l()),s}buildRangeFromDayCount(e,t,n){let r,{dateEnv:i,dateAlignment:s}=this.props,o=0,a=e;s&&(a=i.startOf(a,s)),a=q(a),r=a=this.skipHiddenDays(a,t);do r=L(r,1),this.isHiddenDay(r)||(o+=1);while(o<n);return{start:a,end:r}}buildCustomVisibleRange(e){let{props:t}=this,n=t.visibleRangeInput,r="function"==typeof n?n.call(t.calendarApi,t.dateEnv.toDate(e)):n,i=this.refineRange(r);return i&&(null==i.start||null==i.end)?null:i}buildRenderRange(e,t,n){return e}buildDateIncrement(e){let t,{dateIncrement:n}=this.props;return n||((t=this.props.dateAlignment)?O(1,t):e||O({days:1}))}refineRange(e){if(e){var t;let n,r;let i=(t=this.props.dateEnv,n=null,r=null,(e.start&&(n=t.createMarker(e.start)),e.end&&(r=t.createMarker(e.end)),!n&&!r||n&&r&&r<n)?null:{start:n,end:r});return i&&(i=tn(i)),i}return null}initHiddenDays(){let e,t=this.props.hiddenDays||[],n=[],r=0;for(!1===this.props.weekends&&t.push(0,6),e=0;e<7;e+=1)(n[e]=-1!==t.indexOf(e))||(r+=1);if(!r)throw Error("invalid hiddenDays");this.isHiddenDayHash=n}trimHiddenDays(e){let{start:t,end:n}=e;return(t&&(t=this.skipHiddenDays(t)),n&&(n=this.skipHiddenDays(n,-1,!0)),null==t||null==n||t<n)?{start:t,end:n}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,t=1,n=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(n?t:0)+7)%7];)e=L(e,t);return e}}function tl(e,t,n,r){return{instanceId:D(),defId:e,range:t,forcedStartTzo:null==n?null:n,forcedEndTzo:null==r?null:r}}function tc(e,t,n){let{dateEnv:r,pluginHooks:i,options:s}=n,{defs:o,instances:a}=e;for(let e in a=eO(a,e=>!o[e.defId].recurringDef),o){let n=o[e];if(n.recurringDef){let{duration:o}=n.recurringDef;for(let l of(o||(o=n.allDay?s.defaultAllDayEventDuration:s.defaultTimedEventDuration),function(e,t,n,r,i){let s=i[e.recurringDef.typeId].expand(e.recurringDef.typeData,{start:r.subtract(n.start,t),end:n.end},r);return e.allDay&&(s=s.map(q)),s}(n,o,t,r,i.recurringTypes))){let t=tl(e,{start:l,end:r.add(l,o)});a[t.instanceId]=t}}}return{defs:o,instances:a}}let tu={id:String,groupId:String,title:String,url:String,interactive:Boolean},th={start:eT,end:eT,date:eT,allDay:Boolean},td=Object.assign(Object.assign(Object.assign({},tu),th),{extendedProps:eT});function tf(e,t,n,r,i=tg(n),s,o){let a;let{refined:l,extra:c}=tp(e,n,i),u=(a=null,t&&(a=t.defaultAllDay),null==a&&(a=n.options.defaultAllDay),a),h=function(e,t,n,r){for(let i=0;i<r.length;i+=1){let s=r[i].parse(e,n);if(s){let{allDay:n}=e;return null==n&&null==(n=t)&&null==(n=s.allDayGuess)&&(n=!1),{allDay:n,duration:s.duration,typeData:s.typeData,typeId:i}}}return null}(l,u,n.dateEnv,n.pluginHooks.recurringTypes);if(h){let e=tv(l,c,t?t.sourceId:"",h.allDay,!!h.duration,n,s);return e.recurringDef={typeId:h.typeId,typeData:h.typeData,duration:h.duration},{def:e,instance:null}}let d=function(e,t,n,r){let i,s,{allDay:o}=e,a=null,l=!1,c=null,u=null!=e.start?e.start:e.date;if(i=n.dateEnv.createMarkerMeta(u))a=i.marker;else if(!r)return null;return null!=e.end&&(s=n.dateEnv.createMarkerMeta(e.end)),null==o&&(o=null!=t?t:(!i||i.isTimeUnspecified)&&(!s||s.isTimeUnspecified)),o&&a&&(a=q(a)),s&&(c=s.marker,o&&(c=q(c)),a&&c<=a&&(c=null)),c?l=!0:r||(l=n.options.forceEventDuration||!1,c=n.dateEnv.add(a,o?n.options.defaultAllDayEventDuration:n.options.defaultTimedEventDuration)),{allDay:o,hasEnd:l,range:{start:a,end:c},forcedStartTzo:i?i.forcedTzo:null,forcedEndTzo:s?s.forcedTzo:null}}(l,u,n,r);if(d){let e=tv(l,c,t?t.sourceId:"",d.allDay,d.hasEnd,n,s),r=tl(e.defId,d.range,d.forcedStartTzo,d.forcedEndTzo);return o&&e.publicId&&o[e.publicId]&&(r.instanceId=o[e.publicId]),{def:e,instance:r}}return null}function tp(e,t,n=tg(t)){return eD(e,n)}function tg(e){return Object.assign(Object.assign(Object.assign({},tS),td),e.pluginHooks.eventRefiners)}function tv(e,t,n,r,i,s,o){let a={title:e.title||"",groupId:e.groupId||"",publicId:e.id||"",url:e.url||"",recurringDef:null,defId:(o&&e.id?o[e.id]:"")||D(),sourceId:n,allDay:r,hasEnd:i,interactive:e.interactive,ui:tC(e,s),extendedProps:Object.assign(Object.assign({},e.extendedProps||{}),t)};for(let t of s.pluginHooks.eventDefMemberAdders)Object.assign(a,t(e));return Object.freeze(a.ui.classNames),Object.freeze(a.extendedProps),a}function tm(e,t,n,r,i,s){let o=tb(),a=tg(n);for(let l of e){let e=tf(l,t,n,r,a,i,s);e&&ty(e,o)}return o}function ty(e,t=tb()){return t.defs[e.def.defId]=e.def,e.instance&&(t.instances[e.instance.instanceId]=e.instance),t}function tb(){return{defs:{},instances:{}}}function t_(e,t){return{defs:Object.assign(Object.assign({},e.defs),t.defs),instances:Object.assign(Object.assign({},e.instances),t.instances)}}function tE(e,t){let n=eO(e.defs,t);return{defs:n,instances:eO(e.instances,e=>n[e.defId])}}function tA(e){return Array.isArray(e)?e:"string"==typeof e?e.split(/\s+/):[]}let tS={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:eT,overlap:eT,allow:eT,className:tA,classNames:tA,color:String,backgroundColor:String,borderColor:String,textColor:String},tw={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function tC(e,t){var n;let r=Array.isArray(n=e.constraint)?tm(n,null,t,!0):"object"==typeof n&&n?tm([n],null,t,!0):null!=n?String(n):null;return{display:e.display||null,startEditable:null!=e.startEditable?e.startEditable:e.editable,durationEditable:null!=e.durationEditable?e.durationEditable:e.editable,constraints:null!=r?[r]:[],overlap:null!=e.overlap?e.overlap:null,allows:null!=e.allow?[e.allow]:[],backgroundColor:e.backgroundColor||e.color||"",borderColor:e.borderColor||e.color||"",textColor:e.textColor||"",classNames:(e.className||[]).concat(e.classNames||[])}}function tk(e,t){return{display:null!=t.display?t.display:e.display,startEditable:null!=t.startEditable?t.startEditable:e.startEditable,durationEditable:null!=t.durationEditable?t.durationEditable:e.durationEditable,constraints:e.constraints.concat(t.constraints),overlap:"boolean"==typeof t.overlap?t.overlap:e.overlap,allows:e.allows.concat(t.allows),backgroundColor:t.backgroundColor||e.backgroundColor,borderColor:t.borderColor||e.borderColor,textColor:t.textColor||e.textColor,classNames:e.classNames.concat(t.classNames)}}let tD={id:String,defaultAllDay:Boolean,url:String,format:String,events:eT,eventDataTransform:eT,success:eT,failure:eT};function tT(e,t,n=tx(t)){let r;if("string"==typeof e?r={url:e}:"function"==typeof e||Array.isArray(e)?r={events:e}:"object"==typeof e&&e&&(r=e),r){let{refined:i,extra:s}=eD(r,n),o=function(e,t){let n=t.pluginHooks.eventSourceDefs;for(let t=n.length-1;t>=0;t-=1){let r=n[t].parseMeta(e);if(r)return{sourceDefId:t,meta:r}}return null}(i,t);if(o)return{_raw:e,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:i.defaultAllDay,eventDataTransform:i.eventDataTransform,success:i.success,failure:i.failure,publicId:i.id||"",sourceId:D(),sourceDefId:o.sourceDefId,meta:o.meta,ui:tC(i,t),extendedProps:s}}return null}function tx(e){return Object.assign(Object.assign(Object.assign({},tS),tD),e.pluginHooks.eventSourceRefiners)}function tR(e,t,n,r,i){switch(t.type){case"RECEIVE_EVENTS":return function(e,t,n,r,i,s){if(t&&n===t.latestFetchId){let n=tm(tO(i,t,s),t,s);return r&&(n=tc(n,r,s)),t_(tI(e,t.sourceId),n)}return e}(e,n[t.sourceId],t.fetchId,t.fetchRange,t.rawEvents,i);case"RESET_RAW_EVENTS":return function(e,t,n,r,i){let{defIdMap:s,instanceIdMap:o}=function(e){let{defs:t,instances:n}=e,r={},i={};for(let e in t){let n=t[e],{publicId:i}=n;i&&(r[i]=e)}for(let e in n){let r=n[e],s=t[r.defId],{publicId:o}=s;o&&(i[o]=e)}return{defIdMap:r,instanceIdMap:i}}(e);return tc(tm(tO(n,t,i),t,i,!1,s,o),r,i)}(e,n[t.sourceId],t.rawEvents,r.activeRange,i);case"ADD_EVENTS":var s,o;return s=t.eventStore,(o=r?r.activeRange:null)&&(s=tc(s,o,i)),t_(e,s);case"RESET_EVENTS":return t.eventStore;case"MERGE_EVENTS":return t_(e,t.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":if(r)return tc(e,r.activeRange,i);return e;case"REMOVE_EVENTS":return function(e,t){let{defs:n,instances:r}=e,i={},s={};for(let e in n)t.defs[e]||(i[e]=n[e]);for(let e in r)!t.instances[e]&&i[r[e].defId]&&(s[e]=r[e]);return{defs:i,instances:s}}(e,t.eventStore);case"REMOVE_EVENT_SOURCE":return tI(e,t.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return tE(e,e=>!e.sourceId);case"REMOVE_ALL_EVENTS":return tb();default:return e}}function tO(e,t,n){let r=n.options.eventDataTransform,i=t?t.eventDataTransform:null;return i&&(e=tM(e,i)),r&&(e=tM(e,r)),e}function tM(e,t){let n;if(t)for(let r of(n=[],e)){let e=t(r);e?n.push(e):null==e&&n.push(r)}else n=e;return n}function tN(e,t,n){let{defs:r}=e;return{defs:r,instances:eM(e.instances,e=>r[e.defId].allDay?e:Object.assign(Object.assign({},e),{range:{start:n.createMarker(t.toDate(e.range.start,e.forcedStartTzo)),end:n.createMarker(t.toDate(e.range.end,e.forcedEndTzo))},forcedStartTzo:n.canComputeOffset?null:e.forcedStartTzo,forcedEndTzo:n.canComputeOffset?null:e.forcedEndTzo}))}}function tI(e,t){return tE(e,e=>e.sourceId!==t)}class tP{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,t){(function(e,t,n){(e[t]||(e[t]=[])).push(n)})(this.handlers,e,t)}off(e,t){var n;n=this.handlers,t?n[e]&&(n[e]=n[e].filter(e=>e!==t)):delete n[e]}trigger(e,...t){let n=this.handlers[e]||[];for(let r of[].concat(this.options&&this.options[e]||[],n))r.apply(this.thisContext,t)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}let tH={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function tz(e,t){return tm((!0===e?[{}]:Array.isArray(e)?e.filter(e=>e.daysOfWeek):"object"==typeof e&&e?[e]:[]).map(e=>Object.assign(Object.assign({},tH),e)),null,t)}function tU(e,t,n){let{dateEnv:r,options:i}=n,s=t;return e?(s=q(s),s=r.add(s,i.defaultAllDayEventDuration)):s=r.add(s,i.defaultTimedEventDuration),s}class tB{constructor(e,t){this.context=e,this.internalEventSource=t}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class tL{constructor(e,t,n){this._context=e,this._def=t,this._instance=n||null}setProp(e,t){if(e in th)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if("id"===e)t=tu[e](t),this.mutate({standardProps:{publicId:t}});else if(e in tu)t=tu[e](t),this.mutate({standardProps:{[e]:t}});else if(e in tS){let n=tS[e](t);n="color"===e?{backgroundColor:t,borderColor:t}:"editable"===e?{startEditable:t,durationEditable:t}:{[e]:t},this.mutate({standardProps:{ui:n}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,t){this.mutate({extendedProps:{[e]:t}})}setStart(e,t={}){let{dateEnv:n}=this._context,r=n.createMarker(e);if(r&&this._instance){let e=tr(this._instance.range.start,r,n,t.granularity);t.maintainDuration?this.mutate({datesDelta:e}):this.mutate({startDelta:e})}}setEnd(e,t={}){let n,{dateEnv:r}=this._context;if((null==e||(n=r.createMarker(e)))&&this._instance){if(n){let e=tr(this._instance.range.end,n,r,t.granularity);this.mutate({endDelta:e})}else this.mutate({standardProps:{hasEnd:!1}})}}setDates(e,t,n={}){let r,{dateEnv:i}=this._context,s={allDay:n.allDay},o=i.createMarker(e);if(o&&(null==t||(r=i.createMarker(t)))&&this._instance){let e=this._instance.range;!0===n.allDay&&(e=tt(e));let t=tr(e.start,o,i,n.granularity);if(r){let o=tr(e.end,r,i,n.granularity);t.years===o.years&&t.months===o.months&&t.days===o.days&&t.milliseconds===o.milliseconds?this.mutate({datesDelta:t,standardProps:s}):this.mutate({startDelta:t,endDelta:o,standardProps:s})}else s.hasEnd=!1,this.mutate({datesDelta:t,standardProps:s})}}moveStart(e){let t=O(e);t&&this.mutate({startDelta:t})}moveEnd(e){let t=O(e);t&&this.mutate({endDelta:t})}moveDates(e){let t=O(e);t&&this.mutate({datesDelta:t})}setAllDay(e,t={}){let n={allDay:e},{maintainDuration:r}=t;null==r&&(r=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(n.hasEnd=r),this.mutate({standardProps:n})}formatRange(e){let{dateEnv:t}=this._context,n=this._instance,r=em(e);return this._def.hasEnd?t.formatRange(n.range.start,n.range.end,r,{forcedStartTzo:n.forcedStartTzo,forcedEndTzo:n.forcedEndTzo}):t.format(n.range.start,r,{forcedTzo:n.forcedStartTzo})}mutate(e){let t=this._instance;if(t){let n=this._def,r=this._context,{eventStore:i}=r.getCurrentData(),s=function(e,t){let n=e.instances[t];if(n){let t=e.defs[n.defId],r=tE(e,e=>!!(t.groupId&&t.groupId===e.groupId));return r.defs[t.defId]=t,r.instances[n.instanceId]=n,r}return tb()}(i,t.instanceId);s=function(e,t,n,r){let i=tq(e.defs,t),s=tb();for(let t in e.defs){let o=e.defs[t];s.defs[t]=function(e,t,n,r){let i=n.standardProps||{};null==i.hasEnd&&t.durationEditable&&(n.startDelta||n.endDelta)&&(i.hasEnd=!0);let s=Object.assign(Object.assign(Object.assign({},e),i),{ui:Object.assign(Object.assign({},e.ui),i.ui)});for(let e of(n.extendedProps&&(s.extendedProps=Object.assign(Object.assign({},s.extendedProps),n.extendedProps)),r.pluginHooks.eventDefMutationAppliers))e(s,n,r);return!s.hasEnd&&r.options.forceEventDuration&&(s.hasEnd=!0),s}(o,i[t],n,r)}for(let t in e.instances){let o=e.instances[t],a=s.defs[o.defId];s.instances[t]=function(e,t,n,r,i){let{dateEnv:s}=i,o=r.standardProps&&!0===r.standardProps.allDay,a=r.standardProps&&!1===r.standardProps.hasEnd,l=Object.assign({},e);return o&&(l.range=tt(l.range)),r.datesDelta&&n.startEditable&&(l.range={start:s.add(l.range.start,r.datesDelta),end:s.add(l.range.end,r.datesDelta)}),r.startDelta&&n.durationEditable&&(l.range={start:s.add(l.range.start,r.startDelta),end:l.range.end}),r.endDelta&&n.durationEditable&&(l.range={start:l.range.start,end:s.add(l.range.end,r.endDelta)}),a&&(l.range={start:l.range.start,end:tU(t.allDay,l.range.start,i)}),t.allDay&&(l.range={start:q(l.range.start),end:q(l.range.end)}),l.range.end<l.range.start&&(l.range.end=tU(t.allDay,l.range.start,i)),l}(o,a,i[o.defId],n,r)}return s}(s,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,r);let o=new tL(r,n,t);this._def=s.defs[n.defId],this._instance=s.instances[t.instanceId],r.dispatch({type:"MERGE_EVENTS",eventStore:s}),r.emitter.trigger("eventChange",{oldEvent:o,event:this,relatedEvents:tF(s,r,t),revert(){r.dispatch({type:"RESET_EVENTS",eventStore:i})}})}}remove(){let e=this._context,t=tj(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:t}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:t})}})}get source(){let{sourceId:e}=this._def;return e?new tB(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let t=this._def,{ui:n}=t,{startStr:r,endStr:i}=this,s={allDay:t.allDay};return t.title&&(s.title=t.title),r&&(s.start=r),i&&(s.end=i),t.publicId&&(s.id=t.publicId),t.groupId&&(s.groupId=t.groupId),t.url&&(s.url=t.url),n.display&&"auto"!==n.display&&(s.display=n.display),e.collapseColor&&n.backgroundColor&&n.backgroundColor===n.borderColor?s.color=n.backgroundColor:(n.backgroundColor&&(s.backgroundColor=n.backgroundColor),n.borderColor&&(s.borderColor=n.borderColor)),n.textColor&&(s.textColor=n.textColor),n.classNames.length&&(s.classNames=n.classNames),Object.keys(t.extendedProps).length&&(e.collapseExtendedProps?Object.assign(s,t.extendedProps):s.extendedProps=t.extendedProps),s}toJSON(){return this.toPlainObject()}}function tj(e){let t=e._def,n=e._instance;return{defs:{[t.defId]:t},instances:n?{[n.instanceId]:n}:{}}}function tF(e,t,n){let{defs:r,instances:i}=e,s=[],o=n?n.instanceId:"";for(let e in i){let n=i[e],a=r[n.defId];n.instanceId!==o&&s.push(new tL(t,a,n))}return s}function tW(e,t,n,r){let i={},s={},o={},a=[],l=[],c=tq(e.defs,t);for(let t in e.defs){let n=e.defs[t];"inverse-background"!==c[n.defId].display||(n.groupId?(i[n.groupId]=[],o[n.groupId]||(o[n.groupId]=n)):s[t]=[])}for(let t in e.instances){let o=e.instances[t],u=e.defs[o.defId],h=c[u.defId],d=o.range,f=!u.allDay&&r?tn(d,r):d,p=e7(f,n);p&&("inverse-background"===h.display?u.groupId?i[u.groupId].push(p):s[o.defId].push(p):"none"!==h.display&&("background"===h.display?a:l).push({def:u,ui:h,instance:o,range:p,isStart:f.start&&f.start.valueOf()===p.start.valueOf(),isEnd:f.end&&f.end.valueOf()===p.end.valueOf()}))}for(let e in i)for(let t of e8(i[e],n)){let n=o[e],r=c[n.defId];a.push({def:n,ui:r,instance:null,range:t,isStart:!1,isEnd:!1})}for(let t in s)for(let r of e8(s[t],n))a.push({def:e.defs[t],ui:c[t],instance:null,range:r,isStart:!1,isEnd:!1});return{bg:a,fg:l}}function tV(e){return e.fcSeg||e.parentNode.fcSeg||null}function tq(e,t){return eM(e,e=>tG(e,t))}function tG(e,t){let n=[];return t[""]&&n.push(t[""]),t[e.defId]&&n.push(t[e.defId]),n.push(e.ui),n.reduce(tk,tw)}function tY(e,t){let n=e.map(tQ);return n.sort((e,n)=>(function(e,t,n){let r,i;for(r=0;r<n.length;r+=1)if(i=function(e,t,n){var r,i;return n.func?n.func(e,t):(r=e[n.field],i=t[n.field],(r||i?null==i?-1:null==r?1:"string"==typeof r||"string"==typeof i?String(r).localeCompare(String(i)):r-i:0)*(n.order||1))}(e,t,n[r]))return i;return 0})(e,n,t)),n.map(e=>e._seg)}function tQ(e){let{eventRange:t}=e,n=t.def,r=t.instance?t.instance.range:t.range,i=r.start?r.start.valueOf():0,s=r.end?r.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},n.extendedProps),n),{id:n.publicId,start:i,end:s,duration:s-i,allDay:Number(n.allDay),_seg:e})}function tZ(e,t,n,r,i,s,o){let{dateEnv:a,options:l}=n,{displayEventTime:c,displayEventEnd:u}=l,h=e.eventRange.def,d=e.eventRange.instance;null==c&&(c=!1!==r),null==u&&(u=!1!==i);let f=d.range.start,p=d.range.end,g=s||e.start||e.eventRange.range.start,v=o||e.end||e.eventRange.range.end,m=q(f).valueOf()===q(g).valueOf(),y=q(j(p,-1)).valueOf()===q(j(v,-1)).valueOf();return c&&!h.allDay&&(m||y)?(g=m?f:g,v=y?p:v,u&&h.hasEnd)?a.formatRange(g,v,t,{forcedStartTzo:s?null:d.forcedStartTzo,forcedEndTzo:o?null:d.forcedEndTzo}):a.format(g,t,{forcedTzo:s?null:d.forcedStartTzo}):""}function t$(e,t,n){let r=e.eventRange.range;return{isPast:r.end<(n||t.start),isFuture:r.start>=(n||t.end),isToday:t&&te(t,r.start)}}function tK(e){return e.instance?e.instance.instanceId:`${e.def.defId}:${e.range.start.toISOString()}`}function tJ(e,t){let{def:n,instance:r}=e.eventRange,{url:i}=n;if(i)return{href:i};let{emitter:s,options:o}=t,{eventInteractive:a}=o;return(null==a&&null==(a=n.interactive)&&(a=!!s.hasHandlers("eventClick")),a)?C(e=>{s.trigger("eventClick",{el:e.target,event:new tL(t,n,r),jsEvent:e,view:t.viewApi})}):{}}let tX={start:eT,end:eT,allDay:Boolean};function t0(e,t,n){return Object.assign(Object.assign({},t1(e,t,n)),{timeZone:t.timeZone})}function t1(e,t,n){return{start:t.toDate(e.start),end:t.toDate(e.end),startStr:t.formatIso(e.start,{omitTime:n}),endStr:t.formatIso(e.end,{omitTime:n})}}function t5(e,t,n){let r=!1,i=function(e){r||(r=!0,t(e))},s=function(e){r||(r=!0,n(e))},o=e(i,s);o&&"function"==typeof o.then&&o.then(i,s)}class t2 extends Error{constructor(e,t){super(e),this.response=t}}function t6(e,t,n){e=e.toUpperCase();let r={method:e};return"GET"===e?t+=(-1===t.indexOf("?")?"?":"&")+new URLSearchParams(n):(r.body=new URLSearchParams(n),r.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(t,r).then(e=>{if(e.ok)return e.json().then(t=>[t,e],()=>{throw new t2("Failure parsing JSON",e)});throw new t2("Request failed",e)})}function t3(){return null==i&&(i=function(){if("undefined"==typeof document)return!0;let e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.innerHTML="<table><tr><td><div></div></td></tr></table>",e.querySelector("table").style.height="100px",e.querySelector("div").style.height="100%",document.body.appendChild(e);let t=e.querySelector("div").offsetHeight>0;return document.body.removeChild(e),t}()),i}class t4 extends e${constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{this.setState({forPrint:!0})},this.handleAfterPrint=()=>{this.setState({forPrint:!1})}}render(){let{props:e}=this,{options:t}=e,{forPrint:n}=this.state,r=n||"auto"===t.height||"auto"===t.contentHeight,i=r||null==t.height?"":t.height,s=["fc",n?"fc-media-print":"fc-media-screen",`fc-direction-${t.direction}`,e.theme.getClass("root")];return t3()||s.push("fc-liquid-hack"),e.children(s,i,r,n)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}class t8{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}}function t9(e,t){return{component:e,el:t.el,useEventCenter:null==t.useEventCenter||t.useEventCenter,isHitComboAllowed:t.isHitComboAllowed||null}}let t7={};class ne{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,t){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:t})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,t){let{currentDataManager:n}=this;n.currentCalendarOptionsRefiners[e]?n.emitter.on(e,t):console.warn(`Unknown listener name '${e}'`)}off(e,t){this.currentDataManager.emitter.off(e,t)}trigger(e,...t){this.currentDataManager.emitter.trigger(e,...t)}changeView(e,t){this.batchRendering(()=>{if(this.unselect(),t){if(t.start&&t.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:t});else{let{dateEnv:n}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:n.createMarker(t)})}}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,t){let n,r=this.getCurrentData();t=t||"day",n=r.viewSpecs[t]||this.getUnitViewSpec(t),this.unselect(),n?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:n.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let t,n,{viewSpecs:r,toolbarConfig:i}=this.getCurrentData(),s=[].concat(i.header?i.header.viewsWithButtons:[],i.footer?i.footer.viewsWithButtons:[]);for(let e in r)s.push(e);for(t=0;t<s.length;t+=1)if((n=r[s[t]])&&n.singleUnit===e)return n;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:to(e.calendarOptions.now,e.dateEnv)})}gotoDate(e){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.createMarker(e)})}incrementDate(e){let t=this.getCurrentData(),n=O(e);n&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.add(t.currentDate,n)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,t){let{dateEnv:n}=this.getCurrentData();return n.format(n.createMarker(e),em(t))}formatRange(e,t,n){let{dateEnv:r}=this.getCurrentData();return r.formatRange(r.createMarker(e),r.createMarker(t),em(n),n)}formatIso(e,t){let{dateEnv:n}=this.getCurrentData();return n.formatIso(n.createMarker(e),{omitTime:t})}select(e,t){let n;n=null==t?null!=e.start?e:{start:e,end:null}:{start:e,end:t};let r=this.getCurrentData(),i=function(e,t,n){let r=function(e,t){let{refined:n,extra:r}=eD(e,tX),i=n.start?t.createMarkerMeta(n.start):null,s=n.end?t.createMarkerMeta(n.end):null,{allDay:o}=n;return null==o&&(o=i&&i.isTimeUnspecified&&(!s||s.isTimeUnspecified)),Object.assign({range:{start:i?i.marker:null,end:s?s.marker:null},allDay:o},r)}(e,t),{range:i}=r;if(!i.start)return null;if(!i.end){if(null==n)return null;i.end=t.add(i.start,n)}return r}(n,r.dateEnv,O({days:1}));i&&(this.dispatch({type:"SELECT_DATES",selection:i}),function(e,t,n){n.emitter.trigger("select",Object.assign(Object.assign({},function(e,t){var n;let r={};for(let n of t.pluginHooks.dateSpanTransforms)Object.assign(r,n(e,t));return Object.assign(r,(n=t.dateEnv,Object.assign(Object.assign({},t1(e.range,n,e.allDay)),{allDay:e.allDay}))),r}(e,n)),{jsEvent:t?t.origEvent:null,view:n.viewApi||n.calendarApi.view}))}(i,null,r))}unselect(e){let t=this.getCurrentData();t.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),function(e,t){t.emitter.trigger("unselect",{jsEvent:e?e.origEvent:null,view:t.viewApi||t.calendarApi.view})}(e,t))}addEvent(e,t){let n;if(e instanceof tL){let t=e._def,n=e._instance;return this.getCurrentData().eventStore.defs[t.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:ty({def:t,instance:n})}),this.triggerEventAdd(e)),e}let r=this.getCurrentData();if(t instanceof tB)n=t.internalEventSource;else if("boolean"==typeof t)t&&([n]=eI(r.eventSources));else if(null!=t){let e=this.getEventSourceById(t);if(!e)return console.warn(`Could not find an event source with ID "${t}"`),null;n=e.internalEventSource}let i=tf(e,n,r,!1);if(i){let e=new tL(r,i.def,i.def.recurringDef?null:i.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:ty(i)}),this.triggerEventAdd(e),e}return null}triggerEventAdd(e){let{emitter:t}=this.getCurrentData();t.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:tj(e)})}})}getEventById(e){let t=this.getCurrentData(),{defs:n,instances:r}=t.eventStore;for(let i in e=String(e),n){let s=n[i];if(s.publicId===e){if(s.recurringDef)return new tL(t,s,null);for(let e in r){let n=r[e];if(n.defId===s.defId)return new tL(t,s,n)}}}return null}getEvents(){let e=this.getCurrentData();return tF(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),t=e.eventSources,n=[];for(let r in t)n.push(new tB(e,t[r]));return n}getEventSourceById(e){let t=this.getCurrentData(),n=t.eventSources;for(let r in e=String(e),n)if(n[r].publicId===e)return new tB(t,n[r]);return null}addEventSource(e){let t=this.getCurrentData();if(e instanceof tB)return t.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let n=tT(e,t);return n?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[n]}),new tB(t,n)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let t=O(e);t&&this.trigger("_scrollRequest",{time:t})}}function nt(e,t,n,r){return{dow:e.getUTCDay(),isDisabled:!!(r&&!te(r.activeRange,e)),isOther:!!(r&&!te(r.currentRange,e)),isToday:!!(t&&te(t,e)),isPast:!!(n?e<n:!!t&&e<t.start),isFuture:!!(n?e>n:!!t&&e>=t.end)}}function nn(e,t){let n=["fc-day",`fc-day-${U[e.dow]}`];return e.isDisabled?n.push("fc-day-disabled"):(e.isToday&&(n.push("fc-day-today"),n.push(t.getClass("today"))),e.isPast&&n.push("fc-day-past"),e.isFuture&&n.push("fc-day-future"),e.isOther&&n.push("fc-day-other")),n}tb();let nr=em({year:"numeric",month:"long",day:"numeric"}),ni=em({week:"long"});function ns(e,t,n="day",r=!0){let{dateEnv:i,options:s,calendarApi:o}=e,a=i.format(t,"week"===n?ni:nr);if(s.navLinks){let e=i.toDate(t),l=e=>{let r="day"===n?s.navLinkDayClick:"week"===n?s.navLinkWeekClick:null;"function"==typeof r?r.call(o,i.toDate(t),e):("string"==typeof r&&(n=r),o.zoomTo(t,n))};return Object.assign({title:x(s.navLinkHint,[a,e],a),"data-navlink":""},r?w(l):{onClick:l})}return{"aria-label":a}}class no{constructor(e,t,n,r){this.els=t;let i=this.originClientRect=e.getBoundingClientRect();n&&this.buildElHorizontals(i.left),r&&this.buildElVerticals(i.top)}buildElHorizontals(e){let t=[],n=[];for(let r of this.els){let i=r.getBoundingClientRect();t.push(i.left-e),n.push(i.right-e)}this.lefts=t,this.rights=n}buildElVerticals(e){let t=[],n=[];for(let r of this.els){let i=r.getBoundingClientRect();t.push(i.top-e),n.push(i.bottom-e)}this.tops=t,this.bottoms=n}leftToIndex(e){let t,{lefts:n,rights:r}=this,i=n.length;for(t=0;t<i;t+=1)if(e>=n[t]&&e<r[t])return t}topToIndex(e){let t,{tops:n,bottoms:r}=this,i=n.length;for(t=0;t<i;t+=1)if(e>=n[t]&&e<r[t])return t}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return na(this.tops||[],e.tops||[])&&na(this.bottoms||[],e.bottoms||[])&&na(this.lefts||[],e.lefts||[])&&na(this.rights||[],e.rights||[])}}function na(e,t){let n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(Math.round(e[r])!==Math.round(t[r]))return!1;return!0}class nl extends e${constructor(){super(...arguments),this.uid=D()}prepareHits(){}queryHit(e,t,n,r){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!m(e,".fc-event-mirror")}isValidDateDownEl(e){return!m(e,".fc-event:not(.fc-bg-event)")&&!m(e,".fc-more-link")&&!m(e,"a[data-navlink]")&&!m(e,".fc-popover")}}class nc{constructor(e=e=>e.thickness){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let t=[];for(let n of e)this.insertEntry(n,t);return t}insertEntry(e,t){let n=this.findInsertion(e);return this.isInsertionValid(n,e)?(this.insertEntryAt(e,n),1):this.handleInvalidInsertion(n,e,t)}isInsertionValid(e,t){return(-1===this.maxCoord||e.levelCoord+this.getEntryThickness(t)<=this.maxCoord)&&(-1===this.maxStackCnt||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,t,n){return this.allowReslicing&&e.touchingEntry?this.splitEntry(t,e.touchingEntry,n):(n.push(t),0)}splitEntry(e,t,n){let r=0,i=[],s=e.span,o=t.span;return(s.start<o.start&&(r+=this.insertEntry({index:e.index,thickness:e.thickness,span:{start:s.start,end:o.start}},i)),s.end>o.end&&(r+=this.insertEntry({index:e.index,thickness:e.thickness,span:{start:o.end,end:s.end}},i)),r)?(n.push({index:e.index,thickness:e.thickness,span:nd(o,s)},...i),r):(n.push(e),0)}insertEntryAt(e,t){let{entriesByLevel:n,levelCoords:r}=this;-1===t.lateral?(nf(r,t.level,t.levelCoord),nf(n,t.level,[e])):nf(n[t.level],t.lateral,e),this.stackCnts[nh(e)]=t.stackCnt}findInsertion(e){let{levelCoords:t,entriesByLevel:n,strictOrder:r,stackCnts:i}=this,s=t.length,o=0,a=-1,l=-1,c=null,u=0;for(let h=0;h<s;h+=1){let s,d=t[h];if(!r&&d>=o+this.getEntryThickness(e))break;let f=n[h],p=np(f,e.span.start,nu),g=p[0]+p[1];for(;(s=f[g])&&s.span.start<e.span.end;){let e=d+this.getEntryThickness(s);e>o&&(o=e,c=s,a=h,l=g),e===o&&(u=Math.max(u,i[nh(s)]+1)),g+=1}}let h=0;if(c)for(h=a+1;h<s&&t[h]<o;)h+=1;let d=-1;return h<s&&t[h]===o&&(d=np(n[h],e.span.end,nu)[0]),{touchingLevel:a,touchingLateral:l,touchingEntry:c,stackCnt:u,levelCoord:o,level:h,lateral:d}}toRects(){let{entriesByLevel:e,levelCoords:t}=this,n=e.length,r=[];for(let i=0;i<n;i+=1){let n=e[i],s=t[i];for(let e of n)r.push(Object.assign(Object.assign({},e),{thickness:this.getEntryThickness(e),levelCoord:s}))}return r}}function nu(e){return e.span.end}function nh(e){return e.index+":"+e.span.start}function nd(e,t){let n=Math.max(e.start,t.start),r=Math.min(e.end,t.end);return n<r?{start:n,end:r}:null}function nf(e,t,n){e.splice(t,0,n)}function np(e,t,n){let r=0,i=e.length;if(!i||t<n(e[r]))return[0,0];if(t>n(e[i-1]))return[i,0];for(;r<i;){let s=Math.floor(r+(i-r)/2),o=n(e[s]);if(t<o)i=s;else{if(!(t>o))return[s,1];r=s+1}}return[r,0]}let ng="fc-col-header-cell";function nv(e){return e.text}class nm extends e${render(){let{dateEnv:e,options:t,theme:n,viewApi:r}=this.context,{props:i}=this,{date:s,dateProfile:o}=i,l=nt(s,i.todayRange,null,o),c=[ng].concat(nn(l,n)),u=e.format(s,i.dayHeaderFormat),h=!l.isDisabled&&i.colCnt>1?ns(this.context,s):{},d=Object.assign(Object.assign(Object.assign({date:e.toDate(s),view:r},i.extraRenderProps),{text:u}),l);return(0,a.az)(e2,{elTag:"th",elClasses:c,elAttrs:Object.assign({role:"columnheader",colSpan:i.colSpan,"data-date":l.isDisabled?void 0:X(s)},i.extraDataAttrs),renderProps:d,generatorName:"dayHeaderContent",customGenerator:t.dayHeaderContent,defaultGenerator:nv,classNameGenerator:t.dayHeaderClassNames,didMount:t.dayHeaderDidMount,willUnmount:t.dayHeaderWillUnmount},e=>(0,a.az)("div",{className:"fc-scrollgrid-sync-inner"},!l.isDisabled&&(0,a.az)(e,{elTag:"a",elAttrs:h,elClasses:["fc-col-header-cell-cushion",i.isSticky&&"fc-sticky"]})))}}let ny=em({weekday:"long"});class nb extends e${render(){let{props:e}=this,{dateEnv:t,theme:n,viewApi:r,options:i}=this.context,s=L(new Date(2592e5),e.dow),o={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},l=t.format(s,e.dayHeaderFormat),c=Object.assign(Object.assign(Object.assign(Object.assign({date:s},o),{view:r}),e.extraRenderProps),{text:l});return(0,a.az)(e2,{elTag:"th",elClasses:[ng,...nn(o,n),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:c,generatorName:"dayHeaderContent",customGenerator:i.dayHeaderContent,defaultGenerator:nv,classNameGenerator:i.dayHeaderClassNames,didMount:i.dayHeaderDidMount,willUnmount:i.dayHeaderWillUnmount},n=>(0,a.az)("div",{className:"fc-scrollgrid-sync-inner"},(0,a.az)(n,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":t.format(s,ny)}})))}}class n_ extends a.wA{constructor(e,t){super(e,t),this.initialNowDate=to(t.options.now,t.dateEnv),this.initialNowQueriedMs=new Date().valueOf(),this.state=this.computeTiming().currentState}render(){let{props:e,state:t}=this;return e.children(t.nowDate,t.todayRange)}componentDidMount(){this.setTimeout()}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout()}computeTiming(){let{props:e,context:t}=this,n=j(this.initialNowDate,new Date().valueOf()-this.initialNowQueriedMs),r=t.dateEnv.startOf(n,e.unit),i=t.dateEnv.add(r,O(1,e.unit)),s=i.valueOf()-n.valueOf();return s=Math.min(864e5,s),{currentState:{nowDate:r,todayRange:nE(r)},nextState:{nowDate:i,todayRange:nE(i)},waitMs:s}}setTimeout(){let{nextState:e,waitMs:t}=this.computeTiming();this.timeoutId=setTimeout(()=>{this.setState(e,()=>{this.setTimeout()})},t)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}function nE(e){let t=q(e);return{start:t,end:L(t,1)}}n_.contextType=eY;class nA extends e${constructor(){super(...arguments),this.createDayHeaderFormatter=en(nS)}render(){let{context:e}=this,{dates:t,dateProfile:n,datesRepDistinctDays:r,renderIntro:i}=this.props,s=this.createDayHeaderFormatter(e.options.dayHeaderFormat,r,t.length);return(0,a.az)(n_,{unit:"day"},(e,o)=>(0,a.az)("tr",{role:"row"},i&&i("day"),t.map(e=>r?(0,a.az)(nm,{key:e.toISOString(),date:e,dateProfile:n,todayRange:o,colCnt:t.length,dayHeaderFormat:s}):(0,a.az)(nb,{key:e.getUTCDay(),dow:e.getUTCDay(),dayHeaderFormat:s}))))}}function nS(e,t,n){return e||(!t||n>10?em({weekday:"short"}):n>1?em({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):em({weekday:"long"}))}class nw{constructor(e,t){let n=e.start,{end:r}=e,i=[],s=[],o=-1;for(;n<r;)t.isHiddenDay(n)?i.push(o+.5):(i.push(o+=1),s.push(n)),n=L(n,1);this.dates=s,this.indices=i,this.cnt=s.length}sliceRange(e){let t=this.getDateDayIndex(e.start),n=this.getDateDayIndex(L(e.end,-1)),r=Math.max(0,t),i=Math.min(this.cnt-1,n);return(r=Math.ceil(r))<=(i=Math.floor(i))?{firstIndex:r,lastIndex:i,isStart:t===r,isEnd:n===i}:null}getDateDayIndex(e){let{indices:t}=this,n=Math.floor(W(this.dates[0],e));return n<0?t[0]-1:n>=t.length?t[t.length-1]+1:t[n]}}class nC{constructor(e,t){let n,r,i,{dates:s}=e;if(t){for(n=1,r=s[0].getUTCDay();n<s.length&&s[n].getUTCDay()!==r;n+=1);i=Math.ceil(s.length/n)}else i=1,n=s.length;this.rowCnt=i,this.colCnt=n,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let t=0;t<this.rowCnt;t+=1){let n=[];for(let e=0;e<this.colCnt;e+=1)n.push(this.buildCell(t,e));e.push(n)}return e}buildCell(e,t){let n=this.daySeries.dates[e*this.colCnt+t];return{key:n.toISOString(),date:n}}buildHeaderDates(){let e=[];for(let t=0;t<this.colCnt;t+=1)e.push(this.cells[0][t].date);return e}sliceRange(e){let{colCnt:t}=this,n=this.daySeries.sliceRange(e),r=[];if(n){let{firstIndex:e,lastIndex:i}=n,s=e;for(;s<=i;){let o=Math.floor(s/t),a=Math.min((o+1)*t,i+1);r.push({row:o,firstCol:s%t,lastCol:(a-1)%t,isStart:n.isStart&&s===e,isEnd:n.isEnd&&a-1===i}),s=a}}return r}}class nk{constructor(){this.sliceBusinessHours=en(this._sliceBusinessHours),this.sliceDateSelection=en(this._sliceDateSpan),this.sliceEventStore=en(this._sliceEventStore),this.sliceEventDrag=en(this._sliceInteraction),this.sliceEventResize=en(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,t,n,r,...i){let{eventUiBases:s}=e,o=this.sliceEventStore(e.eventStore,s,t,n,...i);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,t,n,s,r,...i),businessHourSegs:this.sliceBusinessHours(e.businessHours,t,n,r,...i),fgEventSegs:o.fg,bgEventSegs:o.bg,eventDrag:this.sliceEventDrag(e.eventDrag,s,t,n,...i),eventResize:this.sliceEventResize(e.eventResize,s,t,n,...i),eventSelection:e.eventSelection}}sliceNowDate(e,t,n,r,...i){return this._sliceDateSpan({range:{start:e,end:j(e,1)},allDay:!1},t,n,{},r,...i)}_sliceBusinessHours(e,t,n,r,...i){return e?this._sliceEventStore(tc(e,nD(t,!!n),r),{},t,n,...i).bg:[]}_sliceEventStore(e,t,n,r,...i){if(e){let s=tW(e,t,nD(n,!!r),r);return{bg:this.sliceEventRanges(s.bg,i),fg:this.sliceEventRanges(s.fg,i)}}return{bg:[],fg:[]}}_sliceInteraction(e,t,n,r,...i){if(!e)return null;let s=tW(e.mutatedEvents,t,nD(n,!!r),r);return{segs:this.sliceEventRanges(s.fg,i),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,t,n,r,i,...s){if(!e)return[];let o=nD(t,!!n),a=e7(e.range,o);if(a){var l;let t,n;let o=(l=e=Object.assign(Object.assign({},e),{range:a}),{def:n=tv((t=tp({editable:!1},i)).refined,t.extra,"",l.allDay,!0,i),ui:tG(n,r),instance:tl(n.defId,l.range),range:l.range,isStart:!0,isEnd:!0}),c=this.sliceRange(e.range,...s);for(let e of c)e.eventRange=o;return c}return[]}sliceEventRanges(e,t){let n=[];for(let r of e)n.push(...this.sliceEventRange(r,t));return n}sliceEventRange(e,t){let n=e.range;this.forceDayIfListItem&&"list-item"===e.ui.display&&(n={start:n.start,end:L(n.start,1)});let r=this.sliceRange(n,...t);for(let t of r)t.eventRange=e,t.isStart=e.isStart&&t.isStart,t.isEnd=e.isEnd&&t.isEnd;return r}}function nD(e,t){let n=e.activeRange;return t?n:{start:j(n.start,e.slotMinTime.milliseconds),end:j(n.end,e.slotMaxTime.milliseconds-864e5)}}function nT(e){let{instances:t}=e,n=[];for(let e in t)n.push(t[e].range);return n}let nx=/^(visible|hidden)$/;class nR extends e${constructor(){super(...arguments),this.handleEl=e=>{this.el=e,eK(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:t,liquidIsAbsolute:n}=e,r=t&&n,i=["fc-scroller"];return t&&(n?i.push("fc-scroller-liquid-absolute"):i.push("fc-scroller-liquid")),(0,a.az)("div",{ref:this.handleEl,className:i.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:r&&-(e.overcomeLeft||0)||"",right:r&&-(e.overcomeRight||0)||"",bottom:r&&-(e.overcomeBottom||0)||"",marginLeft:!r&&-(e.overcomeLeft||0)||"",marginRight:!r&&-(e.overcomeRight||0)||"",marginBottom:!r&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(nx.test(this.props.overflowX))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:n}=e;for(let e=0;e<n.length;e+=1)if(n[e].getBoundingClientRect().width>t)return!0;return!1}needsYScrolling(){if(nx.test(this.props.overflowY))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:n}=e;for(let e=0;e<n.length;e+=1)if(n[e].getBoundingClientRect().height>t)return!0;return!1}getXScrollbarWidth(){return nx.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return nx.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class nO{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(e,t)=>{let{depths:n,currentMap:r}=this,i=!1,s=!1;null!==e?(i=t in r,r[t]=e,n[t]=(n[t]||0)+1,s=!0):(n[t]-=1,n[t]||(delete r[t],delete this.callbackMap[t],i=!0)),this.masterCallback&&(i&&this.masterCallback(null,String(t)),s&&this.masterCallback(e,String(t)))}}createRef(e){let t=this.callbackMap[e];return t||(t=this.callbackMap[e]=t=>{this.handleValue(t,String(e))}),t}collect(e,t,n){return function(e,t=0,n,r=1){let i=[];null==n&&(n=Object.keys(e).length);for(let s=t;s<n;s+=r){let t=e[s];void 0!==t&&i.push(t)}return i}(this.currentMap,e,t,n)}getAll(){return eI(this.currentMap)}}function nM(e,t){return e.liquid&&t.liquid}function nN(e,t){return z(e,t,eP)}function nI(e,t){let n=[];for(let r of e){let e=r.span||1;for(let i=0;i<e;i+=1)n.push((0,a.az)("col",{style:{width:"shrink"===r.width?null==t?4:t:r.width||"",minWidth:r.minWidth||""}}))}return(0,a.az)("colgroup",{},...n)}function nP(e){return(0,a.az)("div",{className:"fc-scrollgrid-sticky-shim",style:{width:e.clientWidth,minWidth:e.tableMinWidth}})}function nH(e){let{stickyHeaderDates:t}=e;return(null==t||"auto"===t)&&(t="auto"===e.height||"auto"===e.viewHeight),t}function nz(e){let{stickyFooterScrollbar:t}=e;return(null==t||"auto"===t)&&(t="auto"===e.height||"auto"===e.viewHeight),t}class nU extends e${constructor(){super(...arguments),this.processCols=en(e=>e,nN),this.renderMicroColGroup=en(nI),this.scrollerRefs=new nO,this.scrollerElRefs=new nO(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){var e;let t,n,{props:r,state:i,context:s}=this,o=r.sections||[],l=this.processCols(r.cols),c=this.renderMicroColGroup(l,i.shrinkWidth),u=(e=r.liquid,t=["fc-scrollgrid",s.theme.getClass("table")],e&&t.push("fc-scrollgrid-liquid"),t);r.collapsibleWidth&&u.push("fc-scrollgrid-collapsible");let h=o.length,d=0,f=[],p=[],g=[];for(;d<h&&"header"===(n=o[d]).type;)f.push(this.renderSection(n,c,!0)),d+=1;for(;d<h&&"body"===(n=o[d]).type;)p.push(this.renderSection(n,c,!1)),d+=1;for(;d<h&&"footer"===(n=o[d]).type;)g.push(this.renderSection(n,c,!0)),d+=1;let v=!t3(),m={role:"rowgroup"};return(0,a.az)("table",{role:"grid",className:u.join(" "),style:{height:r.height}},!!(!v&&f.length)&&(0,a.az)("thead",m,...f),!!(!v&&p.length)&&(0,a.az)("tbody",m,...p),!!(!v&&g.length)&&(0,a.az)("tfoot",m,...g),v&&(0,a.az)("tbody",m,...f,...p,...g))}renderSection(e,t,n){var r;let i;return"outerContent"in e?(0,a.az)(a.HY,{key:e.key},e.outerContent):(0,a.az)("tr",{key:e.key,role:"presentation",className:(r=this.props.liquid,i=["fc-scrollgrid-section",`fc-scrollgrid-section-${e.type}`,e.className],r&&e.liquid&&null==e.maxHeight&&i.push("fc-scrollgrid-section-liquid"),e.isSticky&&i.push("fc-scrollgrid-section-sticky"),i).join(" ")},this.renderChunkTd(e,t,e.chunk,n))}renderChunkTd(e,t,n,r){if("outerContent"in n)return n.outerContent;let{props:i}=this,{forceYScrollbars:s,scrollerClientWidths:o,scrollerClientHeights:l}=this.state,c=null!=e.maxHeight||nM(i,e),u=nM(i,e),h=i.liquid?s?"scroll":c?"auto":"hidden":"visible",d=e.key,f=function(e,t,n,r){let{expandRows:i}=n;return"function"==typeof t.content?t.content(n):(0,a.az)("table",{role:"presentation",className:[t.tableClassName,e.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:n.tableMinWidth,width:n.clientWidth,height:i?n.clientHeight:""}},n.tableColGroupNode,(0,a.az)(r?"thead":"tbody",{role:"presentation"},"function"==typeof t.rowContent?t.rowContent(n):t.rowContent))}(e,n,{tableColGroupNode:t,tableMinWidth:"",clientWidth:i.collapsibleWidth||void 0===o[d]?null:o[d],clientHeight:void 0!==l[d]?l[d]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},r);return(0,a.az)(r?"th":"td",{ref:n.elRef,role:"presentation"},(0,a.az)("div",{className:`fc-scroller-harness${u?" fc-scroller-harness-liquid":""}`},(0,a.az)(nR,{ref:this.scrollerRefs.createRef(d),elRef:this.scrollerElRefs.createRef(d),overflowY:h,overflowX:i.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:u,liquidIsAbsolute:!0},f)))}_handleScrollerEl(e,t){let n=function(e,t){for(let n of e)if(n.key===t)return n;return null}(this.props.sections,t);n&&eK(n.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return!function(e){for(let t of e)if("shrink"===t.width)return!0;return!1}(this.props.cols)?0:function(e){let t=function(e,t){let n=e instanceof HTMLElement?[e]:e,r=[];for(let e=0;e<n.length;e+=1){let i=n[e].querySelectorAll(t);for(let e=0;e<i.length;e+=1)r.push(i[e])}return r}(e,".fc-scrollgrid-shrink"),n=0;for(let e of t)n=Math.max(n,function(e){let t=e.querySelector(".fc-scrollgrid-shrink-frame"),n=e.querySelector(".fc-scrollgrid-shrink-cushion");if(!t)throw Error("needs fc-scrollgrid-shrink-frame className");if(!n)throw Error("needs fc-scrollgrid-shrink-cushion className");return e.getBoundingClientRect().width-t.getBoundingClientRect().width+n.getBoundingClientRect().width}(e));return Math.ceil(n)}(this.scrollerElRefs.getAll())}computeScrollerDims(){let e,t;let n=(s||((e=document.createElement("div")).style.overflow="scroll",e.style.position="absolute",e.style.top="-9999px",e.style.left="-9999px",document.body.appendChild(e),t={x:e.offsetHeight-e.clientHeight,y:e.offsetWidth-e.clientWidth},document.body.removeChild(e),s=t),s),{scrollerRefs:r,scrollerElRefs:i}=this,o=!1,a={},l={};for(let e in r.currentMap){let t=r.currentMap[e];if(t&&t.needsYScrolling()){o=!0;break}}for(let e of this.props.sections){let t=e.key,r=i.currentMap[t];if(r){let e=r.parentNode;a[t]=Math.floor(e.getBoundingClientRect().width-(o?n.y:0)),l[t]=Math.floor(e.getBoundingClientRect().height)}}return{forceYScrollbars:o,scrollerClientWidths:a,scrollerClientHeights:l}}}nU.addStateEquality({scrollerClientWidths:eP,scrollerClientHeights:eP});class nB extends e${constructor(){super(...arguments),this.handleEl=e=>{if(this.el=e,e){var t;t=this.props.seg,e.fcSeg=t}}}render(){var e;let t;let{props:n,context:r}=this,{options:i}=r,{seg:s}=n,{eventRange:o}=s,{ui:l}=o,c={event:new tL(r,o.def,o.instance),view:r.viewApi,timeText:n.timeText,textColor:l.textColor,backgroundColor:l.backgroundColor,borderColor:l.borderColor,isDraggable:!n.disableDragging&&function(e,t){let{pluginHooks:n}=t,r=n.isDraggableTransformers,{def:i,ui:s}=e.eventRange,o=s.startEditable;for(let e of r)o=e(o,i,s,t);return o}(s,r),isStartResizable:!n.disableResizing&&s.isStart&&s.eventRange.ui.durationEditable&&r.options.eventResizableFromStart,isEndResizable:!n.disableResizing&&(e=s).isEnd&&e.eventRange.ui.durationEditable,isMirror:!!(n.isDragging||n.isResizing||n.isDateSelecting),isStart:!!s.isStart,isEnd:!!s.isEnd,isPast:!!n.isPast,isFuture:!!n.isFuture,isToday:!!n.isToday,isSelected:!!n.isSelected,isDragging:!!n.isDragging,isResizing:!!n.isResizing};return(0,a.az)(e2,Object.assign({},n,{elRef:this.handleEl,elClasses:[...(t=["fc-event"],c.isMirror&&t.push("fc-event-mirror"),c.isDraggable&&t.push("fc-event-draggable"),(c.isStartResizable||c.isEndResizable)&&t.push("fc-event-resizable"),c.isDragging&&t.push("fc-event-dragging"),c.isResizing&&t.push("fc-event-resizing"),c.isSelected&&t.push("fc-event-selected"),c.isStart&&t.push("fc-event-start"),c.isEnd&&t.push("fc-event-end"),c.isPast&&t.push("fc-event-past"),c.isToday&&t.push("fc-event-today"),c.isFuture&&t.push("fc-event-future"),t),...s.eventRange.ui.classNames,...n.elClasses||[]],renderProps:c,generatorName:"eventContent",customGenerator:i.eventContent,defaultGenerator:n.defaultGenerator,classNameGenerator:i.eventClassNames,didMount:i.eventDidMount,willUnmount:i.eventWillUnmount}))}componentDidUpdate(e){if(this.el&&this.props.seg!==e.seg){var t,n;t=this.el,n=this.props.seg,t.fcSeg=n}}}class nL extends e${render(){let{props:e,context:t}=this,{options:n}=t,{seg:r}=e,{ui:i}=r.eventRange,s=tZ(r,n.eventTimeFormat||e.defaultTimeFormat,t,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return(0,a.az)(nB,Object.assign({},e,{elTag:"a",elStyle:{borderColor:i.borderColor,backgroundColor:i.backgroundColor},elAttrs:tJ(r,t),defaultGenerator:nj,timeText:s}),(e,t)=>(0,a.az)(a.HY,null,(0,a.az)(e,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:t.textColor}}),!!t.isStartResizable&&(0,a.az)("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!t.isEndResizable&&(0,a.az)("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}function nj(e){return(0,a.az)("div",{className:"fc-event-main-frame"},e.timeText&&(0,a.az)("div",{className:"fc-event-time"},e.timeText),(0,a.az)("div",{className:"fc-event-title-container"},(0,a.az)("div",{className:"fc-event-title fc-sticky"},e.event.title||(0,a.az)(a.HY,null,"\xa0"))))}let nF=em({day:"numeric"});class nW extends e${constructor(){super(...arguments),this.refineRenderProps=er(nq)}render(){let{props:e,context:t}=this,{options:n}=t,r=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:t.viewApi,dateEnv:t.dateEnv,monthStartFormat:n.monthStartFormat});return(0,a.az)(e2,Object.assign({},e,{elClasses:[...nn(r,t.theme),...e.elClasses||[]],elAttrs:Object.assign(Object.assign({},e.elAttrs),r.isDisabled?{}:{"data-date":X(e.date)}),renderProps:r,generatorName:"dayCellContent",customGenerator:n.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:r.isDisabled?void 0:n.dayCellClassNames,didMount:n.dayCellDidMount,willUnmount:n.dayCellWillUnmount}))}}function nV(e){return!!(e.dayCellContent||eX("dayCellContent",e))}function nq(e){let{date:t,dateEnv:n,dateProfile:r,isMonthStart:i}=e,s=nt(t,e.todayRange,null,r),o=e.showDayNumber?n.format(t,i?e.monthStartFormat:nF):"";return Object.assign(Object.assign(Object.assign({date:n.toDate(t),view:e.viewApi},s),{isMonthStart:i,dayNumberText:o}),e.extraRenderProps)}class nG extends e${render(){let{props:e}=this,{seg:t}=e;return(0,a.az)(nB,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:t.eventRange.ui.backgroundColor},defaultGenerator:nY,seg:t,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function nY(e){let{title:t}=e.event;return t&&(0,a.az)("div",{className:"fc-event-title"},e.event.title)}function nQ(e){return(0,a.az)("div",{className:`fc-${e}`})}let nZ=e=>(0,a.az)(eY.Consumer,null,t=>{let{dateEnv:n,options:r}=t,{date:i}=e,s=r.weekNumberFormat||e.defaultFormat,o=n.computeWeekNumber(i),l=n.format(i,s);return(0,a.az)(e2,Object.assign({},e,{renderProps:{num:o,text:l,date:i},generatorName:"weekNumberContent",customGenerator:r.weekNumberContent,defaultGenerator:n$,classNameGenerator:r.weekNumberClassNames,didMount:r.weekNumberDidMount,willUnmount:r.weekNumberWillUnmount}))});function n$(e){return e.text}class nK extends e${constructor(){super(...arguments),this.state={titleId:E()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&eK(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{let t=function(e){var t,n;return null!==(n=null===(t=e.composedPath)||void 0===t?void 0:t.call(e)[0])&&void 0!==n?n:e.target}(e);this.rootEl.contains(t)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{"Escape"===e.key&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:t}=this.context,{props:n,state:r}=this,i=["fc-popover",e.getClass("popover")].concat(n.extraClassNames||[]);return(0,l.jz)((0,a.az)("div",Object.assign({},n.extraAttrs,{id:n.id,className:i.join(" "),"aria-labelledby":r.titleId,ref:this.handleRootEl}),(0,a.az)("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},(0,a.az)("span",{className:"fc-popover-title",id:r.titleId},n.title),(0,a.az)("span",{className:"fc-popover-close "+e.getIconClass("close"),title:t.closeHint,onClick:this.handleCloseClick})),(0,a.az)("div",{className:"fc-popover-body "+e.getClass("popoverContent")},n.children)),n.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:t,alignGridTop:n}=this.props,{rootEl:r}=this,i=function(e){let t=function(e){let t=[];for(;e instanceof HTMLElement;){let n=window.getComputedStyle(e);if("fixed"===n.position)break;/(auto|scroll)/.test(n.overflow+n.overflowY+n.overflowX)&&t.push(e),e=e.parentNode}return t}(e),n=e.getBoundingClientRect();for(let e of t){let t=function(e,t){let n={left:Math.max(e.left,t.left),right:Math.min(e.right,t.right),top:Math.max(e.top,t.top),bottom:Math.min(e.bottom,t.bottom)};return n.left<n.right&&n.top<n.bottom&&n}(n,e.getBoundingClientRect());if(!t)return null;n=t}return n}(t);if(i){let s=r.getBoundingClientRect(),o=n?m(t,".fc-scrollgrid").getBoundingClientRect().top:i.top,a=e?i.right-s.width:i.left;o=Math.max(o,10),a=Math.max(a=Math.min(a,document.documentElement.clientWidth-10-s.width),10);let l=r.offsetParent.getBoundingClientRect();(function(e,t){for(let n in t)b(e,n,t[n])})(r,{top:o-l.top,left:a-l.left})}}}class nJ extends nl{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:t}=this.context,{props:n}=this,{startDate:r,todayRange:i,dateProfile:s}=n,o=t.format(r,e.dayPopoverFormat);return(0,a.az)(nW,{elRef:this.handleRootEl,date:r,dateProfile:s,todayRange:i},(t,r,i)=>(0,a.az)(nK,{elRef:i.ref,id:n.id,title:o,extraClassNames:["fc-more-popover"].concat(i.className||[]),extraAttrs:i,parentEl:n.parentEl,alignmentEl:n.alignmentEl,alignGridTop:n.alignGridTop,onClose:n.onClose},nV(e)&&(0,a.az)(t,{elTag:"div",elClasses:["fc-more-popover-misc"]}),n.children))}queryHit(e,t,n,r){let{rootEl:i,props:s}=this;return e>=0&&e<n&&t>=0&&t<r?{dateProfile:s.dateProfile,dateSpan:Object.assign({allDay:!s.forceTimed,range:{start:s.startDate,end:s.endDate}},s.extraDateSpan),dayEl:i,rect:{left:0,top:0,right:n,bottom:r},layer:1}:null}}class nX extends e${constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:E()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&eK(this.props.elRef,e)},this.handleClick=e=>{let{props:t,context:n}=this,{moreLinkClick:r}=n.options,i=n1(t).start;function s(e){let{def:t,instance:r,range:i}=e.eventRange;return{event:new tL(n,t,r),start:n.dateEnv.toDate(i.start),end:n.dateEnv.toDate(i.end),isStart:e.isStart,isEnd:e.isEnd}}"function"==typeof r&&(r=r({date:i,allDay:!!t.allDayDate,allSegs:t.allSegs.map(s),hiddenSegs:t.hiddenSegs.map(s),jsEvent:e,view:n.viewApi})),r&&"popover"!==r?"string"==typeof r&&n.calendarApi.zoomTo(i,r):this.setState({isPopoverOpen:!0})},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:t}=this;return(0,a.az)(eY.Consumer,null,n=>{let{viewApi:r,options:i,calendarApi:s}=n,{moreLinkText:o}=i,{moreCnt:l}=e,c=n1(e),u="function"==typeof o?o.call(s,l):`+${l} ${o}`,h=x(i.moreLinkHint,[l],u),d={num:l,shortText:`+${l}`,text:u,view:r};return(0,a.az)(a.HY,null,!!e.moreCnt&&(0,a.az)(e2,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),w(this.handleClick)),{title:h,"aria-expanded":t.isPopoverOpen,"aria-controls":t.isPopoverOpen?t.popoverId:""}),renderProps:d,generatorName:"moreLinkContent",customGenerator:i.moreLinkContent,defaultGenerator:e.defaultGenerator||n0,classNameGenerator:i.moreLinkClassNames,didMount:i.moreLinkDidMount,willUnmount:i.moreLinkWillUnmount},e.children),t.isPopoverOpen&&(0,a.az)(nJ,{id:t.popoverId,startDate:c.start,endDate:c.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=m(this.linkEl,".fc-view-harness"))}}function n0(e){return e.text}function n1(e){if(e.allDayDate)return{start:e.allDayDate,end:L(e.allDayDate,1)};let{hiddenSegs:t}=e;return{start:t.reduce(n5).eventRange.range.start,end:t.reduce(n2).eventRange.range.end}}function n5(e,t){return e.eventRange.range.start<t.eventRange.range.start?e:t}function n2(e,t){return e.eventRange.range.end>t.eventRange.range.end?e:t}class n6{constructor(){this.handlers=[]}set(e){for(let t of(this.currentValue=e,this.handlers))t(e)}subscribe(e){this.handlers.push(e),void 0!==this.currentValue&&e(this.currentValue)}}class n3 extends n6{constructor(){super(...arguments),this.map=new Map}handle(e){let{map:t}=this,n=!1;e.isActive?(t.set(e.id,e),n=!0):t.has(e.id)&&(t.delete(e.id),n=!0),n&&this.set(t)}}},5414:(e,t,n)=>{"use strict";n.d(t,{Z:()=>M});var r=n(1193),i=n(5898),s=n(603);function o(e,t){let n=[];for(let e=0;e<t;e+=1)n[e]=[];for(let t of e)n[t.row].push(t);return n}function a(e,t){let n=[];for(let e=0;e<t;e+=1)n[e]=[];for(let t of e)n[t.firstCol].push(t);return n}function l(e,t){let n=[];if(e){for(let r=0;r<t;r+=1)n[r]={affectedInstances:e.affectedInstances,isEvent:e.isEvent,segs:[]};for(let t of e.segs)n[t.row].segs.push(t)}else for(let e=0;e<t;e+=1)n[e]=null;return n}(0,i.cw)(':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}');let c=(0,i.x)({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function u(e){let{display:t}=e.eventRange.ui;return"list-item"===t||"auto"===t&&!e.eventRange.def.allDay&&e.firstCol===e.lastCol&&e.isStart&&e.isEnd}class h extends i.B{render(){let{props:e}=this;return(0,s.az)(i.cj,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:c,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class d extends i.B{render(){let{props:e,context:t}=this,{options:n}=t,{seg:r}=e,o=n.eventTimeFormat||c,a=(0,i.bQ)(r,o,t,!0,e.defaultDisplayEventEnd);return(0,s.az)(i.cn,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:(0,i.bU)(e.seg,t),defaultGenerator:f,timeText:a,isResizing:!1,isDateSelecting:!1}))}}function f(e){return(0,s.az)(s.HY,null,(0,s.az)("div",{className:"fc-daygrid-event-dot",style:{borderColor:e.borderColor||e.backgroundColor}}),e.timeText&&(0,s.az)("div",{className:"fc-event-time"},e.timeText),(0,s.az)("div",{className:"fc-event-title"},e.event.title||(0,s.az)(s.HY,null,"\xa0")))}class p extends i.B{constructor(){super(...arguments),this.compileSegs=(0,i.z)(g)}render(){let{props:e}=this,{allSegs:t,invisibleSegs:n}=this.compileSegs(e.singlePlacements);return(0,s.az)(i.cr,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:t,hiddenSegs:n,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let n=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return(0,s.az)(s.HY,null,t.map(t=>{let r=t.eventRange.instance.instanceId;return(0,s.az)("div",{className:"fc-daygrid-event-harness",key:r,style:{visibility:n[r]?"hidden":""}},u(t)?(0,s.az)(d,Object.assign({seg:t,isDragging:!1,isSelected:r===e.eventSelection,defaultDisplayEventEnd:!1},(0,i.bS)(t,e.todayRange))):(0,s.az)(h,Object.assign({seg:t,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:r===e.eventSelection,defaultDisplayEventEnd:!1},(0,i.bS)(t,e.todayRange))))}))}})}}function g(e){let t=[],n=[];for(let r of e)t.push(r.seg),r.isVisible||n.push(r.seg);return{allSegs:t,invisibleSegs:n}}let v=(0,i.x)({week:"narrow"});class m extends i.be{constructor(){super(...arguments),this.rootElRef=(0,s.Vf)(),this.state={dayNumberId:(0,i.a5)()},this.handleRootEl=e=>{(0,i.Y)(this.rootElRef,e),(0,i.Y)(this.props.elRef,e)}}render(){let{context:e,props:t,state:n,rootElRef:r}=this,{options:o,dateEnv:a}=e,{date:l,dateProfile:c}=t,u=t.showDayNumber&&function(e,t,n){let{start:r,end:s}=t,o=(0,i.bg)(s,-1),a=n.getYear(r),l=n.getMonth(r),c=n.getYear(o),u=n.getMonth(o);return!(a===c&&l===u)&&!!(e.valueOf()===r.valueOf()||1===n.getDay(e)&&e.valueOf()<s.valueOf())}(l,c.currentRange,a);return(0,s.az)(i.cl,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...t.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},t.extraDataAttrs),t.showDayNumber?{"aria-labelledby":n.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:y,date:l,dateProfile:c,todayRange:t.todayRange,showDayNumber:t.showDayNumber,isMonthStart:u,extraRenderProps:t.extraRenderProps},(a,c)=>(0,s.az)("div",{ref:t.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:t.minHeight}},t.showWeekNumber&&(0,s.az)(i.cq,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:(0,i.b0)(e,l,"week"),date:l,defaultFormat:v}),!c.isDisabled&&(t.showDayNumber||(0,i.cm)(o)||t.forceDayTop)?(0,s.az)("div",{className:"fc-daygrid-day-top"},(0,s.az)(a,{elTag:"a",elClasses:["fc-daygrid-day-number",u&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},(0,i.b0)(e,l)),{id:n.dayNumberId})})):t.showDayNumber?(0,s.az)("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},(0,s.az)("a",{className:"fc-daygrid-day-number"},"\xa0")):void 0,(0,s.az)("div",{className:"fc-daygrid-day-events",ref:t.fgContentElRef},t.fgContent,(0,s.az)("div",{className:"fc-daygrid-day-bottom",style:{marginTop:t.moreMarginTop}},(0,s.az)(p,{allDayDate:l,singlePlacements:t.singlePlacements,moreCnt:t.moreCnt,alignmentElRef:r,alignGridTop:!t.showDayNumber,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange}))),(0,s.az)("div",{className:"fc-daygrid-day-bg"},t.bgContent)))}}function y(e){return e.dayNumberText||(0,s.az)(s.HY,null,"\xa0")}function b(e){return e.eventRange.instance.instanceId+":"+e.firstCol}function _(e){return b(e)+":"+e.lastCol}function E(e,t,n,r){if(e.firstCol===t&&e.lastCol===n-1)return e;let s=e.eventRange,o=s.range,a=(0,i.o)(o,{start:r[t].date,end:(0,i.t)(r[n-1].date,1)});return Object.assign(Object.assign({},e),{firstCol:t,lastCol:n-1,eventRange:{def:s.def,ui:Object.assign(Object.assign({},s.ui),{durationEditable:!1}),instance:s.instance,range:a},isStart:e.isStart&&a.start.valueOf()===o.start.valueOf(),isEnd:e.isEnd&&a.end.valueOf()===o.end.valueOf()})}class A extends i.bA{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){let t=super.addSegs(e),{entriesByLevel:n}=this,r=e=>!this.forceHidden[(0,i.bB)(e)];for(let e=0;e<n.length;e+=1)n[e]=n[e].filter(r);return t}handleInvalidInsertion(e,t,n){let{entriesByLevel:r,forceHidden:s}=this,{touchingEntry:o,touchingLevel:a,touchingLateral:l}=e;if(this.hiddenConsumes&&o){let e=(0,i.bB)(o);if(!s[e]){if(this.allowReslicing){let e=Object.assign(Object.assign({},o),{span:(0,i.bF)(o.span,t.span)}),c=(0,i.bB)(e);s[c]=!0,r[a][l]=e,this.splitEntry(o,t,n)}else s[e]=!0,n.push(o)}}return super.handleInvalidInsertion(e,t,n)}}class S extends i.be{constructor(){super(...arguments),this.cellElRefs=new i.cf,this.frameElRefs=new i.cf,this.fgElRefs=new i.cf,this.segHarnessRefs=new i.cf,this.rootElRef=(0,s.Vf)(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:t,context:n}=this,{options:r}=n,o=e.cells.length,l=a(e.businessHourSegs,o),c=a(e.bgEventSegs,o),u=a(this.getHighlightSegs(),o),h=a(this.getMirrorSegs(),o),{singleColPlacements:d,multiColPlacements:f,moreCnts:p,moreMarginTops:g}=function(e,t,n,r,i,s,o){let a=new A(t=>i[e[t.index].eventRange.instance.instanceId+":"+t.span.start+":"+(t.span.end-1)]);a.allowReslicing=!0,a.strictOrder=r,!0===t||!0===n?(a.maxCoord=s,a.hiddenConsumes=!0):"number"==typeof t?a.maxStackCnt=t:"number"==typeof n&&(a.maxStackCnt=n,a.hiddenConsumes=!0);let l=[],c=[];for(let t=0;t<e.length;t+=1){let n=e[t];null!=i[_(n)]?l.push({index:t,span:{start:n.firstCol,end:n.lastCol+1}}):c.push(n)}let u=a.addSegs(l),{singleColPlacements:h,multiColPlacements:d,leftoverMargins:f}=function(e,t,n){let r=function(e,t){let n=[];for(let e=0;e<t;e+=1)n.push([]);for(let t of e)for(let e=t.span.start;e<t.span.end;e+=1)n[e].push(t);return n}(e,n.length),i=[],s=[],o=[];for(let e=0;e<n.length;e+=1){let a=r[e],l=[],c=0,u=0;for(let r of a){let i=t[r.index];l.push({seg:E(i,e,e+1,n),isVisible:!0,isAbsolute:!1,absoluteTop:r.levelCoord,marginTop:r.levelCoord-c}),c=r.levelCoord+r.thickness}let h=[];for(let r of(c=0,u=0,a)){let i=t[r.index],s=r.span.end-r.span.start>1,o=r.span.start===e;u+=r.levelCoord-c,c=r.levelCoord+r.thickness,s?(u+=r.thickness,o&&h.push({seg:E(i,r.span.start,r.span.end,n),isVisible:!0,isAbsolute:!0,absoluteTop:r.levelCoord,marginTop:0})):o&&(h.push({seg:E(i,r.span.start,r.span.end,n),isVisible:!0,isAbsolute:!1,absoluteTop:r.levelCoord,marginTop:u}),u=0)}i.push(l),s.push(h),o.push(u)}return{singleColPlacements:i,multiColPlacements:s,leftoverMargins:o}}(a.toRects(),e,o),p=[],g=[];for(let e of c){d[e.firstCol].push({seg:e,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let t=e.firstCol;t<=e.lastCol;t+=1)h[t].push({seg:E(e,t,t+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let e=0;e<o.length;e+=1)p.push(0);for(let t of u){let n=e[t.index],r=t.span;d[r.start].push({seg:E(n,r.start,r.end,o),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let e=r.start;e<r.end;e+=1)p[e]+=1,h[e].push({seg:E(n,e,e+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let e=0;e<o.length;e+=1)g.push(f[e]);return{singleColPlacements:h,multiColPlacements:d,moreCnts:p,moreMarginTops:g}}((0,i.bR)(e.fgEventSegs,r.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,r.eventOrderStrict,t.segHeights,t.maxContentHeight,e.cells),v=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return(0,s.az)("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((t,n)=>{let r=this.renderFgSegs(n,e.forPrint?d[n]:f[n],e.todayRange,v),i=this.renderFgSegs(n,function(e,t){if(!e.length)return[];let n=function(e){let t={};for(let n of e)for(let e of n)t[e.seg.eventRange.instance.instanceId]=e.absoluteTop;return t}(t);return e.map(e=>({seg:e,isVisible:!0,isAbsolute:!0,absoluteTop:n[e.eventRange.instance.instanceId],marginTop:0}))}(h[n],f),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return(0,s.az)(m,{key:t.key,elRef:this.cellElRefs.createRef(t.key),innerElRef:this.frameElRefs.createRef(t.key),dateProfile:e.dateProfile,date:t.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&0===n,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:t.extraRenderProps,extraDataAttrs:t.extraDataAttrs,extraClassNames:t.extraClassNames,extraDateSpan:t.extraDateSpan,moreCnt:p[n],moreMarginTop:g[n],singlePlacements:d[n],fgContentElRef:this.fgElRefs.createRef(t.key),fgContent:(0,s.az)(s.HY,null,(0,s.az)(s.HY,null,r),(0,s.az)(s.HY,null,i)),bgContent:(0,s.az)(s.HY,null,this.renderFillSegs(u[n],"highlight"),this.renderFillSegs(l[n],"non-business"),this.renderFillSegs(c[n],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,t){let n=this.props;this.updateSizing(!(0,i.E)(e,n))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,t,n,r,o,a,l){let{context:c}=this,{eventSelection:f}=this.props,{framePositions:p}=this.state,g=1===this.props.cells.length,v=o||a||l,m=[];if(p)for(let e of t){let{seg:t}=e,{instanceId:y}=t.eventRange.instance,E=e.isVisible&&!r[y],A=e.isAbsolute,S="",w="";A&&(c.isRtl?(w=0,S=p.lefts[t.lastCol]-p.lefts[t.firstCol]):(S=0,w=p.rights[t.firstCol]-p.rights[t.lastCol])),m.push((0,s.az)("div",{className:"fc-daygrid-event-harness"+(A?" fc-daygrid-event-harness-abs":""),key:b(t),ref:v?null:this.segHarnessRefs.createRef(_(t)),style:{visibility:E?"":"hidden",marginTop:A?"":e.marginTop,top:A?e.absoluteTop:"",left:S,right:w}},u(t)?(0,s.az)(d,Object.assign({seg:t,isDragging:o,isSelected:y===f,defaultDisplayEventEnd:g},(0,i.bS)(t,n))):(0,s.az)(h,Object.assign({seg:t,isDragging:o,isResizing:a,isDateSelecting:l,isSelected:y===f,defaultDisplayEventEnd:g},(0,i.bS)(t,n)))))}return m}renderFillSegs(e,t){let{isRtl:n}=this.context,{todayRange:r}=this.props,{framePositions:o}=this.state,a=[];if(o)for(let l of e){let e=n?{right:0,left:o.lefts[l.lastCol]-o.lefts[l.firstCol]}:{left:0,right:o.rights[l.firstCol]-o.rights[l.lastCol]};a.push((0,s.az)("div",{key:(0,i.bT)(l.eventRange),className:"fc-daygrid-bg-harness",style:e},"bg-event"===t?(0,s.az)(i.cp,Object.assign({seg:l},(0,i.bS)(l,r))):(0,i.co)(t)))}return(0,s.az)(s.HY,{},...a)}updateSizing(e){let{props:t,state:n,frameElRefs:r}=this;if(!t.forPrint&&null!==t.clientWidth){if(e){let e=t.cells.map(e=>r.currentMap[e.key]);if(e.length){let t=this.rootElRef.current,r=new i.ba(t,e,!0,!1);n.framePositions&&n.framePositions.similarTo(r)||this.setState({framePositions:new i.ba(t,e,!0,!1)})}}let s=this.state.segHeights,o=this.querySegHeights(),a=!0===t.dayMaxEvents||!0===t.dayMaxEventRows;this.safeSetState({segHeights:Object.assign(Object.assign({},s),o),maxContentHeight:a?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,t={};for(let n in e){let r=Math.round(e[n].getBoundingClientRect().height);t[n]=Math.max(t[n]||0,r)}return t}computeMaxContentHeight(){let e=this.props.cells[0].key,t=this.cellElRefs.currentMap[e],n=this.fgElRefs.currentMap[e];return t.getBoundingClientRect().bottom-n.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(t=>e[t.key])}}S.addStateEquality({segHeights:i.E});class w extends i.be{constructor(){super(...arguments),this.splitBusinessHourSegs=(0,i.z)(o),this.splitBgEventSegs=(0,i.z)(o),this.splitFgEventSegs=(0,i.z)(o),this.splitDateSelectionSegs=(0,i.z)(o),this.splitEventDrag=(0,i.z)(l),this.splitEventResize=(0,i.z)(l),this.rowRefs=new i.cf}render(){let{props:e,context:t}=this,n=e.cells.length,r=this.splitBusinessHourSegs(e.businessHourSegs,n),o=this.splitBgEventSegs(e.bgEventSegs,n),a=this.splitFgEventSegs(e.fgEventSegs,n),l=this.splitDateSelectionSegs(e.dateSelectionSegs,n),c=this.splitEventDrag(e.eventDrag,n),u=this.splitEventResize(e.eventResize,n),h=n>=7&&e.clientWidth?e.clientWidth/t.options.aspectRatio/6:null;return(0,s.az)(i.ch,{unit:"day"},(t,i)=>(0,s.az)(s.HY,null,e.cells.map((t,d)=>(0,s.az)(S,{ref:this.rowRefs.createRef(d),key:t.length?t[0].date.toISOString():d,showDayNumbers:n>1,showWeekNumbers:e.showWeekNumbers,todayRange:i,dateProfile:e.dateProfile,cells:t,renderIntro:e.renderRowIntro,businessHourSegs:r[d],eventSelection:e.eventSelection,bgEventSegs:o[d].filter(C),fgEventSegs:a[d],dateSelectionSegs:l[d],eventDrag:c[d],eventResize:u[d],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:h,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){let e=this.rowRefs.currentMap[0].getCellEls()[0],t=e?e.closest(".fc-daygrid-body"):null;t&&(this.rootEl=t,this.context.registerInteractiveComponent(this,{el:t,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new i.ba(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new i.ba(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,t){let{colPositions:n,rowPositions:r}=this,i=n.leftToIndex(e),s=r.topToIndex(t);if(null!=s&&null!=i){let e=this.props.cells[s][i];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(s,i),allDay:!0},e.extraDateSpan),dayEl:this.getCellEl(s,i),rect:{left:n.lefts[i],right:n.rights[i],top:r.tops[s],bottom:r.bottoms[s]},layer:0}}return null}getCellEl(e,t){return this.rowRefs.currentMap[e].getCellEls()[t]}getCellRange(e,t){let n=this.props.cells[e][t].date;return{start:n,end:(0,i.t)(n,1)}}}function C(e){return e.eventRange.def.allDay}class k extends i.be{constructor(){super(...arguments),this.elRef=(0,s.Vf)(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:t,dayMaxEvents:n,expandRows:r}=e,i=!0===n||!0===t;i&&!r&&(i=!1,t=null,n=null);let o=["fc-daygrid-body",i?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",r?"":"fc-daygrid-body-natural"];return(0,s.az)("div",{ref:this.elRef,className:o.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},(0,s.az)("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:r?e.clientHeight:""}},e.colGroupNode,(0,s.az)("tbody",{role:"presentation"},(0,s.az)(w,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:n,dayMaxEventRows:t,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){var e,t;let n;let r=(e=this.elRef.current,(t=this.props.dateProfile).currentRangeUnit.match(/year|month/)&&(n=e.querySelector(`[data-date="${(0,i.bx)(t.currentDate)}-01"]`)),n||(n=e.querySelector(`[data-date="${(0,i.bv)(t.currentDate)}"]`)),n);if(r){let e=r.closest(".fc-daygrid-body"),t=e.closest(".fc-scroller"),n=r.getBoundingClientRect().top-e.getBoundingClientRect().top;t.scrollTop=n?n+1:0}this.needsScrollReset=!1}}}class D extends i.bW{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,t){return t.sliceRange(e)}}class T extends i.be{constructor(){super(...arguments),this.slicer=new D,this.tableRef=(0,s.Vf)()}render(){let{props:e,context:t}=this;return(0,s.az)(k,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,t,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class x extends i.U{buildRenderRange(e,t,n){let r=super.buildRenderRange(e,t,n),{props:s}=this;return function(e){let t,{dateEnv:n,currentRange:r}=e,{start:s,end:o}=r;if(e.snapToWeek&&(s=n.startOfWeek(s),(t=n.startOfWeek(o)).valueOf()!==o.valueOf()&&(o=(0,i.bh)(t,1))),e.fixedWeekCount){let e=n.startOfWeek(n.startOfMonth((0,i.t)(r.end,-1))),t=Math.ceil((0,i.bi)(e,o));o=(0,i.bh)(o,6-t)}return{start:s,end:o}}({currentRange:r,snapToWeek:/^(year|month)$/.test(t),fixedWeekCount:s.fixedWeekCount,dateEnv:s.dateEnv})}}class R extends i.be{constructor(){super(...arguments),this.headerElRef=(0,s.Vf)()}renderSimpleLayout(e,t){let{props:n,context:r}=this,o=[],a=(0,i.cc)(r.options);return e&&o.push({type:"header",key:"header",isSticky:a,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),o.push({type:"body",key:"body",liquid:!0,chunk:{content:t}}),(0,s.az)(i.ct,{elClasses:["fc-daygrid"],viewSpec:r.viewSpec},(0,s.az)(i.b$,{liquid:!n.isHeightAuto&&!n.forPrint,collapsibleWidth:n.forPrint,cols:[],sections:o}))}renderHScrollLayout(e,t,n,r){let o=this.context.pluginHooks.scrollGridImpl;if(!o)throw Error("No ScrollGrid implementation");let{props:a,context:l}=this,c=!a.forPrint&&(0,i.cc)(l.options),u=!a.forPrint&&(0,i.cb)(l.options),h=[];return e&&h.push({type:"header",key:"header",isSticky:c,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),h.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:t}]}),u&&h.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:i.ca}]}),(0,s.az)(i.ct,{elClasses:["fc-daygrid"],viewSpec:l.viewSpec},(0,s.az)(o,{liquid:!a.isHeightAuto&&!a.forPrint,forPrint:a.forPrint,collapsibleWidth:a.forPrint,colGroups:[{cols:[{span:n,minWidth:r}]}],sections:h}))}}function O(e,t){let n=new i.bO(e.renderRange,t);return new i.bV(n,/year|month|week/.test(e.currentRangeUnit))}var M=(0,r.rx)({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:class extends R{constructor(){super(...arguments),this.buildDayTableModel=(0,i.z)(O),this.headerRef=(0,s.Vf)(),this.tableRef=(0,s.Vf)()}render(){let{options:e,dateProfileGenerator:t}=this.context,{props:n}=this,r=this.buildDayTableModel(n.dateProfile,t),o=e.dayHeaders&&(0,s.az)(i.bK,{ref:this.headerRef,dateProfile:n.dateProfile,dates:r.headerDates,datesRepDistinctDays:1===r.rowCnt}),a=t=>(0,s.az)(T,{ref:this.tableRef,dateProfile:n.dateProfile,dayTableModel:r,businessHours:n.businessHours,dateSelection:n.dateSelection,eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:t.tableColGroupNode,tableMinWidth:t.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!n.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:n.forPrint});return e.dayMinWidth?this.renderHScrollLayout(o,a,r.colCnt,e.dayMinWidth):this.renderSimpleLayout(o,a)}},dateProfileGeneratorClass:x},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}})},5724:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(9885),i=n(8908),s=n(1193),o=n(5898);let a=parseInt(String(r.version).split(".")[0]),l=a<18;class c extends r.Component{constructor(){super(...arguments),this.elRef=(0,r.createRef)(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){let e=[];for(let t of this.state.customRenderingMap.values())e.push(r.createElement(u,{key:t.id,customRendering:t}));return r.createElement("div",{ref:this.elRef},e)}componentDidMount(){let e;let t=new o.cy;this.handleCustomRendering=t.handle.bind(t),this.calendar=new s.f(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),t.subscribe(t=>{let n=Date.now(),r=!e,s=l||r||this.isUpdating||this.isUnmounting||n-e<100?h:i.flushSync;s(()=>{this.setState({customRenderingMap:t},()=>{e=n,r?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){void 0!==this.resizeId&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}c.act=h;class u extends r.PureComponent{render(){let{customRendering:e}=this.props,{generatorMeta:t}=e,n="function"==typeof t?t(e.renderProps):t;return(0,i.createPortal)(n,e.containerEl)}}function h(e){e()}},327:(e,t,n)=>{"use strict";n.d(t,{jz:()=>R});var r,i,s,o=n(603),a=0,l=[],c=[],u=o.YM.__b,h=o.YM.__r,d=o.YM.diffed,f=o.YM.__c,p=o.YM.unmount;function g(){for(var e;e=l.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(m),e.__H.__h.forEach(y),e.__H.__h=[]}catch(t){e.__H.__h=[],o.YM.__e(t,e.__v)}}o.YM.__b=function(e){r=null,u&&u(e)},o.YM.__r=function(e){h&&h(e);var t=(r=e.__c).__H;t&&(i===r?(t.__h=[],r.__h=[],t.__.forEach(function(e){e.__N&&(e.__=e.__N),e.__V=c,e.__N=e.i=void 0})):(t.__h.forEach(m),t.__h.forEach(y),t.__h=[])),i=r},o.YM.diffed=function(e){d&&d(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==l.push(t)&&s===o.YM.requestAnimationFrame||((s=o.YM.requestAnimationFrame)||function(e){var t,n=function(){clearTimeout(r),v&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);v&&(t=requestAnimationFrame(n))})(g)),t.__H.__.forEach(function(e){e.i&&(e.__H=e.i),e.__V!==c&&(e.__=e.__V),e.i=void 0,e.__V=c})),i=r=null},o.YM.__c=function(e,t){t.some(function(e){try{e.__h.forEach(m),e.__h=e.__h.filter(function(e){return!e.__||y(e)})}catch(n){t.some(function(e){e.__h&&(e.__h=[])}),t=[],o.YM.__e(n,e.__v)}}),f&&f(e,t)},o.YM.unmount=function(e){p&&p(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(e){try{m(e)}catch(e){t=e}}),n.__H=void 0,t&&o.YM.__e(t,n.__v))};var v="function"==typeof requestAnimationFrame;function m(e){var t=r,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),r=t}function y(e){var t=r;e.__c=e.__(),r=t}function b(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var r in t)if("__source"!==r&&e[r]!==t[r])return!0;return!1}function _(e){this.props=e}(_.prototype=new o.wA).isPureReactComponent=!0,_.prototype.shouldComponentUpdate=function(e,t){return b(this.props,e)||b(this.state,t)};var E=o.YM.__b;o.YM.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),E&&E(e)},"undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref");var A=(o.bR,o.YM.__e);o.YM.__e=function(e,t,n,r){if(e.then){for(var i,s=t;s=s.__;)if((i=s.__c)&&i.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),i.__c(e,t)}A(e,t,n,r)};var S=o.YM.unmount;function w(){this.__u=0,this.t=null,this.__b=null}function C(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function k(){this.u=null,this.o=null}o.YM.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&!0===e.__h&&(e.type=null),S&&S(e)},(w.prototype=new o.wA).__c=function(e,t){var n=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(n);var i=C(r.__v),s=!1,o=function(){s||(s=!0,n.__R=null,i?i(a):a())};n.__R=o;var a=function(){if(!--r.__u){if(r.state.__a){var e,t=r.state.__a;r.__v.__k[0]=function e(t,n,r){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(t){return e(t,n,r)}),t.__c&&t.__c.__P===n&&(t.__e&&r.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=r)),t}(t,t.__c.__P,t.__c.__O)}for(r.setState({__a:r.__b=null});e=r.t.pop();)e.forceUpdate()}},l=!0===t.__h;r.__u++||l||r.setState({__a:r.__b=r.__v.__k[0]}),e.then(o,o)},w.prototype.componentWillUnmount=function(){this.t=[]},w.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=function e(t,n,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(e){"function"==typeof e.__c&&e.__c()}),t.__c.__H=null),null!=(t=function(e,t){for(var n in t)e[n]=t[n];return e}({},t)).__c&&(t.__c.__P===r&&(t.__c.__P=n),t.__c=null),t.__k=t.__k&&t.__k.map(function(t){return e(t,n,r)})),t}(this.__b,n,r.__O=r.__P)}this.__b=null}var i=t.__a&&(0,o.az)(o.HY,null,e.fallback);return i&&(i.__h=null),[(0,o.az)(o.HY,null,t.__a?null:e.children),i]};var D=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};function T(e){return this.getChildContext=function(){return e.context},e.children}function x(e){var t=this,n=e.i;t.componentWillUnmount=function(){(0,o.sY)(null,t.l),t.l=null,t.i=null},t.i&&t.i!==n&&t.componentWillUnmount(),e.__v?(t.l||(t.i=n,t.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(e){this.childNodes.push(e),t.i.appendChild(e)},insertBefore:function(e,n){this.childNodes.push(e),t.i.appendChild(e)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.i.removeChild(e)}}),(0,o.sY)((0,o.az)(T,{context:t.context},e.__v),t.l)):t.l&&t.componentWillUnmount()}function R(e,t){var n=(0,o.az)(x,{__v:e,i:t});return n.containerInfo=t,n}(k.prototype=new o.wA).__a=function(e){var t=this,n=C(t.__v),r=t.o.get(e);return r[0]++,function(i){var s=function(){t.props.revealOrder?(r.push(i),D(t,e,r)):i()};n?n(s):s()}},k.prototype.render=function(e){this.u=null,this.o=new Map;var t=(0,o.bR)(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},k.prototype.componentDidUpdate=k.prototype.componentDidMount=function(){var e=this;this.o.forEach(function(t,n){D(e,n,t)})};var O="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,M=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,N="undefined"!=typeof document;o.wA.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(o.wA.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var I=o.YM.event;function P(){}function H(){return this.cancelBubble}function z(){return this.defaultPrevented}o.YM.event=function(e){return I&&(e=I(e)),e.persist=P,e.isPropagationStopped=H,e.isDefaultPrevented=z,e.nativeEvent=e};var U={configurable:!0,get:function(){return this.class}},B=o.YM.vnode;o.YM.vnode=function(e){var t=e.type,n=e.props,r=n;if("string"==typeof t){var i=-1===t.indexOf("-");for(var s in r={},n){var a,l=n[s];N&&"children"===s&&"noscript"===t||"value"===s&&"defaultValue"in n&&null==l||("defaultValue"===s&&"value"in n&&null==n.value?s="value":"download"===s&&!0===l?l="":/ondoubleclick/i.test(s)?s="ondblclick":/^onchange(textarea|input)/i.test(s+t)&&(a=n.type,!("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(a))?s="oninput":/^onfocus$/i.test(s)?s="onfocusin":/^onblur$/i.test(s)?s="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(s)?s=s.toLowerCase():i&&M.test(s)?s=s.replace(/[A-Z0-9]/g,"-$&").toLowerCase():null===l&&(l=void 0),/^oninput$/i.test(s)&&r[s=s.toLowerCase()]&&(s="oninputCapture"),r[s]=l)}"select"==t&&r.multiple&&Array.isArray(r.value)&&(r.value=(0,o.bR)(n.children).forEach(function(e){e.props.selected=-1!=r.value.indexOf(e.props.value)})),"select"==t&&null!=r.defaultValue&&(r.value=(0,o.bR)(n.children).forEach(function(e){e.props.selected=r.multiple?-1!=r.defaultValue.indexOf(e.props.value):r.defaultValue==e.props.value})),e.props=r,n.class!=n.className&&(U.enumerable="className"in n,null!=n.className&&(r.class=n.className),Object.defineProperty(r,"className",U))}e.$$typeof=O,B&&B(e)};var L=o.YM.__r;o.YM.__r=function(e){L&&L(e),e.__c},o.HY,o.az,o.kr,o.Vf,o.HY,o.wA},603:(e,t,n)=>{"use strict";n.d(t,{HY:()=>_,Tm:()=>z,Vf:()=>b,YM:()=>i,ZB:()=>H,az:()=>m,bR:()=>function e(t,n){return n=n||[],null==t||"boolean"==typeof t||(Array.isArray(t)?t.some(function(t){e(t,n)}):n.push(t)),n},kr:()=>U,l$:()=>o,sY:()=>P,wA:()=>C});var r,i,s,o,a,l,c,u,h,d={},f=[],p=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function g(e,t){for(var n in t)e[n]=t[n];return e}function v(e){var t=e.parentNode;t&&t.removeChild(e)}function m(e,t,n){var i,s,o,a={};for(o in t)"key"==o?i=t[o]:"ref"==o?s=t[o]:a[o]=t[o];if(arguments.length>2&&(a.children=arguments.length>3?r.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(o in e.defaultProps)void 0===a[o]&&(a[o]=e.defaultProps[o]);return y(e,a,i,s,null)}function y(e,t,n,r,o){var a={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++s:o};return null==o&&null!=i.vnode&&i.vnode(a),a}function b(){return{current:null}}function _(e){return e.children}function E(e,t,n){"-"===t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||p.test(t)?n:n+"px"}function A(e,t,n,r,i){var s;e:if("style"===t){if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||E(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||E(e.style,t,n[t])}}else if("o"===t[0]&&"n"===t[1])s=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase() in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+s]=n,n?r||e.addEventListener(t,s?w:S,s):e.removeEventListener(t,s?w:S,s);else if("dangerouslySetInnerHTML"!==t){if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==t&&"height"!==t&&"href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&-1==t.indexOf("-")?e.removeAttribute(t):e.setAttribute(t,n))}}function S(e){a=!0;try{return this.l[e.type+!1](i.event?i.event(e):e)}finally{a=!1}}function w(e){a=!0;try{return this.l[e.type+!0](i.event?i.event(e):e)}finally{a=!1}}function C(e,t){this.props=e,this.context=t}function k(e,t){if(null==t)return e.__?k(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?k(e):null}function D(e){(!e.__d&&(e.__d=!0)&&l.push(e)&&!T.__r++||c!==i.debounceRendering)&&((c=i.debounceRendering)||function(e){a?setTimeout(e):u(e)})(T)}function T(){var e,t,n,r,i,s,o,a;for(l.sort(function(e,t){return e.__v.__b-t.__v.__b});e=l.shift();)e.__d&&(t=l.length,r=void 0,i=void 0,o=(s=(n=e).__v).__e,(a=n.__P)&&(r=[],(i=g({},s)).__v=s.__v+1,O(a,s,i,n.__n,void 0!==a.ownerSVGElement,null!=s.__h?[o]:null,r,null==o?k(s):o,s.__h),M(r,s),s.__e!=o&&function e(t){var n,r;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,n=0;n<t.__k.length;n++)if(null!=(r=t.__k[n])&&null!=r.__e){t.__e=t.__c.base=r.__e;break}return e(t)}}(s)),l.length>t&&l.sort(function(e,t){return e.__v.__b-t.__v.__b}));T.__r=0}function x(e,t,n,r,s,o,a,l,c,u){var h,p,g,m,b,E,A,S=r&&r.__k||f,w=S.length;for(n.__k=[],h=0;h<t.length;h++)if(null!=(m=n.__k[h]=null==(m=t[h])||"boolean"==typeof m?null:"string"==typeof m||"number"==typeof m||"bigint"==typeof m?y(null,m,null,null,m):Array.isArray(m)?y(_,{children:m},null,null,null):m.__b>0?y(m.type,m.props,m.key,m.ref?m.ref:null,m.__v):m)){if(m.__=n,m.__b=n.__b+1,null===(g=S[h])||g&&m.key==g.key&&m.type===g.type)S[h]=void 0;else for(p=0;p<w;p++){if((g=S[p])&&m.key==g.key&&m.type===g.type){S[p]=void 0;break}g=null}O(e,m,g=g||d,s,o,a,l,c,u),b=m.__e,(p=m.ref)&&g.ref!=p&&(A||(A=[]),g.ref&&A.push(g.ref,null,m),A.push(p,m.__c||b,m)),null!=b?(null==E&&(E=b),"function"==typeof m.type&&m.__k===g.__k?m.__d=c=function e(t,n,r){for(var i,s=t.__k,o=0;s&&o<s.length;o++)(i=s[o])&&(i.__=t,n="function"==typeof i.type?e(i,n,r):R(r,i,i,s,i.__e,n));return n}(m,c,e):c=R(e,m,g,S,b,c),"function"==typeof n.type&&(n.__d=c)):c&&g.__e==c&&c.parentNode!=e&&(c=k(g))}for(n.__e=E,h=w;h--;)null!=S[h]&&("function"==typeof n.type&&null!=S[h].__e&&S[h].__e==n.__d&&(n.__d=function e(t){var n,r,i;if(null==t.type||"string"==typeof t.type)return t.__e;if(t.__k){for(n=t.__k.length-1;n>=0;n--)if((r=t.__k[n])&&(i=e(r)))return i}return null}(r).nextSibling),function e(t,n,r){var s,o;if(i.unmount&&i.unmount(t),(s=t.ref)&&(s.current&&s.current!==t.__e||N(s,null,n)),null!=(s=t.__c)){if(s.componentWillUnmount)try{s.componentWillUnmount()}catch(e){i.__e(e,n)}s.base=s.__P=null,t.__c=void 0}if(s=t.__k)for(o=0;o<s.length;o++)s[o]&&e(s[o],n,r||"function"!=typeof t.type);r||null==t.__e||v(t.__e),t.__=t.__e=t.__d=void 0}(S[h],S[h]));if(A)for(h=0;h<A.length;h++)N(A[h],A[++h],A[++h])}function R(e,t,n,r,i,s){var o,a,l;if(void 0!==t.__d)o=t.__d,t.__d=void 0;else if(null==n||i!=s||null==i.parentNode)e:if(null==s||s.parentNode!==e)e.appendChild(i),o=null;else{for(a=s,l=0;(a=a.nextSibling)&&l<r.length;l+=1)if(a==i)break e;e.insertBefore(i,s),o=s}return void 0!==o?o:i.nextSibling}function O(e,t,n,s,o,a,l,c,u){var h,f,p,m,y,b,E,S,w,D,T,R,O,M,N,P=t.type;if(void 0!==t.constructor)return null;null!=n.__h&&(u=n.__h,c=t.__e=n.__e,t.__h=null,a=[c]),(h=i.__b)&&h(t);try{e:if("function"==typeof P){if(S=t.props,w=(h=P.contextType)&&s[h.__c],D=h?w?w.props.value:h.__:s,n.__c?E=(f=t.__c=n.__c).__=f.__E:("prototype"in P&&P.prototype.render?t.__c=f=new P(S,D):(t.__c=f=new C(S,D),f.constructor=P,f.render=I),w&&w.sub(f),f.props=S,f.state||(f.state={}),f.context=D,f.__n=s,p=f.__d=!0,f.__h=[],f._sb=[]),null==f.__s&&(f.__s=f.state),null!=P.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=g({},f.__s)),g(f.__s,P.getDerivedStateFromProps(S,f.__s))),m=f.props,y=f.state,f.__v=t,p)null==P.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(null==P.getDerivedStateFromProps&&S!==m&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(S,D),!f.__e&&null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(S,f.__s,D)||t.__v===n.__v){for(t.__v!==n.__v&&(f.props=S,f.state=f.__s,f.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(e){e&&(e.__=t)}),T=0;T<f._sb.length;T++)f.__h.push(f._sb[T]);f._sb=[],f.__h.length&&l.push(f);break e}null!=f.componentWillUpdate&&f.componentWillUpdate(S,f.__s,D),null!=f.componentDidUpdate&&f.__h.push(function(){f.componentDidUpdate(m,y,b)})}if(f.context=D,f.props=S,f.__P=e,R=i.__r,O=0,"prototype"in P&&P.prototype.render){for(f.state=f.__s,f.__d=!1,R&&R(t),h=f.render(f.props,f.state,f.context),M=0;M<f._sb.length;M++)f.__h.push(f._sb[M]);f._sb=[]}else do f.__d=!1,R&&R(t),h=f.render(f.props,f.state,f.context),f.state=f.__s;while(f.__d&&++O<25);f.state=f.__s,null!=f.getChildContext&&(s=g(g({},s),f.getChildContext())),p||null==f.getSnapshotBeforeUpdate||(b=f.getSnapshotBeforeUpdate(m,y)),N=null!=h&&h.type===_&&null==h.key?h.props.children:h,x(e,Array.isArray(N)?N:[N],t,n,s,o,a,l,c,u),f.base=t.__e,t.__h=null,f.__h.length&&l.push(f),E&&(f.__E=f.__=null),f.__e=!1}else null==a&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=function(e,t,n,i,s,o,a,l){var c,u,h,f=n.props,p=t.props,g=t.type,m=0;if("svg"===g&&(s=!0),null!=o){for(;m<o.length;m++)if((c=o[m])&&"setAttribute"in c==!!g&&(g?c.localName===g:3===c.nodeType)){e=c,o[m]=null;break}}if(null==e){if(null===g)return document.createTextNode(p);e=s?document.createElementNS("http://www.w3.org/2000/svg",g):document.createElement(g,p.is&&p),o=null,l=!1}if(null===g)f===p||l&&e.data===p||(e.data=p);else{if(o=o&&r.call(e.childNodes),u=(f=n.props||d).dangerouslySetInnerHTML,h=p.dangerouslySetInnerHTML,!l){if(null!=o)for(f={},m=0;m<e.attributes.length;m++)f[e.attributes[m].name]=e.attributes[m].value;(h||u)&&(h&&(u&&h.__html==u.__html||h.__html===e.innerHTML)||(e.innerHTML=h&&h.__html||""))}if(function(e,t,n,r,i){var s;for(s in n)"children"===s||"key"===s||s in t||A(e,s,null,n[s],r);for(s in t)i&&"function"!=typeof t[s]||"children"===s||"key"===s||"value"===s||"checked"===s||n[s]===t[s]||A(e,s,t[s],n[s],r)}(e,p,f,s,l),h)t.__k=[];else if(x(e,Array.isArray(m=t.props.children)?m:[m],t,n,i,s&&"foreignObject"!==g,o,a,o?o[0]:n.__k&&k(n,0),l),null!=o)for(m=o.length;m--;)null!=o[m]&&v(o[m]);l||("value"in p&&void 0!==(m=p.value)&&(m!==e.value||"progress"===g&&!m||"option"===g&&m!==f.value)&&A(e,"value",m,f.value,!1),"checked"in p&&void 0!==(m=p.checked)&&m!==e.checked&&A(e,"checked",m,f.checked,!1))}return e}(n.__e,t,n,s,o,a,l,u);(h=i.diffed)&&h(t)}catch(e){t.__v=null,(u||null!=a)&&(t.__e=c,t.__h=!!u,a[a.indexOf(c)]=null),i.__e(e,t,n)}}function M(e,t){i.__c&&i.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(e){i.__e(e,t.__v)}})}function N(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){i.__e(e,n)}}function I(e,t,n){return this.constructor(e,n)}function P(e,t,n){var s,o,a;i.__&&i.__(e,t),o=(s="function"==typeof n)?null:n&&n.__k||t.__k,a=[],O(t,e=(!s&&n||t).__k=m(_,null,[e]),o||d,d,void 0!==t.ownerSVGElement,!s&&n?[n]:o?null:t.firstChild?r.call(t.childNodes):null,a,!s&&n?n:o?o.__e:t.firstChild,s),M(a,e)}function H(e,t){P(e,t,H)}function z(e,t,n){var i,s,o,a=g({},e.props);for(o in t)"key"==o?i=t[o]:"ref"==o?s=t[o]:a[o]=t[o];return arguments.length>2&&(a.children=arguments.length>3?r.call(arguments,2):n),y(e.type,a,i||e.key,s||e.ref,null)}function U(e,t){var n={__c:t="__cC"+h++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,r;return this.getChildContext||(n=[],(r={})[t]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.some(function(e){e.__e=!0,D(e)})},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Provider.__=n.Consumer.contextType=n}r=f.slice,i={__e:function(e,t,n,r){for(var i,s,o;t=t.__;)if((i=t.__c)&&!i.__)try{if((s=i.constructor)&&null!=s.getDerivedStateFromError&&(i.setState(s.getDerivedStateFromError(e)),o=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,r||{}),o=i.__d),o)return i.__E=i}catch(t){e=t}throw e}},s=0,o=function(e){return null!=e&&void 0===e.constructor},a=!1,C.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=g({},this.state),"function"==typeof e&&(e=e(g({},n),this.props)),e&&g(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),D(this))},C.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),D(this))},C.prototype.render=_,l=[],u="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,T.__r=0,h=0}};
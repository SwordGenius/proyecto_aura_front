(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[491],{8613:function(e,t,n){var i,r;void 0!==(r="function"==typeof(i=function(){"use strict";function t(e,t,n){var i=new XMLHttpRequest;i.open("GET",e),i.responseType="blob",i.onload=function(){a(i.response,t,n)},i.onerror=function(){console.error("could not download file")},i.send()}function i(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function r(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var s="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:void 0,o=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),a=s.saveAs||("object"!=typeof window||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(e,n,o){var a=s.URL||s.webkitURL,l=document.createElement("a");n=n||e.name||"download",l.download=n,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?r(l):i(l.href)?t(e,n,o):r(l,l.target="_blank")):(l.href=a.createObjectURL(e),setTimeout(function(){a.revokeObjectURL(l.href)},4e4),setTimeout(function(){r(l)},0))}:"msSaveOrOpenBlob"in navigator?function(e,n,s){if(n=n||e.name||"download","string"!=typeof e){var o;navigator.msSaveOrOpenBlob((void 0===(o=s)?o={autoBom:!1}:"object"!=typeof o&&(console.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\uFEFF",e],{type:e.type}):e),n)}else if(i(e))t(e,n,s);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout(function(){r(a)})}}:function(e,n,i,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return t(e,n,i);var a="application/octet-stream"===e.type,l=/constructor/i.test(s.HTMLElement)||s.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||a&&l||o)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},u.readAsDataURL(e)}else{var d=s.URL||s.webkitURL,h=d.createObjectURL(e);r?r.location=h:location.href=h,r=null,setTimeout(function(){d.revokeObjectURL(h)},4e4)}});s.saveAs=a.saveAs=a,e.exports=a})?i.apply(t,[]):i)&&(e.exports=r)},8538:function(){},4353:function(e,t,n){"use strict";n.d(t,{jz:function(){return P}});var i,r,s,o=n(8049),a=0,l=[],c=[],u=o.YM.__b,d=o.YM.__r,h=o.YM.diffed,p=o.YM.__c,f=o.YM.unmount;function g(){for(var e;e=l.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(m),e.__H.__h.forEach(b),e.__H.__h=[]}catch(t){e.__H.__h=[],o.YM.__e(t,e.__v)}}o.YM.__b=function(e){i=null,u&&u(e)},o.YM.__r=function(e){d&&d(e);var t=(i=e.__c).__H;t&&(r===i?(t.__h=[],i.__h=[],t.__.forEach(function(e){e.__N&&(e.__=e.__N),e.__V=c,e.__N=e.i=void 0})):(t.__h.forEach(m),t.__h.forEach(b),t.__h=[])),r=i},o.YM.diffed=function(e){h&&h(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==l.push(t)&&s===o.YM.requestAnimationFrame||((s=o.YM.requestAnimationFrame)||function(e){var t,n=function(){clearTimeout(i),v&&cancelAnimationFrame(t),setTimeout(e)},i=setTimeout(n,100);v&&(t=requestAnimationFrame(n))})(g)),t.__H.__.forEach(function(e){e.i&&(e.__H=e.i),e.__V!==c&&(e.__=e.__V),e.i=void 0,e.__V=c})),r=i=null},o.YM.__c=function(e,t){t.some(function(e){try{e.__h.forEach(m),e.__h=e.__h.filter(function(e){return!e.__||b(e)})}catch(n){t.some(function(e){e.__h&&(e.__h=[])}),t=[],o.YM.__e(n,e.__v)}}),p&&p(e,t)},o.YM.unmount=function(e){f&&f(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(e){try{m(e)}catch(e){t=e}}),n.__H=void 0,t&&o.YM.__e(t,n.__v))};var v="function"==typeof requestAnimationFrame;function m(e){var t=i,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),i=t}function b(e){var t=i;e.__c=e.__(),i=t}function _(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var i in t)if("__source"!==i&&e[i]!==t[i])return!0;return!1}function y(e){this.props=e}(y.prototype=new o.wA).isPureReactComponent=!0,y.prototype.shouldComponentUpdate=function(e,t){return _(this.props,e)||_(this.state,t)};var w=o.YM.__b;o.YM.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),w&&w(e)},"undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref");var S=(o.bR,o.YM.__e);o.YM.__e=function(e,t,n,i){if(e.then){for(var r,s=t;s=s.__;)if((r=s.__c)&&r.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),r.__c(e,t)}S(e,t,n,i)};var R=o.YM.unmount;function C(){this.__u=0,this.t=null,this.__b=null}function E(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function T(){this.u=null,this.o=null}o.YM.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&!0===e.__h&&(e.type=null),R&&R(e)},(C.prototype=new o.wA).__c=function(e,t){var n=t.__c,i=this;null==i.t&&(i.t=[]),i.t.push(n);var r=E(i.__v),s=!1,o=function(){s||(s=!0,n.__R=null,r?r(a):a())};n.__R=o;var a=function(){if(!--i.__u){if(i.state.__a){var e,t=i.state.__a;i.__v.__k[0]=function e(t,n,i){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(t){return e(t,n,i)}),t.__c&&t.__c.__P===n&&(t.__e&&i.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=i)),t}(t,t.__c.__P,t.__c.__O)}for(i.setState({__a:i.__b=null});e=i.t.pop();)e.forceUpdate()}},l=!0===t.__h;i.__u++||l||i.setState({__a:i.__b=i.__v.__k[0]}),e.then(o,o)},C.prototype.componentWillUnmount=function(){this.t=[]},C.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=function e(t,n,i){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(e){"function"==typeof e.__c&&e.__c()}),t.__c.__H=null),null!=(t=function(e,t){for(var n in t)e[n]=t[n];return e}({},t)).__c&&(t.__c.__P===i&&(t.__c.__P=n),t.__c=null),t.__k=t.__k&&t.__k.map(function(t){return e(t,n,i)})),t}(this.__b,n,i.__O=i.__P)}this.__b=null}var r=t.__a&&(0,o.az)(o.HY,null,e.fallback);return r&&(r.__h=null),[(0,o.az)(o.HY,null,t.__a?null:e.children),r]};var k=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};function x(e){return this.getChildContext=function(){return e.context},e.children}function O(e){var t=this,n=e.i;t.componentWillUnmount=function(){(0,o.sY)(null,t.l),t.l=null,t.i=null},t.i&&t.i!==n&&t.componentWillUnmount(),e.__v?(t.l||(t.i=n,t.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(e){this.childNodes.push(e),t.i.appendChild(e)},insertBefore:function(e,n){this.childNodes.push(e),t.i.appendChild(e)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.i.removeChild(e)}}),(0,o.sY)((0,o.az)(x,{context:t.context},e.__v),t.l)):t.l&&t.componentWillUnmount()}function P(e,t){var n=(0,o.az)(O,{__v:e,i:t});return n.containerInfo=t,n}(T.prototype=new o.wA).__a=function(e){var t=this,n=E(t.__v),i=t.o.get(e);return i[0]++,function(r){var s=function(){t.props.revealOrder?(i.push(r),k(t,e,i)):r()};n?n(s):s()}},T.prototype.render=function(e){this.u=null,this.o=new Map;var t=(0,o.bR)(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},T.prototype.componentDidUpdate=T.prototype.componentDidMount=function(){var e=this;this.o.forEach(function(t,n){k(e,n,t)})};var D="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,A=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,I="undefined"!=typeof document;o.wA.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(o.wA.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var H=o.YM.event;function z(){}function M(){return this.cancelBubble}function N(){return this.defaultPrevented}o.YM.event=function(e){return H&&(e=H(e)),e.persist=z,e.isPropagationStopped=M,e.isDefaultPrevented=N,e.nativeEvent=e};var j={configurable:!0,get:function(){return this.class}},L=o.YM.vnode;o.YM.vnode=function(e){var t=e.type,n=e.props,i=n;if("string"==typeof t){var r=-1===t.indexOf("-");for(var s in i={},n){var a,l=n[s];I&&"children"===s&&"noscript"===t||"value"===s&&"defaultValue"in n&&null==l||("defaultValue"===s&&"value"in n&&null==n.value?s="value":"download"===s&&!0===l?l="":/ondoubleclick/i.test(s)?s="ondblclick":/^onchange(textarea|input)/i.test(s+t)&&(a=n.type,!("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(a))?s="oninput":/^onfocus$/i.test(s)?s="onfocusin":/^onblur$/i.test(s)?s="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(s)?s=s.toLowerCase():r&&A.test(s)?s=s.replace(/[A-Z0-9]/g,"-$&").toLowerCase():null===l&&(l=void 0),/^oninput$/i.test(s)&&i[s=s.toLowerCase()]&&(s="oninputCapture"),i[s]=l)}"select"==t&&i.multiple&&Array.isArray(i.value)&&(i.value=(0,o.bR)(n.children).forEach(function(e){e.props.selected=-1!=i.value.indexOf(e.props.value)})),"select"==t&&null!=i.defaultValue&&(i.value=(0,o.bR)(n.children).forEach(function(e){e.props.selected=i.multiple?-1!=i.defaultValue.indexOf(e.props.value):i.defaultValue==e.props.value})),e.props=i,n.class!=n.className&&(j.enumerable="className"in n,null!=n.className&&(i.class=n.className),Object.defineProperty(i,"className",j))}e.$$typeof=D,L&&L(e)};var U=o.YM.__r;o.YM.__r=function(e){U&&U(e),e.__c},o.HY,o.az,o.kr,o.Vf,o.HY,o.wA},8049:function(e,t,n){"use strict";n.d(t,{HY:function(){return y},Tm:function(){return N},Vf:function(){return _},YM:function(){return r},ZB:function(){return M},az:function(){return m},bR:function(){return function e(t,n){return n=n||[],null==t||"boolean"==typeof t||(Array.isArray(t)?t.some(function(t){e(t,n)}):n.push(t)),n}},kr:function(){return j},l$:function(){return o},sY:function(){return z},wA:function(){return E}});var i,r,s,o,a,l,c,u,d,h={},p=[],f=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function g(e,t){for(var n in t)e[n]=t[n];return e}function v(e){var t=e.parentNode;t&&t.removeChild(e)}function m(e,t,n){var r,s,o,a={};for(o in t)"key"==o?r=t[o]:"ref"==o?s=t[o]:a[o]=t[o];if(arguments.length>2&&(a.children=arguments.length>3?i.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(o in e.defaultProps)void 0===a[o]&&(a[o]=e.defaultProps[o]);return b(e,a,r,s,null)}function b(e,t,n,i,o){var a={type:e,props:t,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++s:o};return null==o&&null!=r.vnode&&r.vnode(a),a}function _(){return{current:null}}function y(e){return e.children}function w(e,t,n){"-"===t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||f.test(t)?n:n+"px"}function S(e,t,n,i,r){var s;e:if("style"===t){if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof i&&(e.style.cssText=i=""),i)for(t in i)n&&t in n||w(e.style,t,"");if(n)for(t in n)i&&n[t]===i[t]||w(e.style,t,n[t])}}else if("o"===t[0]&&"n"===t[1])s=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase() in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+s]=n,n?i||e.addEventListener(t,s?C:R,s):e.removeEventListener(t,s?C:R,s);else if("dangerouslySetInnerHTML"!==t){if(r)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==t&&"height"!==t&&"href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&-1==t.indexOf("-")?e.removeAttribute(t):e.setAttribute(t,n))}}function R(e){a=!0;try{return this.l[e.type+!1](r.event?r.event(e):e)}finally{a=!1}}function C(e){a=!0;try{return this.l[e.type+!0](r.event?r.event(e):e)}finally{a=!1}}function E(e,t){this.props=e,this.context=t}function T(e,t){if(null==t)return e.__?T(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?T(e):null}function k(e){(!e.__d&&(e.__d=!0)&&l.push(e)&&!x.__r++||c!==r.debounceRendering)&&((c=r.debounceRendering)||function(e){a?setTimeout(e):u(e)})(x)}function x(){var e,t,n,i,r,s,o,a;for(l.sort(function(e,t){return e.__v.__b-t.__v.__b});e=l.shift();)e.__d&&(t=l.length,i=void 0,r=void 0,o=(s=(n=e).__v).__e,(a=n.__P)&&(i=[],(r=g({},s)).__v=s.__v+1,D(a,s,r,n.__n,void 0!==a.ownerSVGElement,null!=s.__h?[o]:null,i,null==o?T(s):o,s.__h),A(i,s),s.__e!=o&&function e(t){var n,i;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,n=0;n<t.__k.length;n++)if(null!=(i=t.__k[n])&&null!=i.__e){t.__e=t.__c.base=i.__e;break}return e(t)}}(s)),l.length>t&&l.sort(function(e,t){return e.__v.__b-t.__v.__b}));x.__r=0}function O(e,t,n,i,s,o,a,l,c,u){var d,f,g,m,_,w,S,R=i&&i.__k||p,C=R.length;for(n.__k=[],d=0;d<t.length;d++)if(null!=(m=n.__k[d]=null==(m=t[d])||"boolean"==typeof m?null:"string"==typeof m||"number"==typeof m||"bigint"==typeof m?b(null,m,null,null,m):Array.isArray(m)?b(y,{children:m},null,null,null):m.__b>0?b(m.type,m.props,m.key,m.ref?m.ref:null,m.__v):m)){if(m.__=n,m.__b=n.__b+1,null===(g=R[d])||g&&m.key==g.key&&m.type===g.type)R[d]=void 0;else for(f=0;f<C;f++){if((g=R[f])&&m.key==g.key&&m.type===g.type){R[f]=void 0;break}g=null}D(e,m,g=g||h,s,o,a,l,c,u),_=m.__e,(f=m.ref)&&g.ref!=f&&(S||(S=[]),g.ref&&S.push(g.ref,null,m),S.push(f,m.__c||_,m)),null!=_?(null==w&&(w=_),"function"==typeof m.type&&m.__k===g.__k?m.__d=c=function e(t,n,i){for(var r,s=t.__k,o=0;s&&o<s.length;o++)(r=s[o])&&(r.__=t,n="function"==typeof r.type?e(r,n,i):P(i,r,r,s,r.__e,n));return n}(m,c,e):c=P(e,m,g,R,_,c),"function"==typeof n.type&&(n.__d=c)):c&&g.__e==c&&c.parentNode!=e&&(c=T(g))}for(n.__e=w,d=C;d--;)null!=R[d]&&("function"==typeof n.type&&null!=R[d].__e&&R[d].__e==n.__d&&(n.__d=function e(t){var n,i,r;if(null==t.type||"string"==typeof t.type)return t.__e;if(t.__k){for(n=t.__k.length-1;n>=0;n--)if((i=t.__k[n])&&(r=e(i)))return r}return null}(i).nextSibling),function e(t,n,i){var s,o;if(r.unmount&&r.unmount(t),(s=t.ref)&&(s.current&&s.current!==t.__e||I(s,null,n)),null!=(s=t.__c)){if(s.componentWillUnmount)try{s.componentWillUnmount()}catch(e){r.__e(e,n)}s.base=s.__P=null,t.__c=void 0}if(s=t.__k)for(o=0;o<s.length;o++)s[o]&&e(s[o],n,i||"function"!=typeof t.type);i||null==t.__e||v(t.__e),t.__=t.__e=t.__d=void 0}(R[d],R[d]));if(S)for(d=0;d<S.length;d++)I(S[d],S[++d],S[++d])}function P(e,t,n,i,r,s){var o,a,l;if(void 0!==t.__d)o=t.__d,t.__d=void 0;else if(null==n||r!=s||null==r.parentNode)e:if(null==s||s.parentNode!==e)e.appendChild(r),o=null;else{for(a=s,l=0;(a=a.nextSibling)&&l<i.length;l+=1)if(a==r)break e;e.insertBefore(r,s),o=s}return void 0!==o?o:r.nextSibling}function D(e,t,n,s,o,a,l,c,u){var d,p,f,m,b,_,w,R,C,k,x,P,D,A,I,z=t.type;if(void 0!==t.constructor)return null;null!=n.__h&&(u=n.__h,c=t.__e=n.__e,t.__h=null,a=[c]),(d=r.__b)&&d(t);try{e:if("function"==typeof z){if(R=t.props,C=(d=z.contextType)&&s[d.__c],k=d?C?C.props.value:d.__:s,n.__c?w=(p=t.__c=n.__c).__=p.__E:("prototype"in z&&z.prototype.render?t.__c=p=new z(R,k):(t.__c=p=new E(R,k),p.constructor=z,p.render=H),C&&C.sub(p),p.props=R,p.state||(p.state={}),p.context=k,p.__n=s,f=p.__d=!0,p.__h=[],p._sb=[]),null==p.__s&&(p.__s=p.state),null!=z.getDerivedStateFromProps&&(p.__s==p.state&&(p.__s=g({},p.__s)),g(p.__s,z.getDerivedStateFromProps(R,p.__s))),m=p.props,b=p.state,p.__v=t,f)null==z.getDerivedStateFromProps&&null!=p.componentWillMount&&p.componentWillMount(),null!=p.componentDidMount&&p.__h.push(p.componentDidMount);else{if(null==z.getDerivedStateFromProps&&R!==m&&null!=p.componentWillReceiveProps&&p.componentWillReceiveProps(R,k),!p.__e&&null!=p.shouldComponentUpdate&&!1===p.shouldComponentUpdate(R,p.__s,k)||t.__v===n.__v){for(t.__v!==n.__v&&(p.props=R,p.state=p.__s,p.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(e){e&&(e.__=t)}),x=0;x<p._sb.length;x++)p.__h.push(p._sb[x]);p._sb=[],p.__h.length&&l.push(p);break e}null!=p.componentWillUpdate&&p.componentWillUpdate(R,p.__s,k),null!=p.componentDidUpdate&&p.__h.push(function(){p.componentDidUpdate(m,b,_)})}if(p.context=k,p.props=R,p.__P=e,P=r.__r,D=0,"prototype"in z&&z.prototype.render){for(p.state=p.__s,p.__d=!1,P&&P(t),d=p.render(p.props,p.state,p.context),A=0;A<p._sb.length;A++)p.__h.push(p._sb[A]);p._sb=[]}else do p.__d=!1,P&&P(t),d=p.render(p.props,p.state,p.context),p.state=p.__s;while(p.__d&&++D<25);p.state=p.__s,null!=p.getChildContext&&(s=g(g({},s),p.getChildContext())),f||null==p.getSnapshotBeforeUpdate||(_=p.getSnapshotBeforeUpdate(m,b)),I=null!=d&&d.type===y&&null==d.key?d.props.children:d,O(e,Array.isArray(I)?I:[I],t,n,s,o,a,l,c,u),p.base=t.__e,t.__h=null,p.__h.length&&l.push(p),w&&(p.__E=p.__=null),p.__e=!1}else null==a&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=function(e,t,n,r,s,o,a,l){var c,u,d,p=n.props,f=t.props,g=t.type,m=0;if("svg"===g&&(s=!0),null!=o){for(;m<o.length;m++)if((c=o[m])&&"setAttribute"in c==!!g&&(g?c.localName===g:3===c.nodeType)){e=c,o[m]=null;break}}if(null==e){if(null===g)return document.createTextNode(f);e=s?document.createElementNS("http://www.w3.org/2000/svg",g):document.createElement(g,f.is&&f),o=null,l=!1}if(null===g)p===f||l&&e.data===f||(e.data=f);else{if(o=o&&i.call(e.childNodes),u=(p=n.props||h).dangerouslySetInnerHTML,d=f.dangerouslySetInnerHTML,!l){if(null!=o)for(p={},m=0;m<e.attributes.length;m++)p[e.attributes[m].name]=e.attributes[m].value;(d||u)&&(d&&(u&&d.__html==u.__html||d.__html===e.innerHTML)||(e.innerHTML=d&&d.__html||""))}if(function(e,t,n,i,r){var s;for(s in n)"children"===s||"key"===s||s in t||S(e,s,null,n[s],i);for(s in t)r&&"function"!=typeof t[s]||"children"===s||"key"===s||"value"===s||"checked"===s||n[s]===t[s]||S(e,s,t[s],n[s],i)}(e,f,p,s,l),d)t.__k=[];else if(O(e,Array.isArray(m=t.props.children)?m:[m],t,n,r,s&&"foreignObject"!==g,o,a,o?o[0]:n.__k&&T(n,0),l),null!=o)for(m=o.length;m--;)null!=o[m]&&v(o[m]);l||("value"in f&&void 0!==(m=f.value)&&(m!==e.value||"progress"===g&&!m||"option"===g&&m!==p.value)&&S(e,"value",m,p.value,!1),"checked"in f&&void 0!==(m=f.checked)&&m!==e.checked&&S(e,"checked",m,p.checked,!1))}return e}(n.__e,t,n,s,o,a,l,u);(d=r.diffed)&&d(t)}catch(e){t.__v=null,(u||null!=a)&&(t.__e=c,t.__h=!!u,a[a.indexOf(c)]=null),r.__e(e,t,n)}}function A(e,t){r.__c&&r.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(e){r.__e(e,t.__v)}})}function I(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){r.__e(e,n)}}function H(e,t,n){return this.constructor(e,n)}function z(e,t,n){var s,o,a;r.__&&r.__(e,t),o=(s="function"==typeof n)?null:n&&n.__k||t.__k,a=[],D(t,e=(!s&&n||t).__k=m(y,null,[e]),o||h,h,void 0!==t.ownerSVGElement,!s&&n?[n]:o?null:t.firstChild?i.call(t.childNodes):null,a,!s&&n?n:o?o.__e:t.firstChild,s),A(a,e)}function M(e,t){z(e,t,M)}function N(e,t,n){var r,s,o,a=g({},e.props);for(o in t)"key"==o?r=t[o]:"ref"==o?s=t[o]:a[o]=t[o];return arguments.length>2&&(a.children=arguments.length>3?i.call(arguments,2):n),b(e.type,a,r||e.key,s||e.ref,null)}function j(e,t){var n={__c:t="__cC"+d++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,i;return this.getChildContext||(n=[],(i={})[t]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.some(function(e){e.__e=!0,k(e)})},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Provider.__=n.Consumer.contextType=n}i=p.slice,r={__e:function(e,t,n,i){for(var r,s,o;t=t.__;)if((r=t.__c)&&!r.__)try{if((s=r.constructor)&&null!=s.getDerivedStateFromError&&(r.setState(s.getDerivedStateFromError(e)),o=r.__d),null!=r.componentDidCatch&&(r.componentDidCatch(e,i||{}),o=r.__d),o)return r.__E=r}catch(t){e=t}throw e}},s=0,o=function(e){return null!=e&&void 0===e.constructor},a=!1,E.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=g({},this.state),"function"==typeof e&&(e=e(g({},n),this.props)),e&&g(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),k(this))},E.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),k(this))},E.prototype.render=y,l=[],u="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,x.__r=0,d=0},7965:function(e){/*!
 * Pusher JavaScript Library v8.3.0
 * https://pusher.com/
 *
 * Copyright 2020, Pusher
 * Released under the MIT licence.
 */window,e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,(function(t){return e[t]}).bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e){void 0===e&&(e="="),this._paddingCharacter=e}return e.prototype.encodedLength=function(e){return this._paddingCharacter?(e+2)/3*4|0:(8*e+5)/6|0},e.prototype.encode=function(e){for(var t="",n=0;n<e.length-2;n+=3){var i=e[n]<<16|e[n+1]<<8|e[n+2];t+=this._encodeByte(i>>>18&63)+this._encodeByte(i>>>12&63)+this._encodeByte(i>>>6&63)+this._encodeByte(i>>>0&63)}var r=e.length-n;if(r>0){var i=e[n]<<16|(2===r?e[n+1]<<8:0);t+=this._encodeByte(i>>>18&63)+this._encodeByte(i>>>12&63),2===r?t+=this._encodeByte(i>>>6&63):t+=this._paddingCharacter||"",t+=this._paddingCharacter||""}return t},e.prototype.maxDecodedLength=function(e){return this._paddingCharacter?e/4*3|0:(6*e+7)/8|0},e.prototype.decodedLength=function(e){return this.maxDecodedLength(e.length-this._getPaddingLength(e))},e.prototype.decode=function(e){if(0===e.length)return new Uint8Array(0);for(var t=this._getPaddingLength(e),n=e.length-t,i=new Uint8Array(this.maxDecodedLength(n)),r=0,s=0,o=0,a=0,l=0,c=0,u=0;s<n-4;s+=4)a=this._decodeChar(e.charCodeAt(s+0)),l=this._decodeChar(e.charCodeAt(s+1)),c=this._decodeChar(e.charCodeAt(s+2)),u=this._decodeChar(e.charCodeAt(s+3)),i[r++]=a<<2|l>>>4,i[r++]=l<<4|c>>>2,i[r++]=c<<6|u,o|=256&a,o|=256&l,o|=256&c,o|=256&u;if(s<n-1&&(a=this._decodeChar(e.charCodeAt(s)),l=this._decodeChar(e.charCodeAt(s+1)),i[r++]=a<<2|l>>>4,o|=256&a,o|=256&l),s<n-2&&(c=this._decodeChar(e.charCodeAt(s+2)),i[r++]=l<<4|c>>>2,o|=256&c),s<n-3&&(u=this._decodeChar(e.charCodeAt(s+3)),i[r++]=c<<6|u,o|=256&u),0!==o)throw Error("Base64Coder: incorrect characters for decoding");return i},e.prototype._encodeByte=function(e){var t=e;return String.fromCharCode(t+=65+(25-e>>>8&6)+(51-e>>>8&-75)+(61-e>>>8&-15)+(62-e>>>8&3))},e.prototype._decodeChar=function(e){return 256+((42-e&e-44)>>>8&-256+e-43+62)+((46-e&e-48)>>>8&-256+e-47+63)+((47-e&e-58)>>>8&-256+e-48+52)+((64-e&e-91)>>>8&-256+e-65+0)+((96-e&e-123)>>>8&-256+e-97+26)},e.prototype._getPaddingLength=function(e){var t=0;if(this._paddingCharacter){for(var n=e.length-1;n>=0&&e[n]===this._paddingCharacter;n--)t++;if(e.length<4||t>2)throw Error("Base64Coder: incorrect padding")}return t},e}();t.Coder=s;var o=new s;t.encode=function(e){return o.encode(e)},t.decode=function(e){return o.decode(e)};var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype._encodeByte=function(e){var t=e;return String.fromCharCode(t+=65+(25-e>>>8&6)+(51-e>>>8&-75)+(61-e>>>8&-13)+(62-e>>>8&49))},t.prototype._decodeChar=function(e){return 256+((44-e&e-46)>>>8&-256+e-45+62)+((94-e&e-96)>>>8&-256+e-95+63)+((47-e&e-58)>>>8&-256+e-48+52)+((64-e&e-91)>>>8&-256+e-65+0)+((96-e&e-123)>>>8&-256+e-97+26)},t}(s);t.URLSafeCoder=a;var l=new a;t.encodeURLSafe=function(e){return l.encode(e)},t.decodeURLSafe=function(e){return l.decode(e)},t.encodedLength=function(e){return o.encodedLength(e)},t.maxDecodedLength=function(e){return o.maxDecodedLength(e)},t.decodedLength=function(e){return o.decodedLength(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="utf8: invalid string",r="utf8: invalid source encoding";function s(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<128)t+=1;else if(r<2048)t+=2;else if(r<55296)t+=3;else if(r<=57343){if(n>=e.length-1)throw Error(i);n++,t+=4}else throw Error(i)}return t}t.encode=function(e){for(var t=new Uint8Array(s(e)),n=0,i=0;i<e.length;i++){var r=e.charCodeAt(i);r<128?t[n++]=r:(r<2048?t[n++]=192|r>>6:(r<55296?t[n++]=224|r>>12:(i++,r=((1023&r)<<10|1023&e.charCodeAt(i))+65536,t[n++]=240|r>>18,t[n++]=128|r>>12&63),t[n++]=128|r>>6&63),t[n++]=128|63&r)}return t},t.encodedLength=s,t.decode=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];if(128&i){var s=void 0;if(i<224){if(n>=e.length)throw Error(r);var o=e[++n];if((192&o)!=128)throw Error(r);i=(31&i)<<6|63&o,s=128}else if(i<240){if(n>=e.length-1)throw Error(r);var o=e[++n],a=e[++n];if((192&o)!=128||(192&a)!=128)throw Error(r);i=(15&i)<<12|(63&o)<<6|63&a,s=2048}else if(i<248){if(n>=e.length-2)throw Error(r);var o=e[++n],a=e[++n],l=e[++n];if((192&o)!=128||(192&a)!=128||(192&l)!=128)throw Error(r);i=(15&i)<<18|(63&o)<<12|(63&a)<<6|63&l,s=65536}else throw Error(r);if(i<s||i>=55296&&i<=57343)throw Error(r);if(i>=65536){if(i>1114111)throw Error(r);i-=65536,t.push(String.fromCharCode(55296|i>>10)),i=56320|1023&i}}t.push(String.fromCharCode(i))}return t.join("")}},function(e,t,n){e.exports=n(3).default},function(e,t,n){"use strict";n.r(t);class i{constructor(e,t){this.lastId=0,this.prefix=e,this.name=t}create(e){this.lastId++;var t=this.lastId,n=this.prefix+t,i=this.name+"["+t+"]",r=!1,s=function(){r||(e.apply(null,arguments),r=!0)};return this[t]=s,{number:t,id:n,name:i,callback:s}}remove(e){delete this[e.number]}}var r,s,o,a,l,c,u=new i("_pusher_script_","Pusher.ScriptReceivers"),d={VERSION:"8.3.0",PROTOCOL:7,wsPort:80,wssPort:443,wsPath:"",httpHost:"sockjs.pusher.com",httpPort:80,httpsPort:443,httpPath:"/pusher",stats_host:"stats.pusher.com",authEndpoint:"/pusher/auth",authTransport:"ajax",activityTimeout:12e4,pongTimeout:3e4,unavailableTimeout:1e4,userAuthentication:{endpoint:"/pusher/user-auth",transport:"ajax"},channelAuthorization:{endpoint:"/pusher/auth",transport:"ajax"},cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},h=new i("_pusher_dependencies","Pusher.DependenciesReceivers"),p=new class{constructor(e){this.options=e,this.receivers=e.receivers||u,this.loading={}}load(e,t,n){var i=this;if(i.loading[e]&&i.loading[e].length>0)i.loading[e].push(n);else{i.loading[e]=[n];var r=e1.createScriptRequest(i.getPath(e,t)),s=i.receivers.create(function(t){if(i.receivers.remove(s),i.loading[e]){var n=i.loading[e];delete i.loading[e];for(var o=function(e){e||r.cleanup()},a=0;a<n.length;a++)n[a](t,o)}});r.send(s)}}getRoot(e){var t=e1.getDocument().location.protocol;return(e&&e.useTLS||"https:"===t?this.options.cdn_https:this.options.cdn_http).replace(/\/*$/,"")+"/"+this.options.version}getPath(e,t){return this.getRoot(t)+"/"+e+this.options.suffix+".js"}}({cdn_http:d.cdn_http,cdn_https:d.cdn_https,version:d.VERSION,suffix:d.dependency_suffix,receivers:h});let f={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/channels/server_api/authenticating_users"},authorizationEndpoint:{path:"/docs/channels/server_api/authorizing-users/"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}}};var g={buildLogSuffix:function(e){let t;let n=f.urls[e];return n&&(n.fullUrl?t=n.fullUrl:n.path&&(t=f.baseUrl+n.path),t)?`See: ${t}`:""}};(r=a||(a={})).UserAuthentication="user-authentication",r.ChannelAuthorization="channel-authorization";class v extends Error{constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype)}}class m extends Error{constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype)}}class b extends Error{constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype)}}class _ extends Error{constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype)}}class y extends Error{constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype)}}class w extends Error{constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype)}}class S extends Error{constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype)}}class R extends Error{constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype)}}class C extends Error{constructor(e,t){super(t),this.status=e,Object.setPrototypeOf(this,new.target.prototype)}}for(var E=function(e,t,n,i,r){let s=e1.createXHR();for(var o in s.open("POST",n.endpoint,!0),s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.headers)s.setRequestHeader(o,n.headers[o]);if(null!=n.headersProvider){let e=n.headersProvider();for(var o in e)s.setRequestHeader(o,e[o])}return s.onreadystatechange=function(){if(4===s.readyState){if(200===s.status){let e;let t=!1;try{e=JSON.parse(s.responseText),t=!0}catch(e){r(new C(200,`JSON returned from ${i.toString()} endpoint was invalid, yet status code was 200. Data was: ${s.responseText}`),null)}t&&r(null,e)}else{let e="";switch(i){case a.UserAuthentication:e=g.buildLogSuffix("authenticationEndpoint");break;case a.ChannelAuthorization:e=`Clients must be authorized to join private or presence channels. ${g.buildLogSuffix("authorizationEndpoint")}`}r(new C(s.status,`Unable to retrieve auth string from ${i.toString()} endpoint - received status: ${s.status} from ${n.endpoint}. ${e}`),null)}}},s.send(t),s},T=String.fromCharCode,k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",x={},O=0,P=k.length;O<P;O++)x[k.charAt(O)]=O;var D=function(e){var t=e.charCodeAt(0);return t<128?e:t<2048?T(192|t>>>6)+T(128|63&t):T(224|t>>>12&15)+T(128|t>>>6&63)+T(128|63&t)},A=function(e){var t=[0,2,1][e.length%3],n=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0);return[k.charAt(n>>>18),k.charAt(n>>>12&63),t>=2?"=":k.charAt(n>>>6&63),t>=1?"=":k.charAt(63&n)].join("")},I=window.btoa||function(e){return e.replace(/[\s\S]{1,3}/g,A)},H=class{constructor(e,t,n,i){this.clear=t,this.timer=e(()=>{this.timer&&(this.timer=i(this.timer))},n)}isRunning(){return null!==this.timer}ensureAborted(){this.timer&&(this.clear(this.timer),this.timer=null)}};function z(e){window.clearTimeout(e)}function M(e){window.clearInterval(e)}class N extends H{constructor(e,t){super(setTimeout,z,e,function(e){return t(),null})}}class j extends H{constructor(e,t){super(setInterval,M,e,function(e){return t(),e})}}var L={now:()=>Date.now?Date.now():new Date().valueOf(),defer:e=>new N(0,e),method(e,...t){var n=Array.prototype.slice.call(arguments,1);return function(t){return t[e].apply(t,n.concat(arguments))}}};function U(e,...t){for(var n=0;n<t.length;n++){var i=t[n];for(var r in i)i[r]&&i[r].constructor&&i[r].constructor===Object?e[r]=U(e[r]||{},i[r]):e[r]=i[r]}return e}function V(){for(var e=["Pusher"],t=0;t<arguments.length;t++)"string"==typeof arguments[t]?e.push(arguments[t]):e.push(Z(arguments[t]));return e.join(" : ")}function W(e,t){var n=Array.prototype.indexOf;if(null===e)return -1;if(n&&e.indexOf===n)return e.indexOf(t);for(var i=0,r=e.length;i<r;i++)if(e[i]===t)return i;return -1}function F(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(e[n],n,e)}function B(e){var t=[];return F(e,function(e,n){t.push(n)}),t}function q(e,t,n){for(var i=0;i<e.length;i++)t.call(n||window,e[i],i,e)}function G(e,t){for(var n=[],i=0;i<e.length;i++)n.push(t(e[i],i,e,n));return n}function Y(e,t){t=t||function(e){return!!e};for(var n=[],i=0;i<e.length;i++)t(e[i],i,e,n)&&n.push(e[i]);return n}function $(e,t){var n={};return F(e,function(i,r){(t&&t(i,r,e,n)||i)&&(n[r]=i)}),n}function X(e,t){for(var n=0;n<e.length;n++)if(t(e[n],n,e))return!0;return!1}function Z(e){try{return JSON.stringify(e)}catch(i){var t,n;return JSON.stringify((t=[],n=[],function e(i,r){var s,o,a;switch(typeof i){case"object":if(!i)return null;for(s=0;s<t.length;s+=1)if(t[s]===i)return{$ref:n[s]};if(t.push(i),n.push(r),"[object Array]"===Object.prototype.toString.apply(i))for(s=0,a=[];s<i.length;s+=1)a[s]=e(i[s],r+"["+s+"]");else for(o in a={},i)Object.prototype.hasOwnProperty.call(i,o)&&(a[o]=e(i[o],r+"["+JSON.stringify(o)+"]"));return a;case"number":case"string":case"boolean":return i}}(e,"$")))}}var J=new class{constructor(){this.globalLog=e=>{window.console&&window.console.log&&window.console.log(e)}}debug(...e){this.log(this.globalLog,e)}warn(...e){this.log(this.globalLogWarn,e)}error(...e){this.log(this.globalLogError,e)}globalLogWarn(e){window.console&&window.console.warn?window.console.warn(e):this.globalLog(e)}globalLogError(e){window.console&&window.console.error?window.console.error(e):this.globalLogWarn(e)}log(e,...t){var n=V.apply(this,arguments);if(tl.log)tl.log(n);else if(tl.logToConsole){let t=e.bind(this);t(n)}}},Q=function(e,t,n,i,r){(void 0!==n.headers||null!=n.headersProvider)&&J.warn(`To send headers with the ${i.toString()} request, you must use AJAX, rather than JSONP.`);var s=e.nextAuthCallbackID.toString();e.nextAuthCallbackID++;var o=e.getDocument(),a=o.createElement("script");e.auth_callbacks[s]=function(e){r(null,e)},a.src=n.endpoint+"?callback="+encodeURIComponent("Pusher.auth_callbacks['"+s+"']")+"&"+t;var l=o.getElementsByTagName("head")[0]||o.documentElement;l.insertBefore(a,l.firstChild)};class K{constructor(e){this.src=e}send(e){var t=this,n="Error loading "+t.src;t.script=document.createElement("script"),t.script.id=e.id,t.script.src=t.src,t.script.type="text/javascript",t.script.charset="UTF-8",t.script.addEventListener?(t.script.onerror=function(){e.callback(n)},t.script.onload=function(){e.callback(null)}):t.script.onreadystatechange=function(){("loaded"===t.script.readyState||"complete"===t.script.readyState)&&e.callback(null)},void 0===t.script.async&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(t.errorScript=document.createElement("script"),t.errorScript.id=e.id+"_error",t.errorScript.text=e.name+"('"+n+"');",t.script.async=t.errorScript.async=!1):t.script.async=!0;var i=document.getElementsByTagName("head")[0];i.insertBefore(t.script,i.firstChild),t.errorScript&&i.insertBefore(t.errorScript,t.script.nextSibling)}cleanup(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null}}class ee{constructor(e,t){this.url=e,this.data=t}send(e){if(!this.request){var t,n,i,r=G((t=$(this.data,function(e){return void 0!==e}),n={},F(t,function(e,t){var i;n[t]=("object"==typeof(i=e)&&(i=Z(i)),encodeURIComponent(I(i.toString().replace(/[^\x00-\x7F]/g,D))))}),i=[],F(n,function(e,t){i.push([t,e])}),i),L.method("join","=")).join("&"),s=this.url+"/"+e.number+"?"+r;this.request=e1.createScriptRequest(s),this.request.send(e)}}cleanup(){this.request&&this.request.cleanup()}}function et(e,t,n){return e+(t.useTLS?"s":"")+"://"+(t.useTLS?t.hostTLS:t.hostNonTLS)+n}function en(e,t){return"/app/"+e+("?protocol="+d.PROTOCOL+"&client=js&version=")+d.VERSION+(t?"&"+t:"")}class ei{constructor(){this._callbacks={}}get(e){return this._callbacks["_"+e]}add(e,t,n){var i="_"+e;this._callbacks[i]=this._callbacks[i]||[],this._callbacks[i].push({fn:t,context:n})}remove(e,t,n){if(!e&&!t&&!n){this._callbacks={};return}var i=e?["_"+e]:B(this._callbacks);t||n?this.removeCallback(i,t,n):this.removeAllCallbacks(i)}removeCallback(e,t,n){q(e,function(e){this._callbacks[e]=Y(this._callbacks[e]||[],function(e){return t&&t!==e.fn||n&&n!==e.context}),0===this._callbacks[e].length&&delete this._callbacks[e]},this)}removeAllCallbacks(e){q(e,function(e){delete this._callbacks[e]},this)}}class er{constructor(e){this.callbacks=new ei,this.global_callbacks=[],this.failThrough=e}bind(e,t,n){return this.callbacks.add(e,t,n),this}bind_global(e){return this.global_callbacks.push(e),this}unbind(e,t,n){return this.callbacks.remove(e,t,n),this}unbind_global(e){return e?this.global_callbacks=Y(this.global_callbacks||[],t=>t!==e):this.global_callbacks=[],this}unbind_all(){return this.unbind(),this.unbind_global(),this}emit(e,t,n){for(var i=0;i<this.global_callbacks.length;i++)this.global_callbacks[i](e,t);var r=this.callbacks.get(e),s=[];if(n?s.push(t,n):t&&s.push(t),r&&r.length>0)for(var i=0;i<r.length;i++)r[i].fn.apply(r[i].context||window,s);else this.failThrough&&this.failThrough(e,t);return this}}class es extends er{constructor(e,t,n,i,r){super(),this.initialize=e1.transportConnectionInitializer,this.hooks=e,this.name=t,this.priority=n,this.key=i,this.options=r,this.state="new",this.timeline=r.timeline,this.activityTimeout=r.activityTimeout,this.id=this.timeline.generateUniqueID()}handlesActivityChecks(){return!!this.hooks.handlesActivityChecks}supportsPing(){return!!this.hooks.supportsPing}connect(){if(this.socket||"initialized"!==this.state)return!1;var e=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(e,this.options)}catch(e){return L.defer(()=>{this.onError(e),this.changeState("closed")}),!1}return this.bindListeners(),J.debug("Connecting",{transport:this.name,url:e}),this.changeState("connecting"),!0}close(){return!!this.socket&&(this.socket.close(),!0)}send(e){return"open"===this.state&&(L.defer(()=>{this.socket&&this.socket.send(e)}),!0)}ping(){"open"===this.state&&this.supportsPing()&&this.socket.ping()}onOpen(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0}onError(e){this.emit("error",{type:"WebSocketError",error:e}),this.timeline.error(this.buildTimelineMessage({error:e.toString()}))}onClose(e){e?this.changeState("closed",{code:e.code,reason:e.reason,wasClean:e.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0}onMessage(e){this.emit("message",e)}onActivity(){this.emit("activity")}bindListeners(){this.socket.onopen=()=>{this.onOpen()},this.socket.onerror=e=>{this.onError(e)},this.socket.onclose=e=>{this.onClose(e)},this.socket.onmessage=e=>{this.onMessage(e)},this.supportsPing()&&(this.socket.onactivity=()=>{this.onActivity()})}unbindListeners(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))}changeState(e,t){this.state=e,this.timeline.info(this.buildTimelineMessage({state:e,params:t})),this.emit(e,t)}buildTimelineMessage(e){return U({cid:this.id},e)}}class eo{constructor(e){this.hooks=e}isSupported(e){return this.hooks.isSupported(e)}createConnection(e,t,n,i){return new es(this.hooks,e,t,n,i)}}var ea=new eo({urls:{getInitial:function(e,t){var n=(t.httpPath||"")+en(e,"flash=false");return et("ws",t,n)}},handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return!!e1.getWebSocketAPI()},isSupported:function(){return!!e1.getWebSocketAPI()},getSocket:function(e){return e1.createWebSocket(e)}}),el={urls:{getInitial:function(e,t){var n=(t.httpPath||"/pusher")+en(e);return et("http",t,n)}},handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},ec=U({getSocket:function(e){return e1.HTTPFactory.createStreamingSocket(e)}},el),eu=U({getSocket:function(e){return e1.HTTPFactory.createPollingSocket(e)}},el),ed={isSupported:function(){return e1.isXHRSupported()}},eh={ws:ea,xhr_streaming:new eo(U({},ec,ed)),xhr_polling:new eo(U({},eu,ed))},ep=new eo({file:"sockjs",urls:{getInitial:function(e,t){return et("http",t,t.httpPath||"/pusher")},getPath:function(e,t){return en(e)}},handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return void 0!==window.SockJS},getSocket:function(e,t){return new window.SockJS(e,null,{js_path:p.getPath("sockjs",{useTLS:t.useTLS}),ignore_null_origin:t.ignoreNullOrigin})},beforeOpen:function(e,t){e.send(JSON.stringify({path:t}))}}),ef={isSupported:function(e){return e1.isXDRSupported(e.useTLS)}},eg=new eo(U({},ec,ef)),ev=new eo(U({},eu,ef));eh.xdr_streaming=eg,eh.xdr_polling=ev,eh.sockjs=ep;var em=new class extends er{constructor(){super();var e=this;void 0!==window.addEventListener&&(window.addEventListener("online",function(){e.emit("online")},!1),window.addEventListener("offline",function(){e.emit("offline")},!1))}isOnline(){return void 0===window.navigator.onLine||window.navigator.onLine}};class eb{constructor(e,t,n){this.manager=e,this.transport=t,this.minPingDelay=n.minPingDelay,this.maxPingDelay=n.maxPingDelay,this.pingDelay=void 0}createConnection(e,t,n,i){i=U({},i,{activityTimeout:this.pingDelay});var r=this.transport.createConnection(e,t,n,i),s=null,o=function(){r.unbind("open",o),r.bind("closed",a),s=L.now()},a=e=>{if(r.unbind("closed",a),1002===e.code||1003===e.code)this.manager.reportDeath();else if(!e.wasClean&&s){var t=L.now()-s;t<2*this.maxPingDelay&&(this.manager.reportDeath(),this.pingDelay=Math.max(t/2,this.minPingDelay))}};return r.bind("open",o),r}isSupported(e){return this.manager.isAlive()&&this.transport.isSupported(e)}}let e_={decodeMessage:function(e){try{var t=JSON.parse(e.data),n=t.data;if("string"==typeof n)try{n=JSON.parse(t.data)}catch(e){}var i={event:t.event,channel:t.channel,data:n};return t.user_id&&(i.user_id=t.user_id),i}catch(t){throw{type:"MessageParseError",error:t,data:e.data}}},encodeMessage:function(e){return JSON.stringify(e)},processHandshake:function(e){var t=e_.decodeMessage(e);if("pusher:connection_established"===t.event){if(!t.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:t.data.socket_id,activityTimeout:1e3*t.data.activity_timeout}}if("pusher:error"===t.event)return{action:this.getCloseAction(t.data),error:this.getCloseError(t.data)};throw"Invalid handshake"},getCloseAction:function(e){return e.code<4e3?e.code>=1002&&e.code<=1004?"backoff":null:4e3===e.code?"tls_only":e.code<4100?"refused":e.code<4200?"backoff":e.code<4300?"retry":"refused"},getCloseError:function(e){return 1e3!==e.code&&1001!==e.code?{type:"PusherError",data:{code:e.code,message:e.reason||e.message}}:null}};class ey extends er{constructor(e,t){super(),this.id=e,this.transport=t,this.activityTimeout=t.activityTimeout,this.bindListeners()}handlesActivityChecks(){return this.transport.handlesActivityChecks()}send(e){return this.transport.send(e)}send_event(e,t,n){var i={event:e,data:t};return n&&(i.channel=n),J.debug("Event sent",i),this.send(e_.encodeMessage(i))}ping(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})}close(){this.transport.close()}bindListeners(){var e={message:e=>{var t;try{t=e_.decodeMessage(e)}catch(t){this.emit("error",{type:"MessageParseError",error:t,data:e.data})}if(void 0!==t){switch(J.debug("Event recd",t),t.event){case"pusher:error":this.emit("error",{type:"PusherError",data:t.data});break;case"pusher:ping":this.emit("ping");break;case"pusher:pong":this.emit("pong")}this.emit("message",t)}},activity:()=>{this.emit("activity")},error:e=>{this.emit("error",e)},closed:e=>{t(),e&&e.code&&this.handleCloseEvent(e),this.transport=null,this.emit("closed")}},t=()=>{F(e,(e,t)=>{this.transport.unbind(t,e)})};F(e,(e,t)=>{this.transport.bind(t,e)})}handleCloseEvent(e){var t=e_.getCloseAction(e),n=e_.getCloseError(e);n&&this.emit("error",n),t&&this.emit(t,{action:t,error:n})}}class ew{constructor(e,t){this.transport=e,this.callback=t,this.bindListeners()}close(){this.unbindListeners(),this.transport.close()}bindListeners(){this.onMessage=e=>{var t;this.unbindListeners();try{t=e_.processHandshake(e)}catch(e){this.finish("error",{error:e}),this.transport.close();return}"connected"===t.action?this.finish("connected",{connection:new ey(t.id,this.transport),activityTimeout:t.activityTimeout}):(this.finish(t.action,{error:t.error}),this.transport.close())},this.onClosed=e=>{this.unbindListeners();var t=e_.getCloseAction(e)||"backoff",n=e_.getCloseError(e);this.finish(t,{error:n})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)}unbindListeners(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)}finish(e,t){this.callback(U({transport:this.transport,action:e},t))}}class eS{constructor(e,t){this.timeline=e,this.options=t||{}}send(e,t){this.timeline.isEmpty()||this.timeline.send(e1.TimelineTransport.getAgent(this,e),t)}}class eR extends er{constructor(e,t){super(function(t,n){J.debug("No callbacks on "+e+" for "+t)}),this.name=e,this.pusher=t,this.subscribed=!1,this.subscriptionPending=!1,this.subscriptionCancelled=!1}authorize(e,t){return t(null,{auth:""})}trigger(e,t){if(0!==e.indexOf("client-"))throw new v("Event '"+e+"' does not start with 'client-'");if(!this.subscribed){var n=g.buildLogSuffix("triggeringClientEvents");J.warn(`Client event triggered before channel 'subscription_succeeded' event . ${n}`)}return this.pusher.send_event(e,t,this.name)}disconnect(){this.subscribed=!1,this.subscriptionPending=!1}handleEvent(e){var t=e.event,n=e.data;"pusher_internal:subscription_succeeded"===t?this.handleSubscriptionSucceededEvent(e):"pusher_internal:subscription_count"===t?this.handleSubscriptionCountEvent(e):0!==t.indexOf("pusher_internal:")&&this.emit(t,n,{})}handleSubscriptionSucceededEvent(e){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",e.data)}handleSubscriptionCountEvent(e){e.data.subscription_count&&(this.subscriptionCount=e.data.subscription_count),this.emit("pusher:subscription_count",e.data)}subscribe(){this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,(e,t)=>{e?(this.subscriptionPending=!1,J.error(e.toString()),this.emit("pusher:subscription_error",Object.assign({},{type:"AuthError",error:e.message},e instanceof C?{status:e.status}:{}))):this.pusher.send_event("pusher:subscribe",{auth:t.auth,channel_data:t.channel_data,channel:this.name})}))}unsubscribe(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})}cancelSubscription(){this.subscriptionCancelled=!0}reinstateSubscription(){this.subscriptionCancelled=!1}}class eC extends eR{authorize(e,t){return this.pusher.config.channelAuthorizer({channelName:this.name,socketId:e},t)}}class eE{constructor(){this.reset()}get(e){return Object.prototype.hasOwnProperty.call(this.members,e)?{id:e,info:this.members[e]}:null}each(e){F(this.members,(t,n)=>{e(this.get(n))})}setMyID(e){this.myID=e}onSubscription(e){this.members=e.presence.hash,this.count=e.presence.count,this.me=this.get(this.myID)}addMember(e){return null===this.get(e.user_id)&&this.count++,this.members[e.user_id]=e.user_info,this.get(e.user_id)}removeMember(e){var t=this.get(e.user_id);return t&&(delete this.members[e.user_id],this.count--),t}reset(){this.members={},this.count=0,this.myID=null,this.me=null}}class eT extends eC{constructor(e,t){super(e,t),this.members=new eE}authorize(e,t){super.authorize(e,(e,n)=>{var i,r,s,o;return i=this,r=void 0,s=void 0,o=function*(){if(!e){if(null!=n.channel_data){var i=JSON.parse(n.channel_data);this.members.setMyID(i.user_id)}else if(yield this.pusher.user.signinDonePromise,null!=this.pusher.user.user_data)this.members.setMyID(this.pusher.user.user_data.id);else{let e=g.buildLogSuffix("authorizationEndpoint");J.error(`Invalid auth response for channel '${this.name}', expected 'channel_data' field. ${e}, or the user should be signed in.`),t("Invalid auth response");return}}t(e,n)},new(s||(s=Promise))(function(e,t){function n(e){try{l(o.next(e))}catch(e){t(e)}}function a(e){try{l(o.throw(e))}catch(e){t(e)}}function l(t){var i;t.done?e(t.value):((i=t.value)instanceof s?i:new s(function(e){e(i)})).then(n,a)}l((o=o.apply(i,r||[])).next())})})}handleEvent(e){var t=e.event;if(0===t.indexOf("pusher_internal:"))this.handleInternalEvent(e);else{var n=e.data,i={};e.user_id&&(i.user_id=e.user_id),this.emit(t,n,i)}}handleInternalEvent(e){var t=e.event,n=e.data;switch(t){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(e);break;case"pusher_internal:subscription_count":this.handleSubscriptionCountEvent(e);break;case"pusher_internal:member_added":var i=this.members.addMember(n);this.emit("pusher:member_added",i);break;case"pusher_internal:member_removed":var r=this.members.removeMember(n);r&&this.emit("pusher:member_removed",r)}}handleSubscriptionSucceededEvent(e){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(e.data),this.emit("pusher:subscription_succeeded",this.members))}disconnect(){this.members.reset(),super.disconnect()}}var ek=n(1),ex=n(0);class eO extends eC{constructor(e,t,n){super(e,t),this.key=null,this.nacl=n}authorize(e,t){super.authorize(e,(e,n)=>{if(e){t(e,n);return}let i=n.shared_secret;if(!i){t(Error(`No shared_secret key in auth payload for encrypted channel: ${this.name}`),null);return}this.key=Object(ex.decode)(i),delete n.shared_secret,t(null,n)})}trigger(e,t){throw new w("Client events are not currently supported for encrypted channels")}handleEvent(e){var t=e.event,n=e.data;if(0===t.indexOf("pusher_internal:")||0===t.indexOf("pusher:")){super.handleEvent(e);return}this.handleEncryptedEvent(t,n)}handleEncryptedEvent(e,t){if(!this.key){J.debug("Received encrypted event before key has been retrieved from the authEndpoint");return}if(!t.ciphertext||!t.nonce){J.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+t);return}let n=Object(ex.decode)(t.ciphertext);if(n.length<this.nacl.secretbox.overheadLength){J.error(`Expected encrypted event ciphertext length to be ${this.nacl.secretbox.overheadLength}, got: ${n.length}`);return}let i=Object(ex.decode)(t.nonce);if(i.length<this.nacl.secretbox.nonceLength){J.error(`Expected encrypted event nonce length to be ${this.nacl.secretbox.nonceLength}, got: ${i.length}`);return}let r=this.nacl.secretbox.open(n,i,this.key);if(null===r){J.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),this.authorize(this.pusher.connection.socket_id,(t,s)=>{if(t){J.error(`Failed to make a request to the authEndpoint: ${s}. Unable to fetch new key, so dropping encrypted event`);return}if(null===(r=this.nacl.secretbox.open(n,i,this.key))){J.error("Failed to decrypt event with new key. Dropping encrypted event");return}this.emit(e,this.getDataToEmit(r))});return}this.emit(e,this.getDataToEmit(r))}getDataToEmit(e){let t=Object(ek.decode)(e);try{return JSON.parse(t)}catch(e){return t}}}class eP extends er{constructor(e,t){super(),this.state="initialized",this.connection=null,this.key=e,this.options=t,this.timeline=this.options.timeline,this.usingTLS=this.options.useTLS,this.errorCallbacks=this.buildErrorCallbacks(),this.connectionCallbacks=this.buildConnectionCallbacks(this.errorCallbacks),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var n=e1.getNetwork();n.bind("online",()=>{this.timeline.info({netinfo:"online"}),("connecting"===this.state||"unavailable"===this.state)&&this.retryIn(0)}),n.bind("offline",()=>{this.timeline.info({netinfo:"offline"}),this.connection&&this.sendActivityCheck()}),this.updateStrategy()}connect(){if(!this.connection&&!this.runner){if(!this.strategy.isSupported()){this.updateState("failed");return}this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()}}send(e){return!!this.connection&&this.connection.send(e)}send_event(e,t,n){return!!this.connection&&this.connection.send_event(e,t,n)}disconnect(){this.disconnectInternally(),this.updateState("disconnected")}isUsingTLS(){return this.usingTLS}startConnecting(){var e=(t,n)=>{t?this.runner=this.strategy.connect(0,e):"error"===n.action?(this.emit("error",{type:"HandshakeError",error:n.error}),this.timeline.error({handshakeError:n.error})):(this.abortConnecting(),this.handshakeCallbacks[n.action](n))};this.runner=this.strategy.connect(0,e)}abortConnecting(){this.runner&&(this.runner.abort(),this.runner=null)}disconnectInternally(){this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection&&this.abandonConnection().close()}updateStrategy(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})}retryIn(e){this.timeline.info({action:"retry",delay:e}),e>0&&this.emit("connecting_in",Math.round(e/1e3)),this.retryTimer=new N(e||0,()=>{this.disconnectInternally(),this.connect()})}clearRetryTimer(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)}setUnavailableTimer(){this.unavailableTimer=new N(this.options.unavailableTimeout,()=>{this.updateState("unavailable")})}clearUnavailableTimer(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()}sendActivityCheck(){this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new N(this.options.pongTimeout,()=>{this.timeline.error({pong_timed_out:this.options.pongTimeout}),this.retryIn(0)})}resetActivityCheck(){this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new N(this.activityTimeout,()=>{this.sendActivityCheck()}))}stopActivityCheck(){this.activityTimer&&this.activityTimer.ensureAborted()}buildConnectionCallbacks(e){return U({},e,{message:e=>{this.resetActivityCheck(),this.emit("message",e)},ping:()=>{this.send_event("pusher:pong",{})},activity:()=>{this.resetActivityCheck()},error:e=>{this.emit("error",e)},closed:()=>{this.abandonConnection(),this.shouldRetry()&&this.retryIn(1e3)}})}buildHandshakeCallbacks(e){return U({},e,{connected:e=>{this.activityTimeout=Math.min(this.options.activityTimeout,e.activityTimeout,e.connection.activityTimeout||1/0),this.clearUnavailableTimer(),this.setConnection(e.connection),this.socket_id=this.connection.id,this.updateState("connected",{socket_id:this.socket_id})}})}buildErrorCallbacks(){let e=e=>t=>{t.error&&this.emit("error",{type:"WebSocketError",error:t.error}),e(t)};return{tls_only:e(()=>{this.usingTLS=!0,this.updateStrategy(),this.retryIn(0)}),refused:e(()=>{this.disconnect()}),backoff:e(()=>{this.retryIn(1e3)}),retry:e(()=>{this.retryIn(0)})}}setConnection(e){for(var t in this.connection=e,this.connectionCallbacks)this.connection.bind(t,this.connectionCallbacks[t]);this.resetActivityCheck()}abandonConnection(){if(this.connection){for(var e in this.stopActivityCheck(),this.connectionCallbacks)this.connection.unbind(e,this.connectionCallbacks[e]);var t=this.connection;return this.connection=null,t}}updateState(e,t){var n=this.state;if(this.state=e,n!==e){var i=e;"connected"===i&&(i+=" with new socket ID "+t.socket_id),J.debug("State changed",n+" -> "+i),this.timeline.info({state:e,params:t}),this.emit("state_change",{previous:n,current:e}),this.emit(e,t)}}shouldRetry(){return"connecting"===this.state||"connected"===this.state}}class eD{constructor(){this.channels={}}add(e,t){return this.channels[e]||(this.channels[e]=function(e,t){if(0===e.indexOf("private-encrypted-")){if(t.config.nacl)return eA.createEncryptedChannel(e,t,t.config.nacl);let n=g.buildLogSuffix("encryptedChannelSupport");throw new w(`Tried to subscribe to a private-encrypted- channel but no nacl implementation available. ${n}`)}if(0===e.indexOf("private-"))return eA.createPrivateChannel(e,t);if(0===e.indexOf("presence-"))return eA.createPresenceChannel(e,t);if(0!==e.indexOf("#"))return eA.createChannel(e,t);throw new m('Cannot create a channel with name "'+e+'".')}(e,t)),this.channels[e]}all(){var e,t;return e=this.channels,t=[],F(e,function(e){t.push(e)}),t}find(e){return this.channels[e]}remove(e){var t=this.channels[e];return delete this.channels[e],t}disconnect(){F(this.channels,function(e){e.disconnect()})}}var eA={createChannels:()=>new eD,createConnectionManager:(e,t)=>new eP(e,t),createChannel:(e,t)=>new eR(e,t),createPrivateChannel:(e,t)=>new eC(e,t),createPresenceChannel:(e,t)=>new eT(e,t),createEncryptedChannel:(e,t,n)=>new eO(e,t,n),createTimelineSender:(e,t)=>new eS(e,t),createHandshake:(e,t)=>new ew(e,t),createAssistantToTheTransportManager:(e,t,n)=>new eb(e,t,n)};class eI{constructor(e){this.options=e||{},this.livesLeft=this.options.lives||1/0}getAssistant(e){return eA.createAssistantToTheTransportManager(this,e,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})}isAlive(){return this.livesLeft>0}reportDeath(){this.livesLeft-=1}}class eH{constructor(e,t){this.strategies=e,this.loop=!!t.loop,this.failFast=!!t.failFast,this.timeout=t.timeout,this.timeoutLimit=t.timeoutLimit}isSupported(){return X(this.strategies,L.method("isSupported"))}connect(e,t){var n=this.strategies,i=0,r=this.timeout,s=null,o=(a,l)=>{l?t(null,l):(i+=1,this.loop&&(i%=n.length),i<n.length?(r&&(r*=2,this.timeoutLimit&&(r=Math.min(r,this.timeoutLimit))),s=this.tryStrategy(n[i],e,{timeout:r,failFast:this.failFast},o)):t(!0))};return s=this.tryStrategy(n[i],e,{timeout:r,failFast:this.failFast},o),{abort:function(){s.abort()},forceMinPriority:function(t){e=t,s&&s.forceMinPriority(t)}}}tryStrategy(e,t,n,i){var r=null,s=null;return n.timeout>0&&(r=new N(n.timeout,function(){s.abort(),i(!0)})),s=e.connect(t,function(e,t){(!(e&&r&&r.isRunning())||n.failFast)&&(r&&r.ensureAborted(),i(e,t))}),{abort:function(){r&&r.ensureAborted(),s.abort()},forceMinPriority:function(e){s.forceMinPriority(e)}}}}class ez{constructor(e){this.strategies=e}isSupported(){return X(this.strategies,L.method("isSupported"))}connect(e,t){var n;return n=G(this.strategies,function(n,i,r,s){var o,a;return n.connect(e,(o=i,a=s,function(e,n){if(a[o].error=e,e){(function(e,t){for(var n=0;n<e.length;n++)if(!t(e[n],n,e))return!1;return!0})(a,function(e){return!!e.error})&&t(!0);return}q(a,function(e){e.forceMinPriority(n.transport.priority)}),t(null,n)}))}),{abort:function(){q(n,eM)},forceMinPriority:function(e){q(n,function(t){t.forceMinPriority(e)})}}}}function eM(e){e.error||e.aborted||(e.abort(),e.aborted=!0)}class eN{constructor(e,t,n){this.strategy=e,this.transports=t,this.ttl=n.ttl||18e5,this.usingTLS=n.useTLS,this.timeline=n.timeline}isSupported(){return this.strategy.isSupported()}connect(e,t){var n=this.usingTLS,i=function(e){var t=e1.getLocalStorage();if(t)try{var n=t[ej(e)];if(n)return JSON.parse(n)}catch(t){eL(e)}return null}(n),r=i&&i.cacheSkipCount?i.cacheSkipCount:0,s=[this.strategy];if(i&&i.timestamp+this.ttl>=L.now()){var o=this.transports[i.transport];o&&(["ws","wss"].includes(i.transport)||r>3?(this.timeline.info({cached:!0,transport:i.transport,latency:i.latency}),s.push(new eH([o],{timeout:2*i.latency+1e3,failFast:!0}))):r++)}var a=L.now(),l=s.pop().connect(e,function i(o,c){o?(eL(n),s.length>0?(a=L.now(),l=s.pop().connect(e,i)):t(o)):(function(e,t,n,i){var r=e1.getLocalStorage();if(r)try{r[ej(e)]=Z({timestamp:L.now(),transport:t,latency:n,cacheSkipCount:i})}catch(e){}}(n,c.transport.name,L.now()-a,r),t(null,c))});return{abort:function(){l.abort()},forceMinPriority:function(t){e=t,l&&l.forceMinPriority(t)}}}}function ej(e){return"pusherTransport"+(e?"TLS":"NonTLS")}function eL(e){var t=e1.getLocalStorage();if(t)try{delete t[ej(e)]}catch(e){}}class eU{constructor(e,{delay:t}){this.strategy=e,this.options={delay:t}}isSupported(){return this.strategy.isSupported()}connect(e,t){var n,i=this.strategy,r=new N(this.options.delay,function(){n=i.connect(e,t)});return{abort:function(){r.ensureAborted(),n&&n.abort()},forceMinPriority:function(t){e=t,n&&n.forceMinPriority(t)}}}}class eV{constructor(e,t,n){this.test=e,this.trueBranch=t,this.falseBranch=n}isSupported(){return(this.test()?this.trueBranch:this.falseBranch).isSupported()}connect(e,t){return(this.test()?this.trueBranch:this.falseBranch).connect(e,t)}}class eW{constructor(e){this.strategy=e}isSupported(){return this.strategy.isSupported()}connect(e,t){var n=this.strategy.connect(e,function(e,i){i&&n.abort(),t(e,i)});return n}}function eF(e){return function(){return e.isSupported()}}var eB={getRequest:function(e){var t=new window.XDomainRequest;return t.ontimeout=function(){e.emit("error",new b),e.close()},t.onerror=function(t){e.emit("error",t),e.close()},t.onprogress=function(){t.responseText&&t.responseText.length>0&&e.onChunk(200,t.responseText)},t.onload=function(){t.responseText&&t.responseText.length>0&&e.onChunk(200,t.responseText),e.emit("finished",200),e.close()},t},abortRequest:function(e){e.ontimeout=e.onerror=e.onprogress=e.onload=null,e.abort()}};class eq extends er{constructor(e,t,n){super(),this.hooks=e,this.method=t,this.url=n}start(e){this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=()=>{this.close()},e1.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(e)}close(){this.unloader&&(e1.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)}onChunk(e,t){for(;;){var n=this.advanceBuffer(t);if(n)this.emit("chunk",{status:e,data:n});else break}this.isBufferTooLong(t)&&this.emit("buffer_too_long")}advanceBuffer(e){var t=e.slice(this.position),n=t.indexOf("\n");return -1!==n?(this.position+=n+1,t.slice(0,n)):null}isBufferTooLong(e){return this.position===e.length&&e.length>262144}}(s=l||(l={}))[s.CONNECTING=0]="CONNECTING",s[s.OPEN=1]="OPEN",s[s.CLOSED=3]="CLOSED";var eG=l,eY=1;function e$(e){var t=-1===e.indexOf("?")?"?":"&";return e+t+"t="+ +new Date+"&n="+eY++}function eX(e){return e1.randomInt(e)}var eZ=class{constructor(e,t){var n;this.hooks=e,this.session=eX(1e3)+"/"+function(e){for(var t=[],n=0;n<8;n++)t.push(eX(32).toString(32));return t.join("")}(0),this.location={base:(n=/([^\?]*)\/*(\??.*)/.exec(t))[1],queryString:n[2]},this.readyState=eG.CONNECTING,this.openStream()}send(e){return this.sendRaw(JSON.stringify([e]))}ping(){this.hooks.sendHeartbeat(this)}close(e,t){this.onClose(e,t,!0)}sendRaw(e){if(this.readyState!==eG.OPEN)return!1;try{var t,n;return e1.createSocketRequest("POST",e$((t=this.location,n=this.session,t.base+"/"+n+"/xhr_send"))).start(e),!0}catch(e){return!1}}reconnect(){this.closeStream(),this.openStream()}onClose(e,t,n){this.closeStream(),this.readyState=eG.CLOSED,this.onclose&&this.onclose({code:e,reason:t,wasClean:n})}onChunk(e){if(200===e.status)switch(this.readyState===eG.OPEN&&this.onActivity(),e.data.slice(0,1)){case"o":t=JSON.parse(e.data.slice(1)||"{}"),this.onOpen(t);break;case"a":t=JSON.parse(e.data.slice(1)||"[]");for(var t,n=0;n<t.length;n++)this.onEvent(t[n]);break;case"m":t=JSON.parse(e.data.slice(1)||"null"),this.onEvent(t);break;case"h":this.hooks.onHeartbeat(this);break;case"c":t=JSON.parse(e.data.slice(1)||"[]"),this.onClose(t[0],t[1],!0)}}onOpen(e){var t,n,i;this.readyState===eG.CONNECTING?(e&&e.hostname&&(this.location.base=(t=this.location.base,n=e.hostname,(i=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(t))[1]+n+i[3])),this.readyState=eG.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)}onEvent(e){this.readyState===eG.OPEN&&this.onmessage&&this.onmessage({data:e})}onActivity(){this.onactivity&&this.onactivity()}onError(e){this.onerror&&this.onerror(e)}openStream(){this.stream=e1.createSocketRequest("POST",e$(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",e=>{this.onChunk(e)}),this.stream.bind("finished",e=>{this.hooks.onFinished(this,e)}),this.stream.bind("buffer_too_long",()=>{this.reconnect()});try{this.stream.start()}catch(e){L.defer(()=>{this.onError(e),this.onClose(1006,"Could not start streaming",!1)})}}closeStream(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)}},eJ={getReceiveURL:function(e,t){return e.base+"/"+t+"/xhr_streaming"+e.queryString},onHeartbeat:function(e){e.sendRaw("[]")},sendHeartbeat:function(e){e.sendRaw("[]")},onFinished:function(e,t){e.onClose(1006,"Connection interrupted ("+t+")",!1)}},eQ={getReceiveURL:function(e,t){return e.base+"/"+t+"/xhr"+e.queryString},onHeartbeat:function(){},sendHeartbeat:function(e){e.sendRaw("[]")},onFinished:function(e,t){200===t?e.reconnect():e.onClose(1006,"Connection interrupted ("+t+")",!1)}},eK={getRequest:function(e){var t=new(e1.getXHRAPI());return t.onreadystatechange=t.onprogress=function(){switch(t.readyState){case 3:t.responseText&&t.responseText.length>0&&e.onChunk(t.status,t.responseText);break;case 4:t.responseText&&t.responseText.length>0&&e.onChunk(t.status,t.responseText),e.emit("finished",t.status),e.close()}},t},abortRequest:function(e){e.onreadystatechange=null,e.abort()}},e0={createStreamingSocket(e){return this.createSocket(eJ,e)},createPollingSocket(e){return this.createSocket(eQ,e)},createSocket:(e,t)=>new eZ(e,t),createXHR(e,t){return this.createRequest(eK,e,t)},createRequest:(e,t,n)=>new eq(e,t,n)};e0.createXDR=function(e,t){return this.createRequest(eB,e,t)};var e1={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:u,DependenciesReceivers:h,getDefaultStrategy:function(e,t,n){var i,r={};function s(t,i,s,o,a){var l=n(e,t,i,s,o,a);return r[t]=l,l}var o=Object.assign({},t,{hostNonTLS:e.wsHost+":"+e.wsPort,hostTLS:e.wsHost+":"+e.wssPort,httpPath:e.wsPath}),a=Object.assign({},o,{useTLS:!0}),l=Object.assign({},t,{hostNonTLS:e.httpHost+":"+e.httpPort,hostTLS:e.httpHost+":"+e.httpsPort,httpPath:e.httpPath}),c={loop:!0,timeout:15e3,timeoutLimit:6e4},u=new eI({minPingDelay:1e4,maxPingDelay:e.activityTimeout}),d=new eI({lives:2,minPingDelay:1e4,maxPingDelay:e.activityTimeout}),h=s("ws","ws",3,o,u),p=s("wss","ws",3,a,u),f=s("sockjs","sockjs",1,l),g=s("xhr_streaming","xhr_streaming",1,l,d),v=s("xdr_streaming","xdr_streaming",1,l,d),m=s("xhr_polling","xhr_polling",1,l),b=s("xdr_polling","xdr_polling",1,l),_=new eH([h],c),y=new eH([p],c),w=new eH([f],c),S=new eH([new eV(eF(g),g,v)],c),R=new eH([new eV(eF(m),m,b)],c),C=new eH([new eV(eF(S),new ez([S,new eU(R,{delay:4e3})]),R)],c),E=new eV(eF(C),C,w);return i=new ez(t.useTLS?[_,new eU(E,{delay:2e3})]:[_,new eU(y,{delay:2e3}),new eU(E,{delay:5e3})]),new eN(new eW(new eV(eF(h),i,E)),r,{ttl:18e5,timeline:t.timeline,useTLS:t.useTLS})},Transports:eh,transportConnectionInitializer:function(){var e=this;e.timeline.info(e.buildTimelineMessage({transport:e.name+(e.options.useTLS?"s":"")})),e.hooks.isInitialized()?e.changeState("initialized"):e.hooks.file?(e.changeState("initializing"),p.load(e.hooks.file,{useTLS:e.options.useTLS},function(t,n){e.hooks.isInitialized()?(e.changeState("initialized"),n(!0)):(t&&e.onError(t),e.onClose(),n(!1))})):e.onClose()},HTTPFactory:e0,TimelineTransport:{name:"jsonp",getAgent:function(e,t){return function(n,i){var r="http"+(t?"s":"")+"://"+(e.host||e.options.host)+e.options.path,s=e1.createJSONPRequest(r,n),o=e1.ScriptReceivers.create(function(t,n){u.remove(o),s.cleanup(),n&&n.host&&(e.host=n.host),i&&i(t,n)});s.send(o)}}},getXHRAPI:()=>window.XMLHttpRequest,getWebSocketAPI:()=>window.WebSocket||window.MozWebSocket,setup(e){window.Pusher=e;var t=()=>{this.onDocumentBody(e.ready)};window.JSON?t():p.load("json2",{},t)},getDocument:()=>document,getProtocol(){return this.getDocument().location.protocol},getAuthorizers:()=>({ajax:E,jsonp:Q}),onDocumentBody(e){document.body?e():setTimeout(()=>{this.onDocumentBody(e)},0)},createJSONPRequest:(e,t)=>new ee(e,t),createScriptRequest:e=>new K(e),getLocalStorage(){try{return window.localStorage}catch(e){return}},createXHR(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest(){return new(this.getXHRAPI())},createMicrosoftXHR:()=>new ActiveXObject("Microsoft.XMLHTTP"),getNetwork:()=>em,createWebSocket(e){return new(this.getWebSocketAPI())(e)},createSocketRequest(e,t){if(this.isXHRSupported())return this.HTTPFactory.createXHR(e,t);if(this.isXDRSupported(0===t.indexOf("https:")))return this.HTTPFactory.createXDR(e,t);throw"Cross-origin HTTP requests are not supported"},isXHRSupported(){var e=this.getXHRAPI();return!!e&&void 0!==new e().withCredentials},isXDRSupported(e){var t=this.getProtocol();return!!window.XDomainRequest&&t===(e?"https:":"http:")},addUnloadListener(e){void 0!==window.addEventListener?window.addEventListener("unload",e,!1):void 0!==window.attachEvent&&window.attachEvent("onunload",e)},removeUnloadListener(e){void 0!==window.addEventListener?window.removeEventListener("unload",e,!1):void 0!==window.detachEvent&&window.detachEvent("onunload",e)},randomInt:e=>Math.floor(function(){let e=window.crypto||window.msCrypto,t=e.getRandomValues(new Uint32Array(1))[0];return t/4294967296}()*e)};(o=c||(c={}))[o.ERROR=3]="ERROR",o[o.INFO=6]="INFO",o[o.DEBUG=7]="DEBUG";var e2=c;class e6{constructor(e,t,n){this.key=e,this.session=t,this.events=[],this.options=n||{},this.sent=0,this.uniqueID=0}log(e,t){e<=this.options.level&&(this.events.push(U({},t,{timestamp:L.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())}error(e){this.log(e2.ERROR,e)}info(e){this.log(e2.INFO,e)}debug(e){this.log(e2.DEBUG,e)}isEmpty(){return 0===this.events.length}send(e,t){var n=U({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],e(n,(e,n)=>{!e&&this.sent++,t&&t(e,n)}),!0}generateUniqueID(){return this.uniqueID++,this.uniqueID}}class e3{constructor(e,t,n,i){this.name=e,this.priority=t,this.transport=n,this.options=i||{}}isSupported(){return this.transport.isSupported({useTLS:this.options.useTLS})}connect(e,t){if(!this.isSupported())return e4(new R,t);if(this.priority<e)return e4(new _,t);var n=!1,i=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),r=null,s=function(){i.unbind("initialized",s),i.connect()},o=function(){r=eA.createHandshake(i,function(e){n=!0,c(),t(null,e)})},a=function(e){c(),t(e)},l=function(){var e;c(),e=Z(i),t(new y(e))},c=function(){i.unbind("initialized",s),i.unbind("open",o),i.unbind("error",a),i.unbind("closed",l)};return i.bind("initialized",s),i.bind("open",o),i.bind("error",a),i.bind("closed",l),i.initialize(),{abort:()=>{n||(c(),r?r.close():i.close())},forceMinPriority:e=>{!n&&this.priority<e&&(r?r.close():i.close())}}}}function e4(e,t){return L.defer(function(){t(e)}),{abort:function(){},forceMinPriority:function(){}}}let{Transports:e8}=e1;var e5=function(e,t,n,i,r,s){var o,a=e8[n];if(!a)throw new S(n);return e.enabledTransports&&-1===W(e.enabledTransports,t)||e.disabledTransports&&-1!==W(e.disabledTransports,t)?o=e9:(r=Object.assign({ignoreNullOrigin:e.ignoreNullOrigin},r),o=new e3(t,i,s?s.getAssistant(a):a,r)),o},e9={isSupported:function(){return!1},connect:function(e,t){var n=L.defer(function(){t(new R)});return{abort:function(){n.ensureAborted()},forceMinPriority:function(){}}}};let e7=(e,t)=>{var n="socket_id="+encodeURIComponent(e.socketId);for(var i in t.params)n+="&"+encodeURIComponent(i)+"="+encodeURIComponent(t.params[i]);if(null!=t.paramsProvider){let e=t.paramsProvider();for(var i in e)n+="&"+encodeURIComponent(i)+"="+encodeURIComponent(e[i])}return n};var te=e=>{if(void 0===e1.getAuthorizers()[e.transport])throw`'${e.transport}' is not a recognized auth transport`;return(t,n)=>{let i=e7(t,e);e1.getAuthorizers()[e.transport](e1,i,e,a.UserAuthentication,n)}};let tt=(e,t)=>{var n="socket_id="+encodeURIComponent(e.socketId);for(var i in n+="&channel_name="+encodeURIComponent(e.channelName),t.params)n+="&"+encodeURIComponent(i)+"="+encodeURIComponent(t.params[i]);if(null!=t.paramsProvider){let e=t.paramsProvider();for(var i in e)n+="&"+encodeURIComponent(i)+"="+encodeURIComponent(e[i])}return n};var tn=e=>{if(void 0===e1.getAuthorizers()[e.transport])throw`'${e.transport}' is not a recognized auth transport`;return(t,n)=>{let i=tt(t,e);e1.getAuthorizers()[e.transport](e1,i,e,a.ChannelAuthorization,n)}};let ti=(e,t,n)=>{let i={authTransport:t.transport,authEndpoint:t.endpoint,auth:{params:t.params,headers:t.headers}};return(t,r)=>{let s=e.channel(t.channelName),o=n(s,i);o.authorize(t.socketId,r)}};class tr extends er{constructor(e){super(function(e,t){J.debug(`No callbacks on watchlist events for ${e}`)}),this.pusher=e,this.bindWatchlistInternalEvent()}handleEvent(e){e.data.events.forEach(e=>{this.emit(e.name,e)})}bindWatchlistInternalEvent(){this.pusher.connection.bind("message",e=>{"pusher_internal:watchlist_events"===e.event&&this.handleEvent(e)})}}var ts=function(){let e,t;let n=new Promise((n,i)=>{e=n,t=i});return{promise:n,resolve:e,reject:t}};class to extends er{constructor(e){super(function(e,t){J.debug("No callbacks on user for "+e)}),this.signin_requested=!1,this.user_data=null,this.serverToUserChannel=null,this.signinDonePromise=null,this._signinDoneResolve=null,this._onAuthorize=(e,t)=>{if(e){J.warn(`Error during signin: ${e}`),this._cleanup();return}this.pusher.send_event("pusher:signin",{auth:t.auth,user_data:t.user_data})},this.pusher=e,this.pusher.connection.bind("state_change",({previous:e,current:t})=>{"connected"!==e&&"connected"===t&&this._signin(),"connected"===e&&"connected"!==t&&(this._cleanup(),this._newSigninPromiseIfNeeded())}),this.watchlist=new tr(e),this.pusher.connection.bind("message",e=>{"pusher:signin_success"===e.event&&this._onSigninSuccess(e.data),this.serverToUserChannel&&this.serverToUserChannel.name===e.channel&&this.serverToUserChannel.handleEvent(e)})}signin(){this.signin_requested||(this.signin_requested=!0,this._signin())}_signin(){this.signin_requested&&(this._newSigninPromiseIfNeeded(),"connected"===this.pusher.connection.state&&this.pusher.config.userAuthenticator({socketId:this.pusher.connection.socket_id},this._onAuthorize))}_onSigninSuccess(e){try{this.user_data=JSON.parse(e.user_data)}catch(t){J.error(`Failed parsing user data after signin: ${e.user_data}`),this._cleanup();return}if("string"!=typeof this.user_data.id||""===this.user_data.id){J.error(`user_data doesn't contain an id. user_data: ${this.user_data}`),this._cleanup();return}this._signinDoneResolve(),this._subscribeChannels()}_subscribeChannels(){this.serverToUserChannel=new eR(`#server-to-user-${this.user_data.id}`,this.pusher),this.serverToUserChannel.bind_global((e,t)=>{0!==e.indexOf("pusher_internal:")&&0!==e.indexOf("pusher:")&&this.emit(e,t)}),(e=>{e.subscriptionPending&&e.subscriptionCancelled?e.reinstateSubscription():e.subscriptionPending||"connected"!==this.pusher.connection.state||e.subscribe()})(this.serverToUserChannel)}_cleanup(){this.user_data=null,this.serverToUserChannel&&(this.serverToUserChannel.unbind_all(),this.serverToUserChannel.disconnect(),this.serverToUserChannel=null),this.signin_requested&&this._signinDoneResolve()}_newSigninPromiseIfNeeded(){if(!this.signin_requested||this.signinDonePromise&&!this.signinDonePromise.done)return;let{promise:e,resolve:t,reject:n}=ts();e.done=!1;let i=()=>{e.done=!0};e.then(i).catch(i),this.signinDonePromise=e,this._signinDoneResolve=t}}class ta{static ready(){ta.isReady=!0;for(var e=0,t=ta.instances.length;e<t;e++)ta.instances[e].connect()}static getClientFeatures(){return B($({ws:e1.Transports.ws},function(e){return e.isSupported({})}))}constructor(e,t){let n;(function(e){if(null==e)throw"You must pass your app key when you instantiate Pusher."})(e),function(e){if(null==e)throw"You must pass an options object";if(null==e.cluster)throw"Options object must provide a cluster";"disableStats"in e&&J.warn("The disableStats option is deprecated in favor of enableStats")}(t),this.key=e,this.config=(n={activityTimeout:t.activityTimeout||d.activityTimeout,cluster:t.cluster,httpPath:t.httpPath||d.httpPath,httpPort:t.httpPort||d.httpPort,httpsPort:t.httpsPort||d.httpsPort,pongTimeout:t.pongTimeout||d.pongTimeout,statsHost:t.statsHost||d.stats_host,unavailableTimeout:t.unavailableTimeout||d.unavailableTimeout,wsPath:t.wsPath||d.wsPath,wsPort:t.wsPort||d.wsPort,wssPort:t.wssPort||d.wssPort,enableStats:"enableStats"in t?t.enableStats:"disableStats"in t&&!t.disableStats,httpHost:t.httpHost?t.httpHost:t.cluster?`sockjs-${t.cluster}.pusher.com`:d.httpHost,useTLS:function(e){if("https:"===e1.getProtocol());else if(!1===e.forceTLS)return!1;return!0}(t),wsHost:t.wsHost?t.wsHost:`ws-${t.cluster}.pusher.com`,userAuthenticator:function(e){let t=Object.assign(Object.assign({},d.userAuthentication),e.userAuthentication);return"customHandler"in t&&null!=t.customHandler?t.customHandler:te(t)}(t),channelAuthorizer:function(e,t){let n;let i=("channelAuthorization"in e?n=Object.assign(Object.assign({},d.channelAuthorization),e.channelAuthorization):(n={transport:e.authTransport||d.authTransport,endpoint:e.authEndpoint||d.authEndpoint},"auth"in e&&("params"in e.auth&&(n.params=e.auth.params),"headers"in e.auth&&(n.headers=e.auth.headers)),"authorizer"in e&&(n.customHandler=ti(t,n,e.authorizer))),n);return"customHandler"in i&&null!=i.customHandler?i.customHandler:tn(i)}(t,this)},"disabledTransports"in t&&(n.disabledTransports=t.disabledTransports),"enabledTransports"in t&&(n.enabledTransports=t.enabledTransports),"ignoreNullOrigin"in t&&(n.ignoreNullOrigin=t.ignoreNullOrigin),"timelineParams"in t&&(n.timelineParams=t.timelineParams),"nacl"in t&&(n.nacl=t.nacl),n),this.channels=eA.createChannels(),this.global_emitter=new er,this.sessionID=e1.randomInt(1e9),this.timeline=new e6(this.key,this.sessionID,{cluster:this.config.cluster,features:ta.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:e2.INFO,version:d.VERSION}),this.config.enableStats&&(this.timelineSender=eA.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+e1.TimelineTransport.name})),this.connection=eA.createConnectionManager(this.key,{getStrategy:e=>e1.getDefaultStrategy(this.config,e,e5),timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:!!this.config.useTLS}),this.connection.bind("connected",()=>{this.subscribeAll(),this.timelineSender&&this.timelineSender.send(this.connection.isUsingTLS())}),this.connection.bind("message",e=>{var t=0===e.event.indexOf("pusher_internal:");if(e.channel){var n=this.channel(e.channel);n&&n.handleEvent(e)}t||this.global_emitter.emit(e.event,e.data)}),this.connection.bind("connecting",()=>{this.channels.disconnect()}),this.connection.bind("disconnected",()=>{this.channels.disconnect()}),this.connection.bind("error",e=>{J.warn(e)}),ta.instances.push(this),this.timeline.info({instances:ta.instances.length}),this.user=new to(this),ta.isReady&&this.connect()}channel(e){return this.channels.find(e)}allChannels(){return this.channels.all()}connect(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var e=this.connection.isUsingTLS(),t=this.timelineSender;this.timelineSenderTimer=new j(6e4,function(){t.send(e)})}}disconnect(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)}bind(e,t,n){return this.global_emitter.bind(e,t,n),this}unbind(e,t,n){return this.global_emitter.unbind(e,t,n),this}bind_global(e){return this.global_emitter.bind_global(e),this}unbind_global(e){return this.global_emitter.unbind_global(e),this}unbind_all(e){return this.global_emitter.unbind_all(),this}subscribeAll(){var e;for(e in this.channels.channels)this.channels.channels.hasOwnProperty(e)&&this.subscribe(e)}subscribe(e){var t=this.channels.add(e,this);return t.subscriptionPending&&t.subscriptionCancelled?t.reinstateSubscription():t.subscriptionPending||"connected"!==this.connection.state||t.subscribe(),t}unsubscribe(e){var t=this.channels.find(e);t&&t.subscriptionPending?t.cancelSubscription():(t=this.channels.remove(e))&&t.subscribed&&t.unsubscribe()}send_event(e,t,n){return this.connection.send_event(e,t,n)}shouldUseTLS(){return this.config.useTLS}signin(){this.user.signin()}}ta.instances=[],ta.isReady=!1,ta.logToConsole=!1,ta.Runtime=e1,ta.ScriptReceivers=e1.ScriptReceivers,ta.DependenciesReceivers=e1.DependenciesReceivers,ta.auth_callbacks=e1.auth_callbacks;var tl=t.default=ta;e1.setup(ta)}])},8982:function(e,t,n){"use strict";n.d(t,{f:function(){return ei},rx:function(){return d}});var i=n(8345),r=n(8049);n(4353);let s=[],o={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},a=Object.assign(Object.assign({},o),{buttonHints:{prev:"Previous $0",next:"Next $0",today:(e,t)=>"day"===t?"Today":`This ${e}`},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint:e=>`Show ${e} more event${1===e?"":"s"}`});function l(e){let t=e.length>0?e[0].code:"en",n=s.concat(e),i={en:a};for(let e of n)i[e.code]=e;return{map:i,defaultCode:t}}function c(e,t){let n,i;return"object"!=typeof e||Array.isArray(e)?(i=function(e,t){for(let n=0;n<e.length;n+=1){let i=e[n].toLocaleLowerCase().split("-");for(let e=i.length;e>0;e-=1){let n=i.slice(0,e).join("-");if(t[n])return t[n]}}return null}(n=[].concat(e||[]),t)||a,u(e,n,i)):u(e.code,[e.code],e)}function u(e,t,n){let r=(0,i.m)([o,n],["buttonText"]);delete r.code;let{week:s}=r;return delete r.week,{codeArg:e,codes:t,week:s,simpleNumberFormat:new Intl.NumberFormat(e),options:r}}function d(e){return{id:(0,i.g)(),name:e.name,premiumReleaseDate:e.premiumReleaseDate?new Date(e.premiumReleaseDate):void 0,deps:e.deps||[],reducers:e.reducers||[],isLoadingFuncs:e.isLoadingFuncs||[],contextInit:[].concat(e.contextInit||[]),eventRefiners:e.eventRefiners||{},eventDefMemberAdders:e.eventDefMemberAdders||[],eventSourceRefiners:e.eventSourceRefiners||{},isDraggableTransformers:e.isDraggableTransformers||[],eventDragMutationMassagers:e.eventDragMutationMassagers||[],eventDefMutationAppliers:e.eventDefMutationAppliers||[],dateSelectionTransformers:e.dateSelectionTransformers||[],datePointTransforms:e.datePointTransforms||[],dateSpanTransforms:e.dateSpanTransforms||[],views:e.views||{},viewPropsTransformers:e.viewPropsTransformers||[],isPropsValid:e.isPropsValid||null,externalDefTransforms:e.externalDefTransforms||[],viewContainerAppends:e.viewContainerAppends||[],eventDropTransformers:e.eventDropTransformers||[],componentInteractions:e.componentInteractions||[],calendarInteractions:e.calendarInteractions||[],themeClasses:e.themeClasses||{},eventSourceDefs:e.eventSourceDefs||[],cmdFormatter:e.cmdFormatter,recurringTypes:e.recurringTypes||[],namedTimeZonedImpl:e.namedTimeZonedImpl,initialView:e.initialView||"",elementDraggingImpl:e.elementDraggingImpl,optionChangeHandlers:e.optionChangeHandlers||{},scrollGridImpl:e.scrollGridImpl||null,listenerRefiners:e.listenerRefiners||{},optionRefiners:e.optionRefiners||{},propSetHandlers:e.propSetHandlers||{}}}class h extends i.T{}function p(e,t,n,i){if(t[e])return t[e];let r=function(e,t,n,i){let r=n[e],s=i[e],o=e=>r&&null!==r[e]?r[e]:s&&null!==s[e]?s[e]:null,a=o("component"),l=o("superType"),c=null;if(l){if(l===e)throw Error("Can't have a custom view type that references itself");c=p(l,t,n,i)}return(!a&&c&&(a=c.component),a)?{type:e,component:a,defaults:Object.assign(Object.assign({},c?c.defaults:{}),r?r.rawOptions:{}),overrides:Object.assign(Object.assign({},c?c.overrides:{}),s?s.rawOptions:{})}:null}(e,t,n,i);return r&&(t[e]=r),r}function f(e){let t="function"==typeof e?{component:e}:e,{component:n}=t;return t.content?n=g(t):!n||n.prototype instanceof i.B||(n=g(Object.assign(Object.assign({},t),{content:n}))),{superType:t.type,component:n,rawOptions:t}}function g(e){return t=>(0,r.az)(i.V.Consumer,null,n=>(0,r.az)(i.C,{elTag:"div",elClasses:(0,i.b)(n.viewSpec),renderProps:Object.assign(Object.assign({},t),{nextDayThreshold:n.options.nextDayThreshold}),generatorName:void 0,customGenerator:e.content,classNameGenerator:e.classNames,didMount:e.didMount,willUnmount:e.willUnmount}))}function v(e,t,n,r){var s;let o=(0,i.a)(e,f),a=(s=t.views,(0,i.a)(s,f)),l=function(e,t){let n,i={};for(n in e)p(n,i,e,t);for(n in t)p(n,i,e,t);return i}(o,a);return(0,i.a)(l,e=>(function(e,t,n,r,s){let o,a,l=e.overrides.duration||e.defaults.duration||r.duration||n.duration,c=null,u="",d="",h={};if(l&&(void 0===(a=m[o=JSON.stringify(l)])&&(a=(0,i.d)(l),m[o]=a),c=a)){let e=(0,i.c)(c);u=e.unit,1===e.value&&(d=u,h=t[u]?t[u].rawOptions:{})}let p=t=>{let n=t.buttonText||{},i=e.defaults.buttonTextKey;return null!=i&&null!=n[i]?n[i]:null!=n[e.type]?n[e.type]:null!=n[d]?n[d]:null},f=t=>{let n=t.buttonHints||{},i=e.defaults.buttonTextKey;return null!=i&&null!=n[i]?n[i]:null!=n[e.type]?n[e.type]:null!=n[d]?n[d]:null};return{type:e.type,component:e.component,duration:c,durationUnit:u,singleUnit:d,optionDefaults:e.defaults,optionOverrides:Object.assign(Object.assign({},h),e.overrides),buttonTextOverride:p(r)||p(n)||e.overrides.buttonText,buttonTextDefault:p(s)||e.defaults.buttonText||p(i.e)||e.type,buttonTitleOverride:f(r)||f(n)||e.overrides.buttonHint,buttonTitleDefault:f(s)||e.defaults.buttonHint||f(i.e)}})(e,a,t,n,r))}h.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"},h.prototype.baseIconClass="fc-icon",h.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"},h.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"},h.prototype.iconOverrideOption="buttonIcons",h.prototype.iconOverrideCustomButtonOption="icon",h.prototype.iconOverridePrefix="fc-icon-";let m={};function b(e){for(let t in e)if(e[t].isFetching)return!0;return!1}function _(e,t,n,i){let r={};for(let e of t)r[e.sourceId]=e;return n&&(r=y(r,n,i)),Object.assign(Object.assign({},e),r)}function y(e,t,n){return w(e,(0,i.h)(e,e=>R(e,n)?!n.options.lazyFetching||!e.fetchRange||e.isFetching||t.start<e.fetchRange.start||t.end>e.fetchRange.end:!e.latestFetchId),t,!1,n)}function w(e,t,n,r,s){let o={};for(let a in e){let l=e[a];t[a]?o[a]=function(e,t,n,r){let{options:s,calendarApi:o}=r,a=r.pluginHooks.eventSourceDefs[e.sourceDefId],l=(0,i.g)();return a.fetch({eventSource:e,range:t,isRefetch:n,context:r},n=>{let{rawEvents:i}=n;s.eventSourceSuccess&&(i=s.eventSourceSuccess.call(o,i,n.response)||i),e.success&&(i=e.success.call(o,i,n.response)||i),r.dispatch({type:"RECEIVE_EVENTS",sourceId:e.sourceId,fetchId:l,fetchRange:t,rawEvents:i})},n=>{let i=!1;s.eventSourceFailure&&(s.eventSourceFailure.call(o,n),i=!0),e.failure&&(e.failure(n),i=!0),i||console.warn(n.message,n),r.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:e.sourceId,fetchId:l,fetchRange:t,error:n})}),Object.assign(Object.assign({},e),{isFetching:!0,latestFetchId:l})}(l,n,r,s):o[a]=l}return o}function S(e,t){return(0,i.h)(e,e=>R(e,t))}function R(e,t){return!t.pluginHooks.eventSourceDefs[e.sourceDefId].ignoreRange}function C(e,t,n,i,r){return{header:e.headerToolbar?E(e.headerToolbar,e,t,n,i,r):null,footer:e.footerToolbar?E(e.footerToolbar,e,t,n,i,r):null}}function E(e,t,n,r,s,o){let a={},l=[],c=!1;for(let u in e){let d=function(e,t,n,r,s,o){let a="rtl"===t.direction,l=t.customButtons||{},c=n.buttonText||{},u=t.buttonText||{},d=n.buttonHints||{},h=t.buttonHints||{},p=e?e.split(" "):[],f=[],g=!1;return{widgets:p.map(e=>e.split(",").map(e=>{let n,p,v,m,b,_;if("title"===e)return g=!0,{buttonName:e};if(n=l[e])v=e=>{n.click&&n.click.call(e.target,e,e.target)},(m=r.getCustomButtonIconClass(n))||(m=r.getIconClass(e,a))||(b=n.text),_=n.hint||n.text;else if(p=s[e]){f.push(e),v=()=>{o.changeView(e)},(b=p.buttonTextOverride)||(m=r.getIconClass(e,a))||(b=p.buttonTextDefault);let n=p.buttonTextOverride||p.buttonTextDefault;_=(0,i.k)(p.buttonTitleOverride||p.buttonTitleDefault||t.viewHint,[n,e],n)}else if(o[e]){if(v=()=>{o[e]()},(b=c[e])||(m=r.getIconClass(e,a))||(b=u[e]),"prevYear"===e||"nextYear"===e){let t="prevYear"===e?"prev":"next";_=(0,i.k)(d[t]||h[t],[u.year||"year","year"],u[e])}else _=t=>(0,i.k)(d[e]||h[e],[u[t]||t,t],u[e])}return{buttonName:e,buttonClick:v,buttonIcon:m,buttonText:b,buttonHint:_}})),viewsWithButtons:f,hasTitle:g}}(e[u],t,n,r,s,o);a[u]=d.widgets,l.push(...d.viewsWithButtons),c=c||d.hasTitle}return{sectionWidgets:a,viewsWithButtons:l,hasTitle:c}}class T{constructor(e,t,n){this.type=e,this.getCurrentData=t,this.dateEnv=n}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}let k=d({name:"array-event-source",eventSourceDefs:[{ignoreRange:!0,parseMeta:e=>Array.isArray(e.events)?e.events:null,fetch(e,t){t({rawEvents:e.eventSource.meta})}}]}),x=d({name:"func-event-source",eventSourceDefs:[{parseMeta:e=>"function"==typeof e.events?e.events:null,fetch(e,t,n){let{dateEnv:r}=e.context,s=e.eventSource.meta;(0,i.u)(s.bind(null,(0,i.l)(e.range,r)),e=>t({rawEvents:e}),n)}}]}),O={method:String,extraParams:i.n,startParam:String,endParam:String,timeZoneParam:String},P=d({name:"json-event-source",eventSourceRefiners:O,eventSourceDefs:[{parseMeta:e=>e.url&&("json"===e.format||!e.format)?{url:e.url,format:"json",method:(e.method||"GET").toUpperCase(),extraParams:e.extraParams,startParam:e.startParam,endParam:e.endParam,timeZoneParam:e.timeZoneParam}:null,fetch(e,t,n){let{meta:r}=e.eventSource,s=function(e,t,n){let i,r,s,{dateEnv:o,options:a}=n,l={};return null==(i=e.startParam)&&(i=a.startParam),null==(r=e.endParam)&&(r=a.endParam),null==(s=e.timeZoneParam)&&(s=a.timeZoneParam),Object.assign(l,"function"==typeof e.extraParams?e.extraParams():e.extraParams||{}),l[i]=o.formatIso(t.start),l[r]=o.formatIso(t.end),"local"!==o.timeZone&&(l[s]=o.timeZone),l}(r,e.range,e.context);(0,i.r)(r.method,r.url,s).then(([e,n])=>{t({rawEvents:e,response:n})},n)}}]}),D={daysOfWeek:i.n,startTime:i.d,endTime:i.d,duration:i.d,startRecur:i.n,endRecur:i.n},A=d({name:"simple-recurring-event",recurringTypes:[{parse(e,t){if(e.daysOfWeek||e.startTime||e.endTime||e.startRecur||e.endRecur){let n,r={daysOfWeek:e.daysOfWeek||null,startTime:e.startTime||null,endTime:e.endTime||null,startRecur:e.startRecur?t.createMarker(e.startRecur):null,endRecur:e.endRecur?t.createMarker(e.endRecur):null};return e.duration&&(n=e.duration),!n&&e.startTime&&e.endTime&&(n=(0,i.s)(e.endTime,e.startTime)),{allDayGuess:!!(!e.startTime&&!e.endTime),duration:n,typeData:r}}return null},expand(e,t,n){let r=(0,i.o)(t,{start:e.startRecur,end:e.endRecur});return r?function(e,t,n,r){let s=e?(0,i.f)(e):null,o=(0,i.q)(n.start),a=n.end,l=[];for(;o<a;){let e;(!s||s[o.getUTCDay()])&&(e=t?r.add(o,t):o,l.push(e)),o=(0,i.t)(o,1)}return l}(e.daysOfWeek,e.startTime,r,n):[]}}],eventRefiners:D}),I=d({name:"change-handler",optionChangeHandlers:{events(e,t){H([e],t)},eventSources:H}});function H(e,t){let n=(0,i.v)(t.getCurrentData().eventSources);if(1===n.length&&1===e.length&&Array.isArray(n[0]._raw)&&Array.isArray(e[0])){t.dispatch({type:"RESET_RAW_EVENTS",sourceId:n[0].sourceId,rawEvents:e[0]});return}let r=[];for(let t of e){let e=!1;for(let i=0;i<n.length;i+=1)if(n[i]._raw===t){n.splice(i,1),e=!0;break}e||r.push(t)}for(let e of n)t.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:e.sourceId});for(let e of r)t.calendarApi.addEventSource(e)}let z=[k,x,P,A,I,d({name:"misc",isLoadingFuncs:[e=>b(e.eventSources)],propSetHandlers:{dateProfile:function(e,t){t.emitter.trigger("datesSet",Object.assign(Object.assign({},(0,i.l)(e.activeRange,t.dateEnv)),{view:t.viewApi}))},eventStore:function(e,t){let{emitter:n}=t;n.hasHandlers("eventsSet")&&n.trigger("eventsSet",(0,i.w)(e,t))}}})];class M{constructor(e,t){this.runTaskOption=e,this.drainedOption=t,this.queue=[],this.delayedRunner=new i.D(this.drain.bind(this))}request(e,t){this.queue.push(e),this.delayedRunner.request(t)}pause(e){this.delayedRunner.pause(e)}resume(e,t){this.delayedRunner.resume(e,t)}drain(){let{queue:e}=this;for(;e.length;){let t,n=[];for(;t=e.shift();)this.runTask(t),n.push(t);this.drained(n)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function N(e,t,n){let r;return r=/^(year|month)$/.test(e.currentRangeUnit)?e.currentRange:e.activeRange,n.formatRange(r.start,r.end,(0,i.x)(t.titleFormat||function(e){let{currentRangeUnit:t}=e;if("year"===t)return{year:"numeric"};if("month"===t)return{year:"numeric",month:"long"};let n=(0,i.y)(e.currentRange.start,e.currentRange.end);return null!==n&&n>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}(e)),{isEndExclusive:e.isRangeAllDay,defaultSeparator:t.titleRangeSeparator})}class j{constructor(e){var t;let n,r,s,o;this.computeCurrentViewData=(0,i.z)(this._computeCurrentViewData),this.organizeRawLocales=(0,i.z)(l),this.buildLocale=(0,i.z)(c),this.buildPluginHooks=(r=[],s=[],(e,t)=>(n&&(0,i.i)(e,r)&&(0,i.i)(t,s)||(n=function(e,t){let n={},i={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function r(e){for(let t of e){let e=t.name,s=n[e];void 0===s?(n[e]=t.id,r(t.deps),i=function(e,t){var n,i;return{premiumReleaseDate:(n=e.premiumReleaseDate,i=t.premiumReleaseDate,void 0===n?i:void 0===i?n:new Date(Math.max(n.valueOf(),i.valueOf()))),reducers:e.reducers.concat(t.reducers),isLoadingFuncs:e.isLoadingFuncs.concat(t.isLoadingFuncs),contextInit:e.contextInit.concat(t.contextInit),eventRefiners:Object.assign(Object.assign({},e.eventRefiners),t.eventRefiners),eventDefMemberAdders:e.eventDefMemberAdders.concat(t.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},e.eventSourceRefiners),t.eventSourceRefiners),isDraggableTransformers:e.isDraggableTransformers.concat(t.isDraggableTransformers),eventDragMutationMassagers:e.eventDragMutationMassagers.concat(t.eventDragMutationMassagers),eventDefMutationAppliers:e.eventDefMutationAppliers.concat(t.eventDefMutationAppliers),dateSelectionTransformers:e.dateSelectionTransformers.concat(t.dateSelectionTransformers),datePointTransforms:e.datePointTransforms.concat(t.datePointTransforms),dateSpanTransforms:e.dateSpanTransforms.concat(t.dateSpanTransforms),views:Object.assign(Object.assign({},e.views),t.views),viewPropsTransformers:e.viewPropsTransformers.concat(t.viewPropsTransformers),isPropsValid:t.isPropsValid||e.isPropsValid,externalDefTransforms:e.externalDefTransforms.concat(t.externalDefTransforms),viewContainerAppends:e.viewContainerAppends.concat(t.viewContainerAppends),eventDropTransformers:e.eventDropTransformers.concat(t.eventDropTransformers),calendarInteractions:e.calendarInteractions.concat(t.calendarInteractions),componentInteractions:e.componentInteractions.concat(t.componentInteractions),themeClasses:Object.assign(Object.assign({},e.themeClasses),t.themeClasses),eventSourceDefs:e.eventSourceDefs.concat(t.eventSourceDefs),cmdFormatter:t.cmdFormatter||e.cmdFormatter,recurringTypes:e.recurringTypes.concat(t.recurringTypes),namedTimeZonedImpl:t.namedTimeZonedImpl||e.namedTimeZonedImpl,initialView:e.initialView||t.initialView,elementDraggingImpl:e.elementDraggingImpl||t.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},e.optionChangeHandlers),t.optionChangeHandlers),scrollGridImpl:t.scrollGridImpl||e.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},e.listenerRefiners),t.listenerRefiners),optionRefiners:Object.assign(Object.assign({},e.optionRefiners),t.optionRefiners),propSetHandlers:Object.assign(Object.assign({},e.propSetHandlers),t.propSetHandlers)}}(i,t)):s!==t.id&&console.warn(`Duplicate plugin '${e}'`)}}return e&&r(e),r(t),i}(e,t)),r=e,s=t,n)),this.buildDateEnv=(0,i.z)(L),this.buildTheme=(0,i.z)(U),this.parseToolbars=(0,i.z)(C),this.buildViewSpecs=(0,i.z)(v),this.buildDateProfileGenerator=(0,i.A)(V),this.buildViewApi=(0,i.z)(W),this.buildViewUiProps=(0,i.A)(q),this.buildEventUiBySource=(0,i.z)(F,i.E),this.buildEventUiBases=(0,i.z)(B),this.parseContextBusinessHours=(0,i.A)(Y),this.buildTitle=(0,i.z)(N),this.emitter=new i.F,this.actionRunner=new M(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=e=>{this.actionRunner.request(e)},this.props=e,this.actionRunner.pause();let a={},u=this.computeOptionsData(e.optionOverrides,a,e.calendarApi),d=u.calendarOptions.initialView||u.pluginHooks.initialView,h=this.computeCurrentViewData(d,u,e.optionOverrides,a);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(h.options);let p=(0,i.G)(u.calendarOptions,u.dateEnv),f=h.dateProfileGenerator.build(p);(0,i.H)(f.activeRange,p)||(p=f.currentRange.start);let g={dateEnv:u.dateEnv,options:u.calendarOptions,pluginHooks:u.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData};for(let e of u.pluginHooks.contextInit)e(g);let m=(t=u.calendarOptions,o=f?f.activeRange:null,_({},function(e,t){let n=(0,i.j)(t),r=[].concat(e.eventSources||[]),s=[];for(let o of(e.initialEvents&&r.unshift(e.initialEvents),e.events&&r.unshift(e.events),r)){let e=(0,i.p)(o,t,n);e&&s.push(e)}return s}(t,g),o,g)),b={dynamicOptionOverrides:a,currentViewType:d,currentDate:p,dateProfile:f,businessHours:this.parseContextBusinessHours(g),eventSources:m,eventUiBases:{},eventStore:(0,i.I)(),renderableEventStore:(0,i.I)(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(g).selectionConfig},y=Object.assign(Object.assign({},g),b);for(let e of u.pluginHooks.reducers)Object.assign(b,e(null,null,y));G(b,g)&&this.emitter.trigger("loading",!0),this.state=b,this.updateData(),this.actionRunner.resume()}resetOptions(e,t){let{props:n}=this;void 0===t?n.optionOverrides=e:(n.optionOverrides=Object.assign(Object.assign({},n.optionOverrides||{}),e),this.optionsForRefining.push(...t)),(void 0===t||t.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){var t,n;let{props:r,state:s,emitter:o}=this,a=(t=s.dynamicOptionOverrides,"SET_OPTION"===e.type?Object.assign(Object.assign({},t),{[e.optionName]:e.rawOptionValue}):t),l=this.computeOptionsData(r.optionOverrides,a,r.calendarApi),c=(n=s.currentViewType,"CHANGE_VIEW_TYPE"===e.type&&(n=e.viewType),n),u=this.computeCurrentViewData(c,l,r.optionOverrides,a);r.calendarApi.currentDataManager=this,o.setThisContext(r.calendarApi),o.setOptions(u.options);let d={dateEnv:l.dateEnv,options:l.calendarOptions,pluginHooks:l.pluginHooks,calendarApi:r.calendarApi,dispatch:this.dispatch,emitter:o,getCurrentData:this.getCurrentData},{currentDate:h,dateProfile:p}=s;this.data&&this.data.dateProfileGenerator!==u.dateProfileGenerator&&(p=u.dateProfileGenerator.build(h)),h=(0,i.J)(h,e),p=function(e,t,n,i){let r;switch(t.type){case"CHANGE_VIEW_TYPE":return i.build(t.dateMarker||n);case"CHANGE_DATE":return i.build(t.dateMarker);case"PREV":if((r=i.buildPrev(e,n)).isValid)return r;break;case"NEXT":if((r=i.buildNext(e,n)).isValid)return r}return e}(p,e,h,u.dateProfileGenerator),"PREV"!==e.type&&"NEXT"!==e.type&&(0,i.H)(p.currentRange,h)||(h=p.currentRange.start);let f=function(e,t,n,r){var s,o,a,l;let c=n?n.activeRange:null;switch(t.type){case"ADD_EVENT_SOURCES":return _(e,t.sources,c,r);case"REMOVE_EVENT_SOURCE":return s=t.sourceId,(0,i.h)(e,e=>e.sourceId!==s);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":if(n)return y(e,c,r);return e;case"FETCH_EVENT_SOURCES":return w(e,t.sourceIds?(0,i.f)(t.sourceIds):S(e,r),c,t.isRefetch||!1,r);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":let u;return o=t.sourceId,a=t.fetchId,l=t.fetchRange,(u=e[o])&&a===u.latestFetchId?Object.assign(Object.assign({},e),{[o]:Object.assign(Object.assign({},u),{isFetching:!1,fetchRange:l})}):e;case"REMOVE_ALL_EVENT_SOURCES":return{};default:return e}}(s.eventSources,e,p,d),g=(0,i.K)(s.eventStore,e,f,p,d),v=b(f)&&!u.options.progressiveEventRendering&&s.renderableEventStore||g,{eventUiSingleBase:m,selectionConfig:R}=this.buildViewUiProps(d),C=this.buildEventUiBySource(f),E={dynamicOptionOverrides:a,currentViewType:c,currentDate:h,dateProfile:p,eventSources:f,eventStore:g,renderableEventStore:v,selectionConfig:R,eventUiBases:this.buildEventUiBases(v.defs,m,C),businessHours:this.parseContextBusinessHours(d),dateSelection:function(e,t){switch(t.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return t.selection;default:return e}}(s.dateSelection,e),eventSelection:function(e,t){switch(t.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return t.eventInstanceId;default:return e}}(s.eventSelection,e),eventDrag:function(e,t){let n;switch(t.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return{affectedEvents:(n=t.state).affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return e}}(s.eventDrag,e),eventResize:function(e,t){let n;switch(t.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return{affectedEvents:(n=t.state).affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return e}}(s.eventResize,e)},T=Object.assign(Object.assign({},d),E);for(let t of l.pluginHooks.reducers)Object.assign(E,t(s,e,T));let k=G(s,d),x=G(E,d);!k&&x?o.trigger("loading",!0):k&&!x&&o.trigger("loading",!1),this.state=E,r.onAction&&r.onAction(e)}updateData(){let{props:e,state:t}=this,n=this.data,r=this.computeOptionsData(e.optionOverrides,t.dynamicOptionOverrides,e.calendarApi),s=this.computeCurrentViewData(t.currentViewType,r,e.optionOverrides,t.dynamicOptionOverrides),o=this.data=Object.assign(Object.assign(Object.assign({viewTitle:this.buildTitle(t.dateProfile,s.options,r.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},r),s),t),a=r.pluginHooks.optionChangeHandlers,l=n&&n.calendarOptions,c=r.calendarOptions;if(l&&l!==c){if(l.timeZone!==c.timeZone){var u,d;let e;t.eventSources=o.eventSources=(u=o.eventSources,e=(d=t.dateProfile)?d.activeRange:null,w(u,S(u,o),e,!0,o)),t.eventStore=o.eventStore=(0,i.L)(o.eventStore,n.dateEnv,o.dateEnv),t.renderableEventStore=o.renderableEventStore=(0,i.L)(o.renderableEventStore,n.dateEnv,o.dateEnv)}for(let e in a)(-1!==this.optionsForHandling.indexOf(e)||l[e]!==c[e])&&a[e](c[e],o)}this.optionsForHandling=[],e.onData&&e.onData(o)}computeOptionsData(e,t,n){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&t===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:i,pluginHooks:r,localeDefaults:s,availableLocaleData:o,extra:a}=this.processRawCalendarOptions(e,t);$(a);let l=this.buildDateEnv(i.timeZone,i.locale,i.weekNumberCalculation,i.firstDay,i.weekText,r,o,i.defaultRangeSeparator),c=this.buildViewSpecs(r.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,s),u=this.buildTheme(i,r),d=this.parseToolbars(i,this.stableOptionOverrides,u,c,n);return this.stableCalendarOptionsData={calendarOptions:i,pluginHooks:r,dateEnv:l,viewSpecs:c,theme:u,toolbarConfig:d,localeDefaults:s,availableRawLocales:o.map}}processRawCalendarOptions(e,t){let{locales:n,locale:r}=(0,i.M)([i.e,e,t]),s=this.organizeRawLocales(n),o=s.map,a=this.buildLocale(r||s.defaultCode,o).options,l=this.buildPluginHooks(e.plugins||[],z),c=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},i.N),i.O),i.P),l.listenerRefiners),l.optionRefiners),u={},d=(0,i.M)([i.e,a,e,t]),h={},p=this.currentCalendarOptionsInput,f=this.currentCalendarOptionsRefined,g=!1;for(let e in d)-1===this.optionsForRefining.indexOf(e)&&(d[e]===p[e]||i.Q[e]&&e in p&&i.Q[e](p[e],d[e]))?h[e]=f[e]:c[e]?(h[e]=c[e](d[e]),g=!0):u[e]=p[e];return g&&(this.currentCalendarOptionsInput=d,this.currentCalendarOptionsRefined=h,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=t),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:l,availableLocaleData:s,localeDefaults:a,extra:u}}_computeCurrentViewData(e,t,n,i){let r=t.viewSpecs[e];if(!r)throw Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:s,extra:o}=this.processRawViewOptions(r,t.pluginHooks,t.localeDefaults,n,i);$(o);let a=this.buildDateProfileGenerator({dateProfileGeneratorClass:r.optionDefaults.dateProfileGeneratorClass,duration:r.duration,durationUnit:r.durationUnit,usesMinMaxTime:r.optionDefaults.usesMinMaxTime,dateEnv:t.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:s.slotMinTime,slotMaxTime:s.slotMaxTime,showNonCurrentDates:s.showNonCurrentDates,dayCount:s.dayCount,dateAlignment:s.dateAlignment,dateIncrement:s.dateIncrement,hiddenDays:s.hiddenDays,weekends:s.weekends,nowInput:s.now,validRangeInput:s.validRange,visibleRangeInput:s.visibleRange,fixedWeekCount:s.fixedWeekCount});return{viewSpec:r,options:s,dateProfileGenerator:a,viewApi:this.buildViewApi(e,this.getCurrentData,t.dateEnv)}}processRawViewOptions(e,t,n,r,s){let o=(0,i.M)([i.e,e.optionDefaults,n,r,e.optionOverrides,s]),a=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},i.N),i.O),i.P),i.R),t.listenerRefiners),t.optionRefiners),l={},c=this.currentViewOptionsInput,u=this.currentViewOptionsRefined,d=!1,h={};for(let e in o)o[e]===c[e]||i.Q[e]&&i.Q[e](o[e],c[e])?l[e]=u[e]:(o[e]===this.currentCalendarOptionsInput[e]||i.Q[e]&&i.Q[e](o[e],this.currentCalendarOptionsInput[e])?e in this.currentCalendarOptionsRefined&&(l[e]=this.currentCalendarOptionsRefined[e]):a[e]?l[e]=a[e](o[e]):h[e]=o[e],d=!0);return d&&(this.currentViewOptionsInput=o,this.currentViewOptionsRefined=l),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:h}}}function L(e,t,n,r,s,o,a,l){let u=c(t||a.defaultCode,a.map);return new i.S({calendarSystem:"gregory",timeZone:e,namedTimeZoneImpl:o.namedTimeZonedImpl,locale:u,weekNumberCalculation:n,firstDay:r,weekText:s,cmdFormatter:o.cmdFormatter,defaultSeparator:l})}function U(e,t){return new(t.themeClasses[e.themeSystem]||h)(e)}function V(e){return new(e.dateProfileGeneratorClass||i.U)(e)}function W(e,t,n){return new T(e,t,n)}function F(e){return(0,i.a)(e,e=>e.ui)}function B(e,t,n){let i={"":t};for(let t in e){let r=e[t];r.sourceId&&n[r.sourceId]&&(i[t]=n[r.sourceId])}return i}function q(e){let{options:t}=e;return{eventUiSingleBase:(0,i.W)({display:t.eventDisplay,editable:t.editable,startEditable:t.eventStartEditable,durationEditable:t.eventDurationEditable,constraint:t.eventConstraint,overlap:"boolean"==typeof t.eventOverlap?t.eventOverlap:void 0,allow:t.eventAllow,backgroundColor:t.eventBackgroundColor,borderColor:t.eventBorderColor,textColor:t.eventTextColor,color:t.eventColor},e),selectionConfig:(0,i.W)({constraint:t.selectConstraint,overlap:"boolean"==typeof t.selectOverlap?t.selectOverlap:void 0,allow:t.selectAllow},e)}}function G(e,t){for(let n of t.pluginHooks.isLoadingFuncs)if(n(e))return!0;return!1}function Y(e){return(0,i.X)(e.options.businessHours,e)}function $(e,t){for(let n in e)console.warn(`Unknown option '${n}'`+(t?` for view '${t}'`:""))}class X extends i.B{render(){let e=this.props.widgetGroups.map(e=>this.renderWidgetGroup(e));return(0,r.az)("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:t}=this,{theme:n}=this.context,i=[],s=!0;for(let o of e){let{buttonName:e,buttonClick:a,buttonText:l,buttonIcon:c,buttonHint:u}=o;if("title"===e)s=!1,i.push((0,r.az)("h2",{className:"fc-toolbar-title",id:t.titleId},t.title));else{let s=e===t.activeButton,o=!t.isTodayEnabled&&"today"===e||!t.isPrevEnabled&&"prev"===e||!t.isNextEnabled&&"next"===e,d=[`fc-${e}-button`,n.getClass("button")];s&&d.push(n.getClass("buttonActive")),i.push((0,r.az)("button",{type:"button",title:"function"==typeof u?u(t.navUnit):u,disabled:o,"aria-pressed":s,className:d.join(" "),onClick:a},l||(c?(0,r.az)("span",{className:c}):"")))}}if(i.length>1){let e=s&&n.getClass("buttonGroup")||"";return(0,r.az)("div",{className:e},...i)}return i[0]}}class Z extends i.B{render(){let e,t,{model:n,extraClassName:i}=this.props,s=!1,o=n.sectionWidgets,a=o.center;o.left?(s=!0,e=o.left):e=o.start,o.right?(s=!0,t=o.right):t=o.end;let l=[i||"","fc-toolbar",s?"fc-toolbar-ltr":""];return(0,r.az)("div",{className:l.join(" ")},this.renderSection("start",e||[]),this.renderSection("center",a||[]),this.renderSection("end",t||[]))}renderSection(e,t){let{props:n}=this;return(0,r.az)(X,{key:e,widgetGroups:t,title:n.title,navUnit:n.navUnit,activeButton:n.activeButton,isTodayEnabled:n.isTodayEnabled,isPrevEnabled:n.isPrevEnabled,isNextEnabled:n.isNextEnabled,titleId:n.titleId})}}class J extends i.B{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,(0,i.Y)(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:t}=this,{aspectRatio:n}=e,i=["fc-view-harness",n||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],s="",o="";return n?null!==t.availableWidth?s=t.availableWidth/n:o=`${1/n*100}%`:s=e.height||"",(0,r.az)("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:i.join(" "),style:{height:s,paddingBottom:o}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class Q extends i.Z{constructor(e){super(e),this.handleSegClick=(e,t)=>{let{component:n}=this,{context:r}=n,s=(0,i._)(t);if(s&&n.isValidSegDownEl(e.target)){let o=(0,i.$)(e.target,".fc-event-forced-url"),a=o?o.querySelector("a[href]").href:"";r.emitter.trigger("eventClick",{el:t,event:new i.a0(n.context,s.eventRange.def,s.eventRange.instance),jsEvent:e,view:r.viewApi}),a&&!e.defaultPrevented&&(window.location.href=a)}},this.destroy=(0,i.a1)(e.el,"click",".fc-event",this.handleSegClick)}}class K extends i.Z{constructor(e){super(e),this.handleEventElRemove=e=>{e===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(e,t)=>{(0,i._)(t)&&(this.currentSegEl=t,this.triggerEvent("eventMouseEnter",e,t))},this.handleSegLeave=(e,t)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",e,t))},this.removeHoverListeners=(0,i.a2)(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,t,n){let{component:r}=this,{context:s}=r,o=(0,i._)(n);(!t||r.isValidSegDownEl(t.target))&&s.emitter.trigger(e,{el:n,event:new i.a0(s,o.eventRange.def,o.eventRange.instance),jsEvent:t,view:s.viewApi})}}class ee extends i.a3{constructor(){super(...arguments),this.buildViewContext=(0,i.z)(i.a4),this.buildViewPropTransformers=(0,i.z)(en),this.buildToolbarProps=(0,i.z)(et),this.headerRef=(0,r.Vf)(),this.footerRef=(0,r.Vf)(),this.interactionsStore={},this.state={viewLabelId:(0,i.a5)()},this.registerInteractiveComponent=(e,t)=>{let n=(0,i.a6)(e,t),r=[Q,K].concat(this.props.pluginHooks.componentInteractions).map(e=>new e(n));this.interactionsStore[e.uid]=r,i.a7[e.uid]=n},this.unregisterInteractiveComponent=e=>{let t=this.interactionsStore[e.uid];if(t){for(let e of t)e.destroy();delete this.interactionsStore[e.uid]}delete i.a7[e.uid]},this.resizeRunner=new i.D(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:t}=this.props;t.handleWindowResize&&e.target===window&&this.resizeRunner.request(t.windowResizeDelay)}}render(){let e,{props:t}=this,{toolbarConfig:n,options:s}=t,o=this.buildToolbarProps(t.viewSpec,t.dateProfile,t.dateProfileGenerator,t.currentDate,(0,i.a8)(t.options.now,t.dateEnv),t.viewTitle),a=!1,l="";t.isHeightAuto||t.forPrint?l="":null!=s.height?a=!0:null!=s.contentHeight?l=s.contentHeight:e=Math.max(s.aspectRatio,.5);let c=this.buildViewContext(t.viewSpec,t.viewApi,t.options,t.dateProfileGenerator,t.dateEnv,t.theme,t.pluginHooks,t.dispatch,t.getCurrentData,t.emitter,t.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),u=n.header&&n.header.hasTitle?this.state.viewLabelId:"";return(0,r.az)(i.V.Provider,{value:c},n.header&&(0,r.az)(Z,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:n.header,titleId:u},o)),(0,r.az)(J,{liquid:a,height:l,aspectRatio:e,labeledById:u},this.renderView(t),this.buildAppendContent()),n.footer&&(0,r.az)(Z,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:n.footer,titleId:""},o)))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(t=>new t(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:t}=e.pluginHooks;for(let n in t)t[n](e[n],e)}componentDidUpdate(e){let{props:t}=this,{propSetHandlers:n}=t.pluginHooks;for(let i in n)t[i]!==e[i]&&n[i](t[i],t)}componentWillUnmount(){for(let e of(window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear(),this.calendarInteractions))e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,t=e.pluginHooks.viewContainerAppends.map(t=>t(e));return(0,r.az)(r.HY,{},...t)}renderView(e){let{pluginHooks:t}=e,{viewSpec:n}=e,i={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint};for(let n of this.buildViewPropTransformers(t.viewPropsTransformers))Object.assign(i,n.transform(i,e));let s=n.component;return(0,r.az)(s,Object.assign({},i))}}function et(e,t,n,r,s,o){let a=n.build(s,void 0,!1),l=n.buildPrev(t,r,!1),c=n.buildNext(t,r,!1);return{title:o,activeButton:e.type,navUnit:e.singleUnit,isTodayEnabled:a.isValid&&!(0,i.H)(t.currentRange,s),isPrevEnabled:l.isValid,isNextEnabled:c.isValid}}function en(e){return e.map(e=>new e)}class ei extends i.a9{constructor(e,t={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=e=>{switch(e.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=e=>{this.currentData=e,this.renderRunner.request(e.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:e}=this;(0,i.aa)(()=>{(0,r.sY)((0,r.az)(i.ab,{options:e.calendarOptions,theme:e.theme,emitter:e.emitter},(t,n,s,o)=>(this.setClassNames(t),this.setHeight(n),(0,r.az)(i.ac.Provider,{value:this.customContentRenderId},(0,r.az)(ee,Object.assign({isHeightAuto:s,forPrint:o},e))))),this.el)})}else this.isRendered&&(this.isRendered=!1,(0,r.sY)(null,this.el),this.setClassNames([]),this.setHeight(""))},(0,i.ad)(e),this.el=e,this.renderRunner=new i.D(this.handleRenderRequest),new j({optionOverrides:t,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){(0,i.aa)(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,t){this.currentDataManager.resetOptions(e,t)}setClassNames(e){if(!(0,i.i)(e,this.currentClassNames)){let{classList:t}=this.el;for(let e of this.currentClassNames)t.remove(e);for(let n of e)t.add(n);this.currentClassNames=e}}setHeight(e){(0,i.ae)(this.el,"height",e)}}},1674:function(e,t,n){"use strict";n.d(t,{Z:function(){return A}});var i=n(8982),r=n(8345),s=n(8049);function o(e,t){let n=[];for(let e=0;e<t;e+=1)n[e]=[];for(let t of e)n[t.row].push(t);return n}function a(e,t){let n=[];for(let e=0;e<t;e+=1)n[e]=[];for(let t of e)n[t.firstCol].push(t);return n}function l(e,t){let n=[];if(e){for(let i=0;i<t;i+=1)n[i]={affectedInstances:e.affectedInstances,isEvent:e.isEvent,segs:[]};for(let t of e.segs)n[t.row].segs.push(t)}else for(let e=0;e<t;e+=1)n[e]=null;return n}(0,r.cw)(':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}');let c=(0,r.x)({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function u(e){let{display:t}=e.eventRange.ui;return"list-item"===t||"auto"===t&&!e.eventRange.def.allDay&&e.firstCol===e.lastCol&&e.isStart&&e.isEnd}class d extends r.B{render(){let{props:e}=this;return(0,s.az)(r.cj,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:c,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class h extends r.B{render(){let{props:e,context:t}=this,{options:n}=t,{seg:i}=e,o=n.eventTimeFormat||c,a=(0,r.bQ)(i,o,t,!0,e.defaultDisplayEventEnd);return(0,s.az)(r.cn,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:(0,r.bU)(e.seg,t),defaultGenerator:p,timeText:a,isResizing:!1,isDateSelecting:!1}))}}function p(e){return(0,s.az)(s.HY,null,(0,s.az)("div",{className:"fc-daygrid-event-dot",style:{borderColor:e.borderColor||e.backgroundColor}}),e.timeText&&(0,s.az)("div",{className:"fc-event-time"},e.timeText),(0,s.az)("div",{className:"fc-event-title"},e.event.title||(0,s.az)(s.HY,null,"\xa0")))}class f extends r.B{constructor(){super(...arguments),this.compileSegs=(0,r.z)(g)}render(){let{props:e}=this,{allSegs:t,invisibleSegs:n}=this.compileSegs(e.singlePlacements);return(0,s.az)(r.cr,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:t,hiddenSegs:n,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let n=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return(0,s.az)(s.HY,null,t.map(t=>{let i=t.eventRange.instance.instanceId;return(0,s.az)("div",{className:"fc-daygrid-event-harness",key:i,style:{visibility:n[i]?"hidden":""}},u(t)?(0,s.az)(h,Object.assign({seg:t,isDragging:!1,isSelected:i===e.eventSelection,defaultDisplayEventEnd:!1},(0,r.bS)(t,e.todayRange))):(0,s.az)(d,Object.assign({seg:t,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:i===e.eventSelection,defaultDisplayEventEnd:!1},(0,r.bS)(t,e.todayRange))))}))}})}}function g(e){let t=[],n=[];for(let i of e)t.push(i.seg),i.isVisible||n.push(i.seg);return{allSegs:t,invisibleSegs:n}}let v=(0,r.x)({week:"narrow"});class m extends r.be{constructor(){super(...arguments),this.rootElRef=(0,s.Vf)(),this.state={dayNumberId:(0,r.a5)()},this.handleRootEl=e=>{(0,r.Y)(this.rootElRef,e),(0,r.Y)(this.props.elRef,e)}}render(){let{context:e,props:t,state:n,rootElRef:i}=this,{options:o,dateEnv:a}=e,{date:l,dateProfile:c}=t,u=t.showDayNumber&&function(e,t,n){let{start:i,end:s}=t,o=(0,r.bg)(s,-1),a=n.getYear(i),l=n.getMonth(i),c=n.getYear(o),u=n.getMonth(o);return!(a===c&&l===u)&&!!(e.valueOf()===i.valueOf()||1===n.getDay(e)&&e.valueOf()<s.valueOf())}(l,c.currentRange,a);return(0,s.az)(r.cl,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...t.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},t.extraDataAttrs),t.showDayNumber?{"aria-labelledby":n.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:b,date:l,dateProfile:c,todayRange:t.todayRange,showDayNumber:t.showDayNumber,isMonthStart:u,extraRenderProps:t.extraRenderProps},(a,c)=>(0,s.az)("div",{ref:t.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:t.minHeight}},t.showWeekNumber&&(0,s.az)(r.cq,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:(0,r.b0)(e,l,"week"),date:l,defaultFormat:v}),!c.isDisabled&&(t.showDayNumber||(0,r.cm)(o)||t.forceDayTop)?(0,s.az)("div",{className:"fc-daygrid-day-top"},(0,s.az)(a,{elTag:"a",elClasses:["fc-daygrid-day-number",u&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},(0,r.b0)(e,l)),{id:n.dayNumberId})})):t.showDayNumber?(0,s.az)("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},(0,s.az)("a",{className:"fc-daygrid-day-number"},"\xa0")):void 0,(0,s.az)("div",{className:"fc-daygrid-day-events",ref:t.fgContentElRef},t.fgContent,(0,s.az)("div",{className:"fc-daygrid-day-bottom",style:{marginTop:t.moreMarginTop}},(0,s.az)(f,{allDayDate:l,singlePlacements:t.singlePlacements,moreCnt:t.moreCnt,alignmentElRef:i,alignGridTop:!t.showDayNumber,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange}))),(0,s.az)("div",{className:"fc-daygrid-day-bg"},t.bgContent)))}}function b(e){return e.dayNumberText||(0,s.az)(s.HY,null,"\xa0")}function _(e){return e.eventRange.instance.instanceId+":"+e.firstCol}function y(e){return _(e)+":"+e.lastCol}function w(e,t,n,i){if(e.firstCol===t&&e.lastCol===n-1)return e;let s=e.eventRange,o=s.range,a=(0,r.o)(o,{start:i[t].date,end:(0,r.t)(i[n-1].date,1)});return Object.assign(Object.assign({},e),{firstCol:t,lastCol:n-1,eventRange:{def:s.def,ui:Object.assign(Object.assign({},s.ui),{durationEditable:!1}),instance:s.instance,range:a},isStart:e.isStart&&a.start.valueOf()===o.start.valueOf(),isEnd:e.isEnd&&a.end.valueOf()===o.end.valueOf()})}class S extends r.bA{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){let t=super.addSegs(e),{entriesByLevel:n}=this,i=e=>!this.forceHidden[(0,r.bB)(e)];for(let e=0;e<n.length;e+=1)n[e]=n[e].filter(i);return t}handleInvalidInsertion(e,t,n){let{entriesByLevel:i,forceHidden:s}=this,{touchingEntry:o,touchingLevel:a,touchingLateral:l}=e;if(this.hiddenConsumes&&o){let e=(0,r.bB)(o);if(!s[e]){if(this.allowReslicing){let e=Object.assign(Object.assign({},o),{span:(0,r.bF)(o.span,t.span)}),c=(0,r.bB)(e);s[c]=!0,i[a][l]=e,this.splitEntry(o,t,n)}else s[e]=!0,n.push(o)}}return super.handleInvalidInsertion(e,t,n)}}class R extends r.be{constructor(){super(...arguments),this.cellElRefs=new r.cf,this.frameElRefs=new r.cf,this.fgElRefs=new r.cf,this.segHarnessRefs=new r.cf,this.rootElRef=(0,s.Vf)(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:t,context:n}=this,{options:i}=n,o=e.cells.length,l=a(e.businessHourSegs,o),c=a(e.bgEventSegs,o),u=a(this.getHighlightSegs(),o),d=a(this.getMirrorSegs(),o),{singleColPlacements:h,multiColPlacements:p,moreCnts:f,moreMarginTops:g}=function(e,t,n,i,r,s,o){let a=new S(t=>r[e[t.index].eventRange.instance.instanceId+":"+t.span.start+":"+(t.span.end-1)]);a.allowReslicing=!0,a.strictOrder=i,!0===t||!0===n?(a.maxCoord=s,a.hiddenConsumes=!0):"number"==typeof t?a.maxStackCnt=t:"number"==typeof n&&(a.maxStackCnt=n,a.hiddenConsumes=!0);let l=[],c=[];for(let t=0;t<e.length;t+=1){let n=e[t];null!=r[y(n)]?l.push({index:t,span:{start:n.firstCol,end:n.lastCol+1}}):c.push(n)}let u=a.addSegs(l),{singleColPlacements:d,multiColPlacements:h,leftoverMargins:p}=function(e,t,n){let i=function(e,t){let n=[];for(let e=0;e<t;e+=1)n.push([]);for(let t of e)for(let e=t.span.start;e<t.span.end;e+=1)n[e].push(t);return n}(e,n.length),r=[],s=[],o=[];for(let e=0;e<n.length;e+=1){let a=i[e],l=[],c=0,u=0;for(let i of a){let r=t[i.index];l.push({seg:w(r,e,e+1,n),isVisible:!0,isAbsolute:!1,absoluteTop:i.levelCoord,marginTop:i.levelCoord-c}),c=i.levelCoord+i.thickness}let d=[];for(let i of(c=0,u=0,a)){let r=t[i.index],s=i.span.end-i.span.start>1,o=i.span.start===e;u+=i.levelCoord-c,c=i.levelCoord+i.thickness,s?(u+=i.thickness,o&&d.push({seg:w(r,i.span.start,i.span.end,n),isVisible:!0,isAbsolute:!0,absoluteTop:i.levelCoord,marginTop:0})):o&&(d.push({seg:w(r,i.span.start,i.span.end,n),isVisible:!0,isAbsolute:!1,absoluteTop:i.levelCoord,marginTop:u}),u=0)}r.push(l),s.push(d),o.push(u)}return{singleColPlacements:r,multiColPlacements:s,leftoverMargins:o}}(a.toRects(),e,o),f=[],g=[];for(let e of c){h[e.firstCol].push({seg:e,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let t=e.firstCol;t<=e.lastCol;t+=1)d[t].push({seg:w(e,t,t+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let e=0;e<o.length;e+=1)f.push(0);for(let t of u){let n=e[t.index],i=t.span;h[i.start].push({seg:w(n,i.start,i.end,o),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let e=i.start;e<i.end;e+=1)f[e]+=1,d[e].push({seg:w(n,e,e+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let e=0;e<o.length;e+=1)g.push(p[e]);return{singleColPlacements:d,multiColPlacements:h,moreCnts:f,moreMarginTops:g}}((0,r.bR)(e.fgEventSegs,i.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,i.eventOrderStrict,t.segHeights,t.maxContentHeight,e.cells),v=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return(0,s.az)("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((t,n)=>{let i=this.renderFgSegs(n,e.forPrint?h[n]:p[n],e.todayRange,v),r=this.renderFgSegs(n,function(e,t){if(!e.length)return[];let n=function(e){let t={};for(let n of e)for(let e of n)t[e.seg.eventRange.instance.instanceId]=e.absoluteTop;return t}(t);return e.map(e=>({seg:e,isVisible:!0,isAbsolute:!0,absoluteTop:n[e.eventRange.instance.instanceId],marginTop:0}))}(d[n],p),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return(0,s.az)(m,{key:t.key,elRef:this.cellElRefs.createRef(t.key),innerElRef:this.frameElRefs.createRef(t.key),dateProfile:e.dateProfile,date:t.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&0===n,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:t.extraRenderProps,extraDataAttrs:t.extraDataAttrs,extraClassNames:t.extraClassNames,extraDateSpan:t.extraDateSpan,moreCnt:f[n],moreMarginTop:g[n],singlePlacements:h[n],fgContentElRef:this.fgElRefs.createRef(t.key),fgContent:(0,s.az)(s.HY,null,(0,s.az)(s.HY,null,i),(0,s.az)(s.HY,null,r)),bgContent:(0,s.az)(s.HY,null,this.renderFillSegs(u[n],"highlight"),this.renderFillSegs(l[n],"non-business"),this.renderFillSegs(c[n],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,t){let n=this.props;this.updateSizing(!(0,r.E)(e,n))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,t,n,i,o,a,l){let{context:c}=this,{eventSelection:p}=this.props,{framePositions:f}=this.state,g=1===this.props.cells.length,v=o||a||l,m=[];if(f)for(let e of t){let{seg:t}=e,{instanceId:b}=t.eventRange.instance,w=e.isVisible&&!i[b],S=e.isAbsolute,R="",C="";S&&(c.isRtl?(C=0,R=f.lefts[t.lastCol]-f.lefts[t.firstCol]):(R=0,C=f.rights[t.firstCol]-f.rights[t.lastCol])),m.push((0,s.az)("div",{className:"fc-daygrid-event-harness"+(S?" fc-daygrid-event-harness-abs":""),key:_(t),ref:v?null:this.segHarnessRefs.createRef(y(t)),style:{visibility:w?"":"hidden",marginTop:S?"":e.marginTop,top:S?e.absoluteTop:"",left:R,right:C}},u(t)?(0,s.az)(h,Object.assign({seg:t,isDragging:o,isSelected:b===p,defaultDisplayEventEnd:g},(0,r.bS)(t,n))):(0,s.az)(d,Object.assign({seg:t,isDragging:o,isResizing:a,isDateSelecting:l,isSelected:b===p,defaultDisplayEventEnd:g},(0,r.bS)(t,n)))))}return m}renderFillSegs(e,t){let{isRtl:n}=this.context,{todayRange:i}=this.props,{framePositions:o}=this.state,a=[];if(o)for(let l of e){let e=n?{right:0,left:o.lefts[l.lastCol]-o.lefts[l.firstCol]}:{left:0,right:o.rights[l.firstCol]-o.rights[l.lastCol]};a.push((0,s.az)("div",{key:(0,r.bT)(l.eventRange),className:"fc-daygrid-bg-harness",style:e},"bg-event"===t?(0,s.az)(r.cp,Object.assign({seg:l},(0,r.bS)(l,i))):(0,r.co)(t)))}return(0,s.az)(s.HY,{},...a)}updateSizing(e){let{props:t,state:n,frameElRefs:i}=this;if(!t.forPrint&&null!==t.clientWidth){if(e){let e=t.cells.map(e=>i.currentMap[e.key]);if(e.length){let t=this.rootElRef.current,i=new r.ba(t,e,!0,!1);n.framePositions&&n.framePositions.similarTo(i)||this.setState({framePositions:new r.ba(t,e,!0,!1)})}}let s=this.state.segHeights,o=this.querySegHeights(),a=!0===t.dayMaxEvents||!0===t.dayMaxEventRows;this.safeSetState({segHeights:Object.assign(Object.assign({},s),o),maxContentHeight:a?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,t={};for(let n in e){let i=Math.round(e[n].getBoundingClientRect().height);t[n]=Math.max(t[n]||0,i)}return t}computeMaxContentHeight(){let e=this.props.cells[0].key,t=this.cellElRefs.currentMap[e],n=this.fgElRefs.currentMap[e];return t.getBoundingClientRect().bottom-n.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(t=>e[t.key])}}R.addStateEquality({segHeights:r.E});class C extends r.be{constructor(){super(...arguments),this.splitBusinessHourSegs=(0,r.z)(o),this.splitBgEventSegs=(0,r.z)(o),this.splitFgEventSegs=(0,r.z)(o),this.splitDateSelectionSegs=(0,r.z)(o),this.splitEventDrag=(0,r.z)(l),this.splitEventResize=(0,r.z)(l),this.rowRefs=new r.cf}render(){let{props:e,context:t}=this,n=e.cells.length,i=this.splitBusinessHourSegs(e.businessHourSegs,n),o=this.splitBgEventSegs(e.bgEventSegs,n),a=this.splitFgEventSegs(e.fgEventSegs,n),l=this.splitDateSelectionSegs(e.dateSelectionSegs,n),c=this.splitEventDrag(e.eventDrag,n),u=this.splitEventResize(e.eventResize,n),d=n>=7&&e.clientWidth?e.clientWidth/t.options.aspectRatio/6:null;return(0,s.az)(r.ch,{unit:"day"},(t,r)=>(0,s.az)(s.HY,null,e.cells.map((t,h)=>(0,s.az)(R,{ref:this.rowRefs.createRef(h),key:t.length?t[0].date.toISOString():h,showDayNumbers:n>1,showWeekNumbers:e.showWeekNumbers,todayRange:r,dateProfile:e.dateProfile,cells:t,renderIntro:e.renderRowIntro,businessHourSegs:i[h],eventSelection:e.eventSelection,bgEventSegs:o[h].filter(E),fgEventSegs:a[h],dateSelectionSegs:l[h],eventDrag:c[h],eventResize:u[h],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:d,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){let e=this.rowRefs.currentMap[0].getCellEls()[0],t=e?e.closest(".fc-daygrid-body"):null;t&&(this.rootEl=t,this.context.registerInteractiveComponent(this,{el:t,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new r.ba(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new r.ba(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,t){let{colPositions:n,rowPositions:i}=this,r=n.leftToIndex(e),s=i.topToIndex(t);if(null!=s&&null!=r){let e=this.props.cells[s][r];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(s,r),allDay:!0},e.extraDateSpan),dayEl:this.getCellEl(s,r),rect:{left:n.lefts[r],right:n.rights[r],top:i.tops[s],bottom:i.bottoms[s]},layer:0}}return null}getCellEl(e,t){return this.rowRefs.currentMap[e].getCellEls()[t]}getCellRange(e,t){let n=this.props.cells[e][t].date;return{start:n,end:(0,r.t)(n,1)}}}function E(e){return e.eventRange.def.allDay}class T extends r.be{constructor(){super(...arguments),this.elRef=(0,s.Vf)(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:t,dayMaxEvents:n,expandRows:i}=e,r=!0===n||!0===t;r&&!i&&(r=!1,t=null,n=null);let o=["fc-daygrid-body",r?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",i?"":"fc-daygrid-body-natural"];return(0,s.az)("div",{ref:this.elRef,className:o.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},(0,s.az)("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:i?e.clientHeight:""}},e.colGroupNode,(0,s.az)("tbody",{role:"presentation"},(0,s.az)(C,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:n,dayMaxEventRows:t,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){var e,t;let n;let i=(e=this.elRef.current,(t=this.props.dateProfile).currentRangeUnit.match(/year|month/)&&(n=e.querySelector(`[data-date="${(0,r.bx)(t.currentDate)}-01"]`)),n||(n=e.querySelector(`[data-date="${(0,r.bv)(t.currentDate)}"]`)),n);if(i){let e=i.closest(".fc-daygrid-body"),t=e.closest(".fc-scroller"),n=i.getBoundingClientRect().top-e.getBoundingClientRect().top;t.scrollTop=n?n+1:0}this.needsScrollReset=!1}}}class k extends r.bW{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,t){return t.sliceRange(e)}}class x extends r.be{constructor(){super(...arguments),this.slicer=new k,this.tableRef=(0,s.Vf)()}render(){let{props:e,context:t}=this;return(0,s.az)(T,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,t,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class O extends r.U{buildRenderRange(e,t,n){let i=super.buildRenderRange(e,t,n),{props:s}=this;return function(e){let t,{dateEnv:n,currentRange:i}=e,{start:s,end:o}=i;if(e.snapToWeek&&(s=n.startOfWeek(s),(t=n.startOfWeek(o)).valueOf()!==o.valueOf()&&(o=(0,r.bh)(t,1))),e.fixedWeekCount){let e=n.startOfWeek(n.startOfMonth((0,r.t)(i.end,-1))),t=Math.ceil((0,r.bi)(e,o));o=(0,r.bh)(o,6-t)}return{start:s,end:o}}({currentRange:i,snapToWeek:/^(year|month)$/.test(t),fixedWeekCount:s.fixedWeekCount,dateEnv:s.dateEnv})}}class P extends r.be{constructor(){super(...arguments),this.headerElRef=(0,s.Vf)()}renderSimpleLayout(e,t){let{props:n,context:i}=this,o=[],a=(0,r.cc)(i.options);return e&&o.push({type:"header",key:"header",isSticky:a,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),o.push({type:"body",key:"body",liquid:!0,chunk:{content:t}}),(0,s.az)(r.ct,{elClasses:["fc-daygrid"],viewSpec:i.viewSpec},(0,s.az)(r.b$,{liquid:!n.isHeightAuto&&!n.forPrint,collapsibleWidth:n.forPrint,cols:[],sections:o}))}renderHScrollLayout(e,t,n,i){let o=this.context.pluginHooks.scrollGridImpl;if(!o)throw Error("No ScrollGrid implementation");let{props:a,context:l}=this,c=!a.forPrint&&(0,r.cc)(l.options),u=!a.forPrint&&(0,r.cb)(l.options),d=[];return e&&d.push({type:"header",key:"header",isSticky:c,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),d.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:t}]}),u&&d.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:r.ca}]}),(0,s.az)(r.ct,{elClasses:["fc-daygrid"],viewSpec:l.viewSpec},(0,s.az)(o,{liquid:!a.isHeightAuto&&!a.forPrint,forPrint:a.forPrint,collapsibleWidth:a.forPrint,colGroups:[{cols:[{span:n,minWidth:i}]}],sections:d}))}}function D(e,t){let n=new r.bO(e.renderRange,t);return new r.bV(n,/year|month|week/.test(e.currentRangeUnit))}var A=(0,i.rx)({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:class extends P{constructor(){super(...arguments),this.buildDayTableModel=(0,r.z)(D),this.headerRef=(0,s.Vf)(),this.tableRef=(0,s.Vf)()}render(){let{options:e,dateProfileGenerator:t}=this.context,{props:n}=this,i=this.buildDayTableModel(n.dateProfile,t),o=e.dayHeaders&&(0,s.az)(r.bK,{ref:this.headerRef,dateProfile:n.dateProfile,dates:i.headerDates,datesRepDistinctDays:1===i.rowCnt}),a=t=>(0,s.az)(x,{ref:this.tableRef,dateProfile:n.dateProfile,dayTableModel:i,businessHours:n.businessHours,dateSelection:n.dateSelection,eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:t.tableColGroupNode,tableMinWidth:t.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!n.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:n.forPrint});return e.dayMinWidth?this.renderHScrollLayout(o,a,i.colCnt,e.dayMinWidth):this.renderSimpleLayout(o,a)}},dateProfileGeneratorClass:O},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}})},6278:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var i=n(2265),r=n(4887),s=n(8982),o=n(8345);let a=parseInt(String(i.version).split(".")[0]),l=a<18;class c extends i.Component{constructor(){super(...arguments),this.elRef=(0,i.createRef)(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){let e=[];for(let t of this.state.customRenderingMap.values())e.push(i.createElement(u,{key:t.id,customRendering:t}));return i.createElement("div",{ref:this.elRef},e)}componentDidMount(){let e;let t=new o.cy;this.handleCustomRendering=t.handle.bind(t),this.calendar=new s.f(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),t.subscribe(t=>{let n=Date.now(),i=!e,s=l||i||this.isUpdating||this.isUnmounting||n-e<100?d:r.flushSync;s(()=>{this.setState({customRenderingMap:t},()=>{e=n,i?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){void 0!==this.resizeId&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}c.act=d;class u extends i.PureComponent{render(){let{customRendering:e}=this.props,{generatorMeta:t}=e,n="function"==typeof t?t(e.renderProps):t;return(0,r.createPortal)(n,e.containerEl)}}function d(e){e()}}}]);
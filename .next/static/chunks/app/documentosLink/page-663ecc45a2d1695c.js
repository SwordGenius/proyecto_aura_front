(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[859],{6463:function(e,n,t){Promise.resolve().then(t.bind(t,649))},7650:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"RouterContext",{enumerable:!0,get:function(){return c}});let s=t(1024),i=s._(t(2265)),c=i.default.createContext(null)},649:function(e,n,t){"use strict";t.r(n);var s=t(7437),i=t(2265);t(8908);var c=t(1396),o=t.n(c),r=t(6820),d=t.n(r),a=t(2173),l=t(4033);n.default=()=>{let[e,n]=(0,i.useState)(!0),[t,c]=(0,i.useState)(!1),[r,u]=(0,i.useState)(!1),[m,h]=(0,i.useState)([{id:0,documento_pdf:"",tipo_documento:""}]),[p,f]=(0,i.useState)([]),x=(0,l.useSearchParams)(),j=async()=>{try{let e=x.get("id"),n=await a.Z.get("http://50.16.134.143:3300/documentos?id="+e,{withCredentials:!0}),t=n.data.data;h(t)}catch(e){console.log(e)}};return((0,i.useEffect)(()=>{j(),setTimeout(()=>{n(!1)},1e3),r&&c(!0)},[m]),e)?(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"container-documentos",children:[(0,s.jsx)(o(),{href:"/contenidoClienteLink",className:"custom-button",children:"Regresar"}),(0,s.jsxs)("div",{className:"column-center",children:[(0,s.jsx)("div",{children:(0,s.jsx)("h3",{children:"Documentos"})}),(0,s.jsx)("div",{className:"pdf-section",children:(0,s.jsx)("div",{className:"loadingnoInfo",children:(0,s.jsx)("p",{children:"Cargando"})})})]})]})}):t?(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"container-home",children:[(0,s.jsx)(o(),{href:"/contenidoClienteLink",className:"custom-button",children:"Regresar"}),(0,s.jsxs)("div",{className:"column-center",children:[(0,s.jsx)("div",{children:(0,s.jsx)("h3",{children:"Documentos"})}),(0,s.jsx)("div",{className:"pdf-section",children:(0,s.jsx)("div",{className:"loadingnoInfo",children:(0,s.jsx)("p",{children:"No hay documentos disponible"})})})]})]})}):(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"container-home",children:[(0,s.jsx)(o(),{href:"/contenidoClienteLink",className:"custom-button",children:"Regresar"}),(0,s.jsxs)("div",{className:"column-center",children:[(0,s.jsx)("div",{children:(0,s.jsx)("h3",{children:"Documentos"})}),(0,s.jsxs)("div",{className:"pdf-section",children:[(0,s.jsx)("button",{onClick:()=>{d().fire({title:"Subir Documento",html:'<input type="file" id="fileInput" accept=".pdf" style="margin-bottom: 10px" /><input type="text" id="descripcionInput" placeholder="Ingrese una descripci\xf3n" style="margin-bottom: 10px" />',showCancelButton:!0,confirmButtonText:"Subir",cancelButtonText:"Cancelar",showLoaderOnConfirm:!0,preConfirm:()=>{let e=document.getElementById("fileInput"),n=document.getElementById("descripcionInput"),t=e.files[0],s=n.value;return new Promise(e=>{setTimeout(()=>{t&&s?e({file:t,descripcion:s}):d().showValidationMessage("Debes seleccionar un documento y proporcionar una descripci\xf3n")},1e3)})},allowOutsideClick:()=>!d().isLoading()}).then(e=>{if(e.isConfirmed){let{file:n,descripcion:t}=e.value;try{let e=new FormData;e.append("documento_pdf",n),e.append("tipo_documento",t),e.append("id_cliente",x.get("id")),a.Z.post("http://localhost:3300/documentos",e,{withCredentials:!0}).then(e=>{console.log(e)})}catch(e){d().fire("Error","No se pudo subir el documento","error")}d().fire("Documento subido con \xe9xito\nDescripci\xf3n: ".concat(t),"","success")}})},className:"btn-subir",children:"Subir Documento"}),(0,s.jsx)("div",{className:"pdf-grid",children:m.map((e,n)=>(0,s.jsx)(o(),{href:e.documento_pdf,children:(0,s.jsxs)("div",{className:"pdf-item",children:[(0,s.jsx)("img",{className:"img-pdf",src:"/pdf.png",alt:"pdf-image"}),(0,s.jsx)("p",{children:e.tipo_documento})]},n)},n))})]})]})]})})}},8908:function(){}},function(e){e.O(0,[630,340,396,971,864,744],function(){return e(e.s=6463)}),_N_E=e.O()}]);